function ScriptManager() { }
ScriptManager.listeners = []; ScriptManager.dependencies = {}; ScriptManager.on = (dependencies, callback) => {
    if (__site.debug === true) { dependencies.forEach((dependency) => { setTimeout(() => { if (!ScriptManager.dependencies[dependency]) { console.warn('The dependency "' + dependency + '" is needed but doesn\'t seem to load. You may have forgotten to enqueue the file or done a typo in the dependency name.'); } }, 5000); }); }
    return new Promise((resolve) => {
        const listener = {
            dependencies, callback: (classes) => {
                if (typeof callback === 'function') { callback(classes); }
                resolve(classes);
            },
        }; if (ScriptManager.areDependenciesLoaded(dependencies)) { return ScriptManager.executeListener(listener); }
        ScriptManager.listeners.push(listener);
    });
}; ScriptManager.loaded = (name, classDef, options = {}) => {
    if (name instanceof Array) { options.aliases = name; name = name[0]; }
    if (ScriptManager.dependencies[name]) { return; }
    ScriptManager.dependencies[name] = { classDef, aliases: options.aliases || [name], }; ScriptManager.checkListeners();
}; ScriptManager.areDependenciesLoaded = (dependencies) => { return dependencies.every((dependencyName) => { return !!ScriptManager.dependencies[dependencyName]; }); }; ScriptManager.checkListeners = () => { ScriptManager.listeners.forEach((listener, i) => { if (ScriptManager.areDependenciesLoaded(listener.dependencies)) { ScriptManager.listeners[i] = null; ScriptManager.executeListener(listener); } }); ScriptManager.listeners = ScriptManager.listeners.filter((a) => a); }; ScriptManager.executeListener = (listener) => { const dependencyClasses = {}; listener.dependencies.forEach((name) => { const dependency = ScriptManager.dependencies[name]; dependency.aliases.forEach((alias) => { dependencyClasses[alias] = dependency.classDef; }); }); setTimeout(() => listener.callback(dependencyClasses)); }; window.addEventListener('DOMContentLoaded', () => { ScriptManager.loaded('@DOMContentLoaded'); });
window.addComment = (function (window) {
    var document = window.document; var config = { commentReplyClass: 'comment-reply-link', commentReplyTitleId: 'reply-title', cancelReplyId: 'cancel-comment-reply-link', commentFormId: 'commentform', temporaryFormId: 'wp-temp-form-div', parentIdFieldId: 'comment_parent', postIdFieldId: 'comment_post_ID' }; var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; var cutsTheMustard = 'querySelector' in document && 'addEventListener' in window; var supportsDataset = !!document.documentElement.dataset; var cancelElement; var commentFormElement; var respondElement; var observer; if (cutsTheMustard && document.readyState !== 'loading') { ready(); } else if (cutsTheMustard) { window.addEventListener('DOMContentLoaded', ready, false); }
    function ready() { init(); observeChanges(); }
    function init(context) {
        if (!cutsTheMustard) { return; }
        cancelElement = getElementById(config.cancelReplyId); commentFormElement = getElementById(config.commentFormId); if (!cancelElement) { return; }
        cancelElement.addEventListener('touchstart', cancelEvent); cancelElement.addEventListener('click', cancelEvent); var submitFormHandler = function (e) { if ((e.metaKey || e.ctrlKey) && e.keyCode === 13) { commentFormElement.removeEventListener('keydown', submitFormHandler); e.preventDefault(); commentFormElement.submit.click(); return false; } }; if (commentFormElement) { commentFormElement.addEventListener('keydown', submitFormHandler); }
        var links = replyLinks(context); var element; for (var i = 0, l = links.length; i < l; i++) { element = links[i]; element.addEventListener('touchstart', clickEvent); element.addEventListener('click', clickEvent); }
    }
    function replyLinks(context) {
        var selectorClass = config.commentReplyClass; var allReplyLinks; if (!context || !context.childNodes) { context = document; }
        if (document.getElementsByClassName) { allReplyLinks = context.getElementsByClassName(selectorClass); }
        else { allReplyLinks = context.querySelectorAll('.' + selectorClass); }
        return allReplyLinks;
    }
    function cancelEvent(event) {
        var cancelLink = this; var temporaryFormId = config.temporaryFormId; var temporaryElement = getElementById(temporaryFormId); if (!temporaryElement || !respondElement) { return; }
        getElementById(config.parentIdFieldId).value = '0'; var headingText = temporaryElement.textContent; temporaryElement.parentNode.replaceChild(respondElement, temporaryElement); cancelLink.style.display = 'none'; var replyHeadingElement = getElementById(config.commentReplyTitleId); var replyHeadingTextNode = replyHeadingElement && replyHeadingElement.firstChild; var replyLinkToParent = replyHeadingTextNode && replyHeadingTextNode.nextSibling; if (replyHeadingTextNode && replyHeadingTextNode.nodeType === Node.TEXT_NODE && headingText) {
            if (replyLinkToParent && 'A' === replyLinkToParent.nodeName && replyLinkToParent.id !== config.cancelReplyId) { replyLinkToParent.style.display = ''; }
            replyHeadingTextNode.textContent = headingText;
        }
        event.preventDefault();
    }
    function clickEvent(event) {
        var replyNode = getElementById(config.commentReplyTitleId); var defaultReplyHeading = replyNode && replyNode.firstChild.textContent; var replyLink = this, commId = getDataAttribute(replyLink, 'belowelement'), parentId = getDataAttribute(replyLink, 'commentid'), respondId = getDataAttribute(replyLink, 'respondelement'), postId = getDataAttribute(replyLink, 'postid'), replyTo = getDataAttribute(replyLink, 'replyto') || defaultReplyHeading, follow; if (!commId || !parentId || !respondId || !postId) { return; }
        follow = window.addComment.moveForm(commId, parentId, respondId, postId, replyTo); if (false === follow) { event.preventDefault(); }
    }
    function observeChanges() {
        if (!MutationObserver) { return; }
        var observerOptions = { childList: true, subtree: true }; observer = new MutationObserver(handleChanges); observer.observe(document.body, observerOptions);
    }
    function handleChanges(mutationRecords) { var i = mutationRecords.length; while (i--) { if (mutationRecords[i].addedNodes.length) { init(); return; } } }
    function getDataAttribute(element, attribute) {
        if (supportsDataset) { return element.dataset[attribute]; }
        else { return element.getAttribute('data-' + attribute); }
    }
    function getElementById(elementId) { return document.getElementById(elementId); }
    function moveForm(addBelowId, commentId, respondId, postId, replyTo) {
        var addBelowElement = getElementById(addBelowId); respondElement = getElementById(respondId); var parentIdField = getElementById(config.parentIdFieldId); var postIdField = getElementById(config.postIdFieldId); var element, cssHidden, style; var replyHeading = getElementById(config.commentReplyTitleId); var replyHeadingTextNode = replyHeading && replyHeading.firstChild; var replyLinkToParent = replyHeadingTextNode && replyHeadingTextNode.nextSibling; if (!addBelowElement || !respondElement || !parentIdField) { return; }
        if ('undefined' === typeof replyTo) { replyTo = replyHeadingTextNode && replyHeadingTextNode.textContent; }
        addPlaceHolder(respondElement); if (postId && postIdField) { postIdField.value = postId; }
        parentIdField.value = commentId; cancelElement.style.display = ''; addBelowElement.parentNode.insertBefore(respondElement, addBelowElement.nextSibling); if (replyHeadingTextNode && replyHeadingTextNode.nodeType === Node.TEXT_NODE) {
            if (replyLinkToParent && 'A' === replyLinkToParent.nodeName && replyLinkToParent.id !== config.cancelReplyId) { replyLinkToParent.style.display = 'none'; }
            replyHeadingTextNode.textContent = replyTo;
        }
        cancelElement.onclick = function () { return false; }; try {
            for (var i = 0; i < commentFormElement.elements.length; i++) {
                element = commentFormElement.elements[i]; cssHidden = false; if ('getComputedStyle' in window) { style = window.getComputedStyle(element); } else if (document.documentElement.currentStyle) { style = element.currentStyle; }
                if ((element.offsetWidth <= 0 && element.offsetHeight <= 0) || style.visibility === 'hidden') { cssHidden = true; }
                if ('hidden' === element.type || element.disabled || cssHidden) { continue; }
                element.focus(); break;
            }
        }
        catch (e) { }
        return false;
    }
    function addPlaceHolder(respondElement) {
        var temporaryFormId = config.temporaryFormId; var temporaryElement = getElementById(temporaryFormId); var replyElement = getElementById(config.commentReplyTitleId); var initialHeadingText = replyElement ? replyElement.firstChild.textContent : ''; if (temporaryElement) { return; }
        temporaryElement = document.createElement('div'); temporaryElement.id = temporaryFormId; temporaryElement.style.display = 'none'; temporaryElement.textContent = initialHeadingText; respondElement.parentNode.insertBefore(temporaryElement, respondElement);
    }
    return { init: init, moveForm: moveForm };
})(window);
jQuery(function ($) {
    function setCookie() { document.cookie = rdbTrans.cookieName + '=1; path=/;max-age=' + 365 * 24 * 60 * 60 + ';'; }
    if (document.cookie.indexOf(rdbTrans.cookieName + '=1') !== -1) { return; }
    setCookie(); $.post({ url: __site.ajaxUrl + '?action=' + rdbTrans.ajaxActionName, }).done(function (response) {
        if (!response) { return; }
        $(document.body).append(response); $('[data-rdb-close]').click(function (e) { e.preventDefault(); $('[data-rdb]').remove(); });
    });
});
ScriptManager.on(['@DOMContentLoaded', 'OfferList', 'OfferFilters', 'OfferFiltersModal', 'OfferFiltersHistory', 'FeeManager',], ({ OfferList, OfferFilters, OfferFiltersModal, OfferFiltersHistory, FeeManager }) => {
    class OffersPage {
        constructor() { this.fees = new FeeManager(); }
        async bind() { const offerData = await this.fetchOffers(window.productId, __site.currency, window.wantedRegion, window.moreQ); this.merchants = offerData.merchants; this.regions = offerData.regions; this.editions = offerData.editions; this.rawOffers = offerData.offers.map(this.setOfferFees.bind(this)); this.rawOffers.forEach((offer) => offer.price[__site.currency].finalPrice = offer.price[__site.currency].price); this.offers = new OfferList(this.rawOffers, this.fees); this.filters = new OfferFilters(offerData.offers); this.filters.filtersChanged.add(({ filters }) => this.offers.filterOffers(filters)); this.filterHistory = new OfferFiltersHistory(this.filters); this.showFilterModalIfNeeded(); this.bindShowFiltersModalButton(); this.filters.onSelectrChanged(); }
        async fetchOffers(productId, currency, region, moreQ) { const response = await fetch(`${__site.ajaxUrl}?action=get_offers&product=${productId}&currency=${currency}&region=${region}&moreq=${moreQ}&use_beta_offers_display=1`); const data = await response.json(); return data; }
        bindShowFiltersModalButton() { const showFiltersModalBtn = document.getElementById('showOffersFilterModal'); if (showFiltersModalBtn) { showFiltersModalBtn.addEventListener('click', (e) => { e.preventDefault(); this.showFilterModal(); }); } }
        shouldShowFilterModal() {
            if (!window.showOfferFilterModal) { return false; }
            const dontShowTime = localStorage.getItem('aks.offerFilterModal.dontShowAgain'); if (dontShowTime !== null) {
                const now = parseInt(Date.now() / 1000); if (now - dontShowTime < 86400 * 7) { return false; }
                localStorage.removeItem('aks.offerFilterModal.dontShowAgain');
            }
            return true;
        }
        showFilterModalIfNeeded() { const params = new URL(window.location.href).searchParams; if (params.has('regions') || params.has('editions')) { this.filters.updateValues({ regions: (params.get('regions') || '').split(','), editions: (params.get('editions') || '').split(','), }); } else if (this.shouldShowFilterModal()) { this.showFilterModal(); } }
        showFilterModal() {
            if (!this.filterModal) { this.filterModal = new OfferFiltersModal(this.rawOffers, ({ regions, editions }) => { this.filters.updateValues({ regions, editions }); this.filters.onSelectrChanged(); }); }
            this.filterModal.show();
        }
        setOfferFees(offer) { offer.fees = {};['paypal', 'card', 'shield'].forEach((type) => { offer.fees[type] = (type === 'shield') ? this.fees.getShieldPrice(offer.price[__site.currency].price, offer.merchant, __site.currency) : this.fees.getFees(offer.price[__site.currency].price, offer.merchant, type); }); return offer; }
    }
    window.offersPage = new OffersPage(); window.offersPage.bind();
}); function copyCoupon(e) { var code = e.previousSibling; var selection = window.getSelection(); var range = document.createRange(); range.selectNodeContents(code); selection.removeAllRanges(); selection.addRange(range); document.execCommand("copy"); };
(() => {
    class OfferComponent {
        constructor(offer) { this.offer = offer; this.renderedElement = null; }
        render() {
            if (!this.renderedElement) {
                const merchant = window.offersPage.merchants[this.offer.merchant]; const edition = window.offersPage.editions[this.offer.edition]; const region = window.offersPage.regions[this.offer.region]; const template = document.getElementById('aks_offer_template'); const html = document.importNode(template.content, true); this.renderedElement = html.firstElementChild; const links = { 'www.allkeyshop.com': 'link', 'www.allkeyshop.ru': 'link', 'www.clavecd.es': 'clavecd', 'www.goclecd.fr': 'goclecd', 'www.keyforsteam.de': 'keyforsteam', 'www.cdkeypt.pt': 'link', 'www.cdkeynl.nl': 'link', 'www.cdkeyit.it': 'link', 'cheapdigitaldownload.com': 'cdd', }; const host = window.location.host; let offerUrl = (__site.currency === 'gbp' || host === 'www.clavecd.es') ? `https://click.allkeyshop.com/offer/${__site.currency}/${this.offer.id}?locale=${__site.i18n.locale.replace('-', '_')}&merchant=${merchant.id}&apiKey=aks` : `https://${host}/outgoinglink/${links[host]}/${this.offer.id}?merchant=${merchant.id}`; const row = html.querySelector('.x-offer'); row.dataset.merchantId = merchant?.id; row.dataset.editionId = edition?.id; html.querySelector('.x-offer-merchant-name').innerText = merchant.name; html.querySelector('.x-offer-merchant-title').title = merchant.name; html.querySelector('.x-offer-edition-region-names').innerHTML = edition.name + '<br>' + region.name; html.querySelector('.x-offer-merchant-link').href = merchant.reviewUrl; html.querySelector('.x-offer-merchant-rating').style.width = Math.round(merchant.aggregateRating.value * 12) + 'px'; html.querySelector('.x-offer-merchant-logo').classList.add('store-16-' + merchant.logoSlug); const merchantReviewCount = merchant.aggregateRating.count; const merchantReviewElems = { none: html.querySelector('.x-offer-merchant-review-count-none'), noneValue: html.querySelector('.x-offer-merchant-review-count-none-value'), single: html.querySelector('.x-offer-merchant-review-count-single'), singleValue: html.querySelector('.x-offer-merchant-review-count-single-value'), multiple: html.querySelector('.x-offer-merchant-review-count-multiple'), multipleValue: html.querySelector('.x-offer-merchant-review-count-multiple-value'), }; switch (merchantReviewCount) { case 0: merchantReviewElems.noneValue.innerText = merchantReviewCount; merchantReviewElems.single.remove(); merchantReviewElems.multiple.remove(); break; case 1: merchantReviewElems.singleValue.innerText = merchantReviewCount; merchantReviewElems.none.remove(); merchantReviewElems.multiple.remove(); break; default: merchantReviewElems.multipleValue.innerText = merchantReviewCount; merchantReviewElems.none.remove(); merchantReviewElems.single.remove(); }
                const regionTitle = document.getElementById('region-' + region.id); if (regionTitle) { new bootstrap.Tooltip(html.querySelector('.x-offer-region'), { html: true, trigger: 'click', title: regionTitle.innerHTML || '', }); }
                html.querySelector('.x-offer-platform-logo').classList.add('sprite-30-' + this.offer.platform); html.querySelector('.x-offer-region-name').innerText = region.name; const editionTitle = document.getElementById('edition-' + edition.id); if (editionTitle) { new bootstrap.Tooltip(html.querySelector('.x-offer-edition'), { html: true, trigger: 'click', title: editionTitle.innerHTML || '', }); }
                html.querySelector('.x-offer-edition-name').innerText = edition.name; const hasCoupon = html.querySelector('.x-offer-has-coupon'); const hasNotCoupon = html.querySelector('.x-offer-has-not-coupon'); const price = this.offer.price[__site.currency]; if (price.price > 0 && price.bestCoupon) {
                    hasNotCoupon.remove(); const couponCode = html.querySelector('.x-offer-coupon-code'); const couponValue = html.querySelector('.x-offer-coupon-value'); const couponText = price.bestCoupon.code.split(':'); if (typeof couponText[1] !== 'undefined') { couponCode.innerText = couponText[1].trim(); couponCode.title = couponText[1].trim(); } else { couponCode.innerText = couponText[0].trim(); couponCode.title = couponText[0].trim(); }
                    if (price.bestCoupon.discountValue > 0) { couponValue.innerText = '-' + Math.trunc(price.bestCoupon.discountValue) + price.bestCoupon.discountStrategy; }
                    const isCashback = price.bestCoupon.isCashback; if (isCashback) { html.querySelector('.x-offer-is-not-cashback').remove(); } else { html.querySelector('.x-offer-price-without-coupon').innerText = __site.i18n.formatPrice(price.priceWithoutCoupon); }
                } else { hasCoupon.remove(); }
                ['paypal', 'card', 'shield'].forEach((type) => { const element = html.querySelector('.x-offer-fee-' + type); if (this.offer.fees[type] > 0) { element.innerText = '+' + __site.i18n.formatPrice(this.offer.fees[type]); } else { element.classList.add('offer-fee-none'); } }); this.renderPrice(); html.querySelectorAll('.x-offer-buy-btn').forEach((element) => {
                    if (this.offer.stock !== 'InStock') { element.classList.add('buy-btn-out'); }
                    element.href = offerUrl;
                }); if (this.offer.stock !== 'OutOfStock') { html.querySelector('.x-offer-buy-btn-out-of-stock').remove(); } else { html.querySelector('.x-offer-buy-btn-in-stock').remove(); }
                html.querySelectorAll('.x-tooltip').forEach((element) => { new bootstrap.Tooltip(element); });
            }
            return this.renderedElement;
        }
        renderPrice() {
            if (!this.renderedElement) { return; }
            this.renderedElement.querySelectorAll('.x-offer-price').forEach((element) => { switch (this.offer.price[__site.currency].finalPrice) { case null: element.innerText = window.offerComponentTrans.tba; break; case 0: element.innerText = window.offerComponentTrans.free; break; default: element.innerText = __site.i18n.formatPrice(this.offer.price[__site.currency].finalPrice); } });
        }
    }
    ScriptManager.loaded('OfferComponent', OfferComponent);
})();
ScriptManager.on(['OfferComponent'], ({ OfferComponent }) => {
    class OfferList {
        constructor(offers, fees) { this.fees = fees; this.ui = { offerContainer: document.getElementById('offers_table'), revealAllBtn: document.getElementById('reveal_all_offers'), revealMoreBtn: document.getElementById('reveal_more_offers'), offersLoader: document.getElementById('offers_loader'), noOffers: document.getElementById('no_offers'), }; this.ui.revealAllBtn.addEventListener('click', (e) => { e.preventDefault(); this.revealAllOffers(); }); this.ui.revealMoreBtn.addEventListener('click', (e) => { e.preventDefault(); this.revealMoreOffers(); }); this.offers = this.removeUnwantedOffers(offers).map((offer) => new OfferComponent(offer)); this.displayedOffers = this.offers; this.displayedOffersStep = 10; this.displayedOffersCount = 10; }
        render() {
            this.ui.offersLoader.remove(); Array.from(this.ui.offerContainer.children).forEach((child) => { if (child.id !== 'offers_table_head') { child.remove(); } }); if (this.offers.length > 0) {
                const max = Math.min(this.displayedOffersCount, this.displayedOffers.length); for (let i = 0; i < max; ++i) { const element = this.displayedOffers[i].render(); this.ui.offerContainer.appendChild(element); }
                if (this.displayedOffersCount < this.displayedOffers.length) { this.ui.revealAllBtn.style.display = 'inline-block'; this.ui.revealMoreBtn.style.display = 'inline-block'; } else { this.ui.revealAllBtn.style.display = 'none'; this.ui.revealMoreBtn.style.display = 'none'; }
            } else { this.ui.noOffers.style.display = 'block'; }
        }
        removeUnwantedOffers(offers) {
            offers = offers.filter((offer) => offer.isActive); let availableCount = offers.filter((offer) => offer.stock !== 'OutOfStock').length; if (availableCount >= 5) { offers = offers.filter((offer) => offer.stock !== 'OutOfStock'); }
            return offers;
        }
        filterOffers(filters) {
            this.displayedOffers = this.offers.filter((offer) => { return this.shouldShowOffer(offer.offer, filters) }); this.processFinalPrices(this.displayedOffers, filters); this.displayedOffers.sort((a, b) => {
                if (a.offer.stock === 'InStock' && b.offer.stock !== 'InStock') { return -1; }
                if (a.offer.stock !== 'InStock' && b.offer.stock === 'InStock') { return 1; }
                return a.offer.price[__site.currency].finalPrice - b.offer.price[__site.currency].finalPrice;
            }); this.render();
        }
        processFinalPrices(offers, filters) {
            this.displayedOffers.forEach((offerComp) => {
                const offer = offerComp.offer; const price = offer.price[__site.currency]; price.finalPrice = price.price; if (price.finalPrice !== null) {
                    if (filters.includeShield && offer.fees.shield) { price.finalPrice += offer.fees.shield; }
                    if (filters.includeCardFee && offer.fees.card) { price.finalPrice += offer.fees.card; }
                    if (filters.includePaypalFee && offer.fees.paypal) { price.finalPrice += offer.fees.paypal; }
                    if (filters.vatCoef) { price.finalPrice += this.fees.getVatFee(price.finalPrice, offer.merchant, filters.vatCoef, filters.excludeVatFromLaxShops) || 0; }
                }
                offerComp.renderPrice(price);
            });
        }
        shouldShowOffer(offer, filters) {
            if (filters.regions.length > 0 && !filters.regions.includes(offer.region)) { return false; }
            if (filters.editions.length > 0 && !filters.editions.includes(offer.edition)) { return false; }
            if (filters.officialStoresOnly && !window.offersPage.merchants[offer.merchant].types.includes('Official Store')) { return false; }
            return true;
        }
        revealAllOffers() { this.setDisplayedOffersCount(this.offers.length); }
        revealMoreOffers() { this.setDisplayedOffersCount(this.displayedOffersCount + this.displayedOffersStep); }
        setDisplayedOffersCount(count) { this.displayedOffersCount = count; this.render(); }
    }
    ScriptManager.loaded('OfferList', OfferList);
});
(() => {
    class OfferFiltersHistory {
        constructor(filters) { this.filters = filters; this.url = new URL(window.location.href); this.enableStatePushing = true; this.filters.filtersChanged.add(this.onFiltersChanged.bind(this)); window.onpopstate = this.onHistoryPop.bind(this); }
        onFiltersChanged({ filters }) {
            if (!this.enableStatePushing) { return; }
            const params = { regions: filters.regions, editions: filters.editions, }; for (const name in params) { if (params[name].length > 0) { this.url.searchParams.set(name, params[name].join(',')); } else { this.url.searchParams.delete(name); } }
            history.pushState(params, window.title, this.url.toString());
        }
        onHistoryPop(e) { const editions = (typeof e.state === 'object' && e.state.editions) ? e.state.editions : []; const regions = (typeof e.state === 'object' && e.state.regions) ? e.state.regions : []; this.filters.updateValues({ editions, regions }); this.enableStatePushing = false; this.filters.onSelectrChanged(); this.enableStatePushing = true; }
    }
    ScriptManager.loaded('OfferFiltersHistory', OfferFiltersHistory);
})();
(() => {
    class OfferFiltersModal {
            constructor(offers, onSubmit) { this.onSubmit = onSubmit; const modalElement = document.getElementById('offersFilterModal'); this.ui = { modal: new bootstrap.Modal(modalElement), form: document.getElementById('offersFilterModalForm'), skipBtn: document.getElementById('offersFilterModalSkip'), }; this.ui.regionsSelectr = this.initSelect(this.ui.form.regions, priceFiltersTrans.regions, this.onRegionChanged.bind(this)); this.ui.currenciesSelectr = this.initSelect(this.ui.form.currencies, priceFiltersTrans.currencies); this.ui.amountsSelectr = this.initSelect(this.ui.form.amounts, priceFiltersTrans.amounts); this.ui.form.addEventListener('submit', this.onFormSubmit.bind(this)); this.ui.skipBtn.addEventListener('click', this.hide.bind(this)); this.computeOffersData(offers); this.onRegionChanged(); }
        initSelect(target, placeholder, onChange) {
            const selectr = new Selectr(target, { searchable: false, clearable: true, placeholder: placeholder, }); if (onChange) { selectr.on('selectr.change', onChange); }
            return selectr;
        }
        show() { this.ui.modal.show(); }
        hide() {
            if (this.ui.form.dontShowAgain.checked) { localStorage.setItem('aks.offerFilterModal.dontShowAgain', parseInt(Date.now() / 1000)); }
            this.ui.modal.hide();
        }
        onRegionChanged() { const regions = this.ui.regionsSelectr.getValue(); if (regions.length > 0) { let currencies = []; let amounts = []; regions.forEach((regionId) => { currencies = currencies.concat(this.currenciesByRegion[regionId] || []); const editions = this.editionsByRegion[regionId] || []; editions.forEach((editionId) => { amounts = amounts.concat(this.amountsByEdition[editionId] || []); }); }); this.updateSelectrOptions(this.ui.currenciesSelectr, currencies); this.updateSelectrOptions(this.ui.amountsSelectr, amounts); } else { this.addAllCurrencies(); this.addAllAmounts(); } }
        addAllCurrencies() { const currencies = [].concat.apply([], Object.values(this.currenciesByRegion)); this.updateSelectrOptions(this.ui.currenciesSelectr, currencies); }
        addAllAmounts() { const amounts = [].concat.apply([], Object.values(this.amountsByEdition)); this.updateSelectrOptions(this.ui.amountsSelectr, amounts); }
        updateSelectrOptions(selectr, values) {
            values = values.filter((currency, i) => { return (values.indexOf(currency) === i); }); values.sort((a, b) => {
                if (!isNaN(a) && !isNaN(b)) { return a - b; }
                return a.localeCompare(b);
            }); const selectedCurrencies = selectr.getValue(); selectr.removeAll(); values.forEach((value) => this.addSelectrOption(selectr, value)); selectr.setValue(selectedCurrencies);
        }
        addSelectrOption(selectr, value) { selectr.add({ value: value, text: value, }); }
        computeOffersData(offers) {
            this.editionsByCurrency = {}; this.currenciesByRegion = {}; this.amountsByEdition = {}; this.editionsByRegion = {}; this.editionsByAmount = {}; offers.forEach((offer) => {
                const editionId = offer.edition; const regionId = offer.region; const label = (window.offersTrans.editions[editionId] || '').trim(); if (!this.editionsByRegion[regionId]) { this.editionsByRegion[regionId] = []; }
                if (!this.editionsByRegion[regionId].includes(editionId)) { this.editionsByRegion[regionId].push(editionId); }
                if (!label) { return; }
                const parts = label.split(' '); if (parts.length < 3) { return; }
                const currency = parts[parts.length - 1]; if (!currency) { return; }
                if (!this.currenciesByRegion[regionId]) { this.currenciesByRegion[regionId] = []; }
                const currencies = this.currenciesByRegion[regionId]; if (!currencies.includes(currency)) { currencies.push(currency); }
                if (!this.editionsByCurrency[currency]) { this.editionsByCurrency[currency] = []; }
                if (!this.editionsByCurrency[currency].includes(editionId)) { this.editionsByCurrency[currency].push(editionId); }
                let amount = parts[parts.length - 2]; if (amount === parseInt(amount).toString()) { amount = parseInt(amount); }
                if (!amount) { return; }
                if (!this.amountsByEdition[editionId]) { this.amountsByEdition[editionId] = []; }
                if (!this.amountsByEdition[editionId].includes(amount)) { this.amountsByEdition[editionId].push(amount); }
                if (!this.editionsByAmount[amount]) { this.editionsByAmount[amount] = []; }
                if (!this.editionsByAmount[amount].includes(editionId)) { this.editionsByAmount[amount].push(editionId); }
            });
        }
        onFormSubmit(e) {
            e.preventDefault(); this.hide(); const currenciesEditions = []; this.ui.currenciesSelectr.getValue().forEach((currency) => { const editions = this.editionsByCurrency[currency] || []; editions.forEach((edition) => currenciesEditions.push(edition)); }); const selectedAmounts = this.ui.amountsSelectr.getValue(); let selectedEditions = []; if (selectedAmounts.length > 0) { selectedAmounts.forEach((amount) => { const editions = this.editionsByAmount[amount] || []; editions.forEach((editionId) => { if (currenciesEditions.length === 0 || currenciesEditions.includes(editionId)) { selectedEditions.push(editionId); } }); }); } else { selectedEditions = currenciesEditions; }
            this.onSubmit({ regions: this.ui.regionsSelectr.getValue(), editions: selectedEditions, });
        }
    }
    ScriptManager.loaded('OfferFiltersModal', OfferFiltersModal);
})();
(() => {
    class FeeManager {
        constructor() { this.fees = get_payment_fees(); this.shields = get_buyer_shields(); this.vatPolicies = get_vat_policies(); }
        getShieldPrice(price, merchant, currency) {
            currency = currency.toUpperCase(); if (typeof this.shields[merchant] === "undefined" || typeof this.shields[merchant][currency] === "undefined") { return null; }
            var thresholds = this.shields[merchant][currency]; if (typeof thresholds === "number") { return thresholds; }
            for (var threshold in thresholds) { if (price < threshold) { var variableRate = thresholds[threshold].a; var fixedRate = thresholds[threshold].b; return (price * variableRate) - price + fixedRate; } }
            return 0;
        }
        getFees(price, merchant, payment) {
            if (typeof this.fees[merchant] === "undefined" || typeof this.fees[merchant][payment] === "undefined") { return null; }
            var thresholds = this.fees[merchant][payment]; for (var threshold in thresholds) { if (price < threshold) { var variableRate = thresholds[threshold].a; var fixedRate = thresholds[threshold].b; return (price * variableRate) - price + fixedRate; } }
            return 0;
        }
        getVatFee(price, merchant, wantedVatCoef, excludeVatFromLaxShops) {
            var vatCoef = 1; if (typeof this.vatPolicies[merchant] !== "undefined") { if (typeof this.vatPolicies[merchant].fixed !== "undefined") { vatCoef = this.vatPolicies[merchant].fixed; } else if (this.vatPolicies[merchant].included) { vatCoef = 1.0; } else if (this.vatPolicies[merchant].detected) { vatCoef = wantedVatCoef; } else if (this.vatPolicies[merchant].selected && excludeVatFromLaxShops) { vatCoef = 1.0; } else if (this.vatPolicies[merchant].selected && !excludeVatFromLaxShops) { vatCoef = wantedVatCoef; } else if (this.vatPolicies[merchant].excluded) { vatCoef = 1.0; } else if (this.vatPolicies[merchant].default) { vatCoef = 1.0; } else if (this.vatPolicies[merchant].none) { vatCoef = 1.0; } else { vatCoef = 1.0; } }
            return (price * vatCoef) - price;
        }
    }
    ScriptManager.loaded('FeeManager', FeeManager);
})();
(() => {
    class OfferFilters {
        constructor(offers) { this.ui = { form: document.getElementById('offer_filters_form'), }; this.offers = offers; this.filtersChanged = new AksEvent(); this.triggeringEvent = false; this.changingFilters = false; this.editionsSelectr = null; this.regionsSelectr = null; this.bind(); this.prevSelectedRegions = this.regionsSelectr.getValue().join(','); this.update({ target: this.ui.form, }); }
        bind() { this.ui.form.querySelectorAll('input:not([type="checkbox"]), select, textarea').forEach((element) => { element.addEventListener('input', this.update.bind(this)); }); this.ui.form.querySelectorAll('input[type="checkbox"]').forEach((element) => { element.addEventListener('change', this.update.bind(this)); }); this.editionsSelectr = this.initSelect(this.ui.form.editions, priceFiltersTrans.editions); this.regionsSelectr = this.initSelect(this.ui.form.regions, priceFiltersTrans.regions); }
        initSelect(target, placeholder) { const selectr = new Selectr(target, { searchable: false, clearable: true, placeholder: placeholder, customClass: 'no-tags', }); selectr.on('selectr.change', () => { this.onSelectrChanged(); }); return selectr; }
        onSelectrChanged() {
            if (this.changingFilters) { return; }
            this.changingFilters = true; this.filterEditionSelectr(); this.triggerEvent(); this.changingFilters = false;
        }
        filterEditionSelectr() {
            const regions = this.regionsSelectr.getValue(); const serializedRegions = regions.join(','); if (serializedRegions === this.prevSelectedRegions) { return; }
            this.prevSelectedRegions = serializedRegions; const options = {}; this.offers.forEach((offer) => {
                if (regions.length > 0 && !regions.includes(offer.region)) { return; }
                options[offer.edition] = window.offersTrans.editions[offer.edition] || offer.edition;
            }); this.updateSelectrOptions(this.editionsSelectr, options);
        }
        updateValues(values) { this.changingFilters = true; this.editionsSelectr.setValue(this.editionsSelectr.getValue()); this.editionsSelectr.setValue(values.editions || []); this.regionsSelectr.setValue(this.regionsSelectr.getValue()); this.regionsSelectr.setValue(values.regions || []); this.changingFilters = false; }
        triggerEvent() {
            if (this.triggeringEvent) { return; }
            this.triggeringEvent = true; this.update({ target: this.ui.form, }); this.triggeringEvent = false;
        }
        update(e) { const form = e.target.closest('form'); const fd = new FormData(form); this.filtersChanged.trigger({ filters: { editions: fd.getAll('editions'), regions: fd.getAll('regions'), officialStoresOnly: (fd.get('official-stores-only') === 'on'), includeShield: (fd.get('include-shield') === 'on'), vatCoef: +fd.get('vat-coef'), excludeVatFromLaxShops: (fd.get('exclude-vat-from-lax-shops') === 'on'), includeNoFee: (fd.get('no-fees') === 'on'), includeCardFee: (fd.get('card-fees') === 'on'), includePaypalFee: (fd.get('paypal-fees') === 'on') }, }); }
        updateSelectrOptions(selectr, options) {
            const reversedOptions = {}; for (const value in options) { reversedOptions[options[value]] = value; }
            let texts = Object.keys(reversedOptions); texts = texts.filter((currency, i) => { return (texts.indexOf(currency) === i); }); texts.sort(); const selectedCurrencies = selectr.getValue(); selectr.removeAll(); texts.forEach((text) => this.addSelectrOption(selectr, reversedOptions[text], text)); selectr.setValue(selectedCurrencies);
        }
        addSelectrOption(selectr, value, text) { selectr.add({ value, text }); }
    }
    ScriptManager.loaded('OfferFilters', OfferFilters);
})(); function MutExChkList(chk) {
    var chkList = chk.parentNode.parentNode.parentNode; var chks = chkList.getElementsByClassName("filters-fees"); for (var i = 0; i < chks.length; i++) {
        if (chks[i] != chk && chk.checked) { chks[i].checked = false; }
    }
}
function moreFilters() { var moreFiltersDiv = document.getElementById('filters-more'); if (moreFiltersDiv.style.display === "none") { moreFiltersDiv.style.display = "block"; } else { moreFiltersDiv.style.display = "none"; } };
jQuery($ => { let $tagsSection = $('#app-tags-section'); let $tags = $tagsSection.find('.app_tag'); let $showTrigger = $tagsSection.find('.app_tag.show-trigger'); $showTrigger.click(e => { $tags.toggleClass('d-none', false); $showTrigger.remove(); }); });
jQuery(function ($) {
    var cachedData = {}; var currentQuery = null; function fetchData(id, $target, callback) {
        if (cachedData[id])
            return callback(id, cachedData[id], $target); showLoading($target); loadMetacritic(id).done(function (data) { hideLoading($target); cachedData[id] = data; callback(id, data, $target); });
    }
    function cache(id, data) { cachedData[id] = data; }
    function showLoading($target) { $target.addClass("loading"); }
    function hideLoading($target) { $target.removeClass("loading"); }
    function loadMetacritic(id) {
        if (currentQuery !== null)
            currentQuery.abort(); currentQuery = $.get(__site.ajaxUrl + "?action=get_metacritic&id=" + id, function () { currentQuery = null; }); return currentQuery;
    }; function showTable(id, data, $target) { var $data = $(data); var targetBox = $target[0].getBoundingClientRect(); $(document.body).append($data); $data.css({ top: $(window).scrollTop() + targetBox.top + targetBox.height, left: targetBox.left, }).attr("data-metacritic-table", id).mouseout(function () { hideTableIfNeeded(id); }); setTimeout(function () { rectifyTablePosition($data); }); }
    function rectifyTablePosition($table) {
        var tableBox = $table[0].getBoundingClientRect(); var maxWidth = $(window).width(); var delta = tableBox.left + tableBox.width - maxWidth; if (delta > 0) { $table.css({ "left": (tableBox.left - delta) + "px", }); }
    }
    function hideTableIfNeeded(id) {
        $btnHover = $("[data-product-id='" + id + "']:hover"); $tableHover = $("[data-metacritic-table='" + id + "']:hover"); if ($btnHover.length === 0 && $tableHover.length === 0)
            $("[data-metacritic-table='" + id + "']").remove(); else
            setTimeout(function () { hideTableIfNeeded(id); }, 300);
    }
    function bindButtons(container) {
        var $selection = $(container).find("[data-metacritic]").add($(container).filter("[data-metacritic]")); $selection.click(function (e) { e.preventDefault(); var $this = $(this); var id = $this.attr("data-product-id"); fetchData(id, $this, showTable); }); $selection.hover(function () { var $this = $(this); var id = $this.attr("data-product-id"); fetchData(id, $this, showTable); }, function () {
            var $this = $(this); var id = $this.attr("data-product-id"); if (currentQuery !== null) { hideLoading($this); currentQuery.abort(); currentQuery = null; }
            hideTableIfNeeded(id);
        });
    }
    bindButtons(document); window.MetaCritics = {
        bindButtons: function (container) { bindButtons(container); },
    };
}); jQuery(function ($) {
    $(".meta-progress").each(function () {
        var value = $(this).attr('data-value'); var left = $(this).find('.meta-progress-left .meta-progress-bar'); var right = $(this).find('.meta-progress-right .meta-progress-bar'); if (value > 0) {
            if (value <= 50) { right.css('transform', 'rotate(' + percentageToDegrees(value) + 'deg)') } else {
                right.css('transform', 'rotate(180deg)')
                left.css('transform', 'rotate(' + percentageToDegrees(value - 50) + 'deg)')
            }
        }
    })
    function percentageToDegrees(percentage) { return percentage / 100 * 360 }
});
jQuery(document).ready(function ($) { $('.price-alert').tooltip(); $('.tooltip-region').tooltip(); $('.siteall').tooltip({ html: true, trigger: 'manual', title: $("<div>" + sitestring.image + "</div>"), placement: 'top', }).on("mouseenter", function () { var _this = this; $(this).tooltip("show"); $(this).siblings(".tooltip").on("mouseleave", function () { $(_this).tooltip('hide'); }); }).on("mouseleave", function () { var _this = this; if (!$(".tooltip:hover").length) { $(_this).tooltip("hide") } }); $('.aksl-heart').tooltip(); $('.currency-selector > ul').append(sitestring.currency); });
jQuery(function ($) { $("[data-toggle='lightbox']").on('click', function (e) { e.preventDefault(); $(this).ekkoLightbox(); }); });
+function (a) { "use strict"; function b(a, b) { if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function") } var c = function () { function a(a, b) { for (var c = 0; c < b.length; c++) { var d = b[c]; d.enumerable = d.enumerable || !1, d.configurable = !0, "value" in d && (d.writable = !0), Object.defineProperty(a, d.key, d) } } return function (b, c, d) { return c && a(b.prototype, c), d && a(b, d), b } }(); (function (a) { var d = "ekkoLightbox", e = a.fn[d], f = { title: "", footer: "", maxWidth: 9999, maxHeight: 9999, showArrows: !0, wrapping: !0, type: null, alwaysShowClose: !1, loadingMessage: '<div class="ekko-lightbox-loader"><div><div></div><div></div></div></div>', leftArrow: "<span>&#10094;</span>", rightArrow: "<span>&#10095;</span>", strings: { close: "Close", fail: "Failed to load image:", type: "Could not detect remote target type. Force the type using data-type" }, doc: document, onShow: function () { }, onShown: function () { }, onHide: function () { }, onHidden: function () { }, onNavigate: function () { }, onContentLoaded: function () { } }, g = function () { function d(c, e) { var g = this; b(this, d), this._config = a.extend({}, f, e), this._$modalArrows = null, this._galleryIndex = 0, this._galleryName = null, this._padding = null, this._border = null, this._titleIsShown = !1, this._footerIsShown = !1, this._wantedWidth = 0, this._wantedHeight = 0, this._touchstartX = 0, this._touchendX = 0, this._modalId = "ekkoLightbox-" + Math.floor(1e3 * Math.random() + 1), this._$element = c instanceof jQuery ? c : a(c), this._isBootstrap3 = 3 == a.fn.modal.Constructor.VERSION[0]; var h = '<h4 class="modal-title">' + (this._config.title || "&nbsp;") + "</h4>", i = '<button type="button" class="close" data-dismiss="modal" aria-label="' + this._config.strings.close + '"><span aria-hidden="true">&times;</span></button>', j = '<div class="modal-header' + (this._config.title || this._config.alwaysShowClose ? "" : " hide") + '">' + (this._isBootstrap3 ? i + h : h + i) + "</div>", k = '<div class="modal-footer' + (this._config.footer ? "" : " hide") + '">' + (this._config.footer || "&nbsp;") + "</div>", l = '<div class="modal-body"><div class="ekko-lightbox-container"><div class="ekko-lightbox-item fade in show"></div><div class="ekko-lightbox-item fade"></div></div></div>', m = '<div class="modal-dialog" role="document"><div class="modal-content">' + j + l + k + "</div></div>"; a(this._config.doc.body).append('<div id="' + this._modalId + '" class="ekko-lightbox modal fade" tabindex="-1" tabindex="-1" role="dialog" aria-hidden="true">' + m + "</div>"), this._$modal = a("#" + this._modalId, this._config.doc), this._$modalDialog = this._$modal.find(".modal-dialog").first(), this._$modalContent = this._$modal.find(".modal-content").first(), this._$modalBody = this._$modal.find(".modal-body").first(), this._$modalHeader = this._$modal.find(".modal-header").first(), this._$modalFooter = this._$modal.find(".modal-footer").first(), this._$lightboxContainer = this._$modalBody.find(".ekko-lightbox-container").first(), this._$lightboxBodyOne = this._$lightboxContainer.find("> div:first-child").first(), this._$lightboxBodyTwo = this._$lightboxContainer.find("> div:last-child").first(), this._border = this._calculateBorders(), this._padding = this._calculatePadding(), this._galleryName = this._$element.data("gallery"), this._galleryName && (this._$galleryItems = a(document.body).find('*[data-gallery="' + this._galleryName + '"]'), this._galleryIndex = this._$galleryItems.index(this._$element), a(document).on("keydown.ekkoLightbox", this._navigationalBinder.bind(this)), this._config.showArrows && this._$galleryItems.length > 1 && (this._$lightboxContainer.append('<div class="ekko-lightbox-nav-overlay"><a href="#">' + this._config.leftArrow + '</a><a href="#">' + this._config.rightArrow + "</a></div>"), this._$modalArrows = this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay").first(), this._$lightboxContainer.on("click", "a:first-child", function (a) { return a.preventDefault(), g.navigateLeft() }), this._$lightboxContainer.on("click", "a:last-child", function (a) { return a.preventDefault(), g.navigateRight() }), this.updateNavigation())), this._$modal.on("show.bs.modal", this._config.onShow.bind(this)).on("shown.bs.modal", function () { return g._toggleLoading(!0), g._handle(), g._config.onShown.call(g) }).on("hide.bs.modal", this._config.onHide.bind(this)).on("hidden.bs.modal", function () { return g._galleryName && (a(document).off("keydown.ekkoLightbox"), a(window).off("resize.ekkoLightbox")), g._$modal.remove(), g._config.onHidden.call(g) }).modal(this._config), a(window).on("resize.ekkoLightbox", function () { g._resize(g._wantedWidth, g._wantedHeight) }), this._$lightboxContainer.on("touchstart", function () { g._touchstartX = event.changedTouches[0].screenX }).on("touchend", function () { g._touchendX = event.changedTouches[0].screenX, g._swipeGesure() }) } return c(d, null, [{ key: "Default", get: function () { return f } }]), c(d, [{ key: "element", value: function () { return this._$element } }, { key: "modal", value: function () { return this._$modal } }, { key: "navigateTo", value: function (b) { return b < 0 || b > this._$galleryItems.length - 1 ? this : (this._galleryIndex = b, this.updateNavigation(), this._$element = a(this._$galleryItems.get(this._galleryIndex)), void this._handle()) } }, { key: "navigateLeft", value: function () { if (this._$galleryItems && 1 !== this._$galleryItems.length) { if (0 === this._galleryIndex) { if (!this._config.wrapping) return; this._galleryIndex = this._$galleryItems.length - 1 } else this._galleryIndex--; return this._config.onNavigate.call(this, "left", this._galleryIndex), this.navigateTo(this._galleryIndex) } } }, { key: "navigateRight", value: function () { if (this._$galleryItems && 1 !== this._$galleryItems.length) { if (this._galleryIndex === this._$galleryItems.length - 1) { if (!this._config.wrapping) return; this._galleryIndex = 0 } else this._galleryIndex++; return this._config.onNavigate.call(this, "right", this._galleryIndex), this.navigateTo(this._galleryIndex) } } }, { key: "updateNavigation", value: function () { if (!this._config.wrapping) { var a = this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay"); 0 === this._galleryIndex ? a.find("a:first-child").addClass("disabled") : a.find("a:first-child").removeClass("disabled"), this._galleryIndex === this._$galleryItems.length - 1 ? a.find("a:last-child").addClass("disabled") : a.find("a:last-child").removeClass("disabled") } } }, { key: "close", value: function () { return this._$modal.modal("hide") } }, { key: "_navigationalBinder", value: function (a) { return a = a || window.event, 39 === a.keyCode ? this.navigateRight() : 37 === a.keyCode ? this.navigateLeft() : void 0 } }, { key: "_detectRemoteType", value: function (a, b) { return b = b || !1, !b && this._isImage(a) && (b = "image"), !b && this._getYoutubeId(a) && (b = "youtube"), !b && this._getVimeoId(a) && (b = "vimeo"), !b && this._getInstagramId(a) && (b = "instagram"), (!b || ["image", "youtube", "vimeo", "instagram", "video", "url"].indexOf(b) < 0) && (b = "url"), b } }, { key: "_isImage", value: function (a) { return a && a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i) } }, { key: "_containerToUse", value: function () { var a = this, b = this._$lightboxBodyTwo, c = this._$lightboxBodyOne; return this._$lightboxBodyTwo.hasClass("in") && (b = this._$lightboxBodyOne, c = this._$lightboxBodyTwo), c.removeClass("in show"), setTimeout(function () { a._$lightboxBodyTwo.hasClass("in") || a._$lightboxBodyTwo.empty(), a._$lightboxBodyOne.hasClass("in") || a._$lightboxBodyOne.empty() }, 500), b.addClass("in show"), b } }, { key: "_handle", value: function () { var a = this._containerToUse(); this._updateTitleAndFooter(); var b = this._$element.attr("data-remote") || this._$element.attr("href"), c = this._detectRemoteType(b, this._$element.attr("data-type") || !1); if (["image", "youtube", "vimeo", "instagram", "video", "url"].indexOf(c) < 0) return this._error(this._config.strings.type); switch (c) { case "image": this._preloadImage(b, a), this._preloadImageByIndex(this._galleryIndex, 3); break; case "youtube": this._showYoutubeVideo(b, a); break; case "vimeo": this._showVimeoVideo(this._getVimeoId(b), a); break; case "instagram": this._showInstagramVideo(this._getInstagramId(b), a); break; case "video": this._showHtml5Video(b, a); break; default: this._loadRemoteContent(b, a) }return this } }, { key: "_getYoutubeId", value: function (a) { if (!a) return !1; var b = a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/); return !(!b || 11 !== b[2].length) && b[2] } }, { key: "_getVimeoId", value: function (a) { return !!(a && a.indexOf("vimeo") > 0) && a } }, { key: "_getInstagramId", value: function (a) { return !!(a && a.indexOf("instagram") > 0) && a } }, { key: "_toggleLoading", value: function (b) { return b = b || !1, b ? (this._$modalDialog.css("display", "none"), this._$modal.removeClass("in show"), a(".modal-backdrop").append(this._config.loadingMessage)) : (this._$modalDialog.css("display", "block"), this._$modal.addClass("in show"), a(".modal-backdrop").find(".ekko-lightbox-loader").remove()), this } }, { key: "_calculateBorders", value: function () { return { top: this._totalCssByAttribute("border-top-width"), right: this._totalCssByAttribute("border-right-width"), bottom: this._totalCssByAttribute("border-bottom-width"), left: this._totalCssByAttribute("border-left-width") } } }, { key: "_calculatePadding", value: function () { return { top: this._totalCssByAttribute("padding-top"), right: this._totalCssByAttribute("padding-right"), bottom: this._totalCssByAttribute("padding-bottom"), left: this._totalCssByAttribute("padding-left") } } }, { key: "_totalCssByAttribute", value: function (a) { return parseInt(this._$modalDialog.css(a), 10) + parseInt(this._$modalContent.css(a), 10) + parseInt(this._$modalBody.css(a), 10) } }, { key: "_updateTitleAndFooter", value: function () { var a = this._$element.data("title") || "", b = this._$element.data("footer") || ""; return this._titleIsShown = !1, a || this._config.alwaysShowClose ? (this._titleIsShown = !0, this._$modalHeader.css("display", "").find(".modal-title").html(a || "&nbsp;")) : this._$modalHeader.css("display", "none"), this._footerIsShown = !1, b ? (this._footerIsShown = !0, this._$modalFooter.css("display", "").html(b)) : this._$modalFooter.css("display", "none"), this } }, { key: "_showYoutubeVideo", value: function (a, b) { var c = this._getYoutubeId(a), d = a.indexOf("&") > 0 ? a.substr(a.indexOf("&")) : "", e = this._$element.data("width") || 560, f = this._$element.data("height") || e / (560 / 315); return this._showVideoIframe("//www.youtube.com/embed/" + c + "?badge=0&autoplay=1&html5=1" + d, e, f, b) } }, { key: "_showVimeoVideo", value: function (a, b) { var c = this._$element.data("width") || 500, d = this._$element.data("height") || c / (560 / 315); return this._showVideoIframe(a + "?autoplay=1", c, d, b) } }, { key: "_showInstagramVideo", value: function (a, b) { var c = this._$element.data("width") || 612, d = c + 80; return a = "/" !== a.substr(-1) ? a + "/" : a, b.html('<iframe width="' + c + '" height="' + d + '" src="' + a + 'embed/" frameborder="0" allowfullscreen></iframe>'), this._resize(c, d), this._config.onContentLoaded.call(this), this._$modalArrows && this._$modalArrows.css("display", "none"), this._toggleLoading(!1), this } }, { key: "_showVideoIframe", value: function (a, b, c, d) { return c = c || b, d.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="' + b + '" height="' + c + '" src="' + a + '" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>'), this._resize(b, c), this._config.onContentLoaded.call(this), this._$modalArrows && this._$modalArrows.css("display", "none"), this._toggleLoading(!1), this } }, { key: "_showHtml5Video", value: function (a, b) { var c = this._$element.data("width") || 560, d = this._$element.data("height") || c / (560 / 315); return b.html('<div class="embed-responsive embed-responsive-16by9"><video width="' + c + '" height="' + d + '" src="' + a + '" preload="auto" autoplay controls class="embed-responsive-item"></video></div>'), this._resize(c, d), this._config.onContentLoaded.call(this), this._$modalArrows && this._$modalArrows.css("display", "none"), this._toggleLoading(!1), this } }, { key: "_loadRemoteContent", value: function (b, c) { var d = this, e = this._$element.data("width") || 560, f = this._$element.data("height") || 560, g = this._$element.data("disableExternalCheck") || !1; return this._toggleLoading(!1), g || this._isExternal(b) ? (c.html('<iframe src="' + b + '" frameborder="0" allowfullscreen></iframe>'), this._config.onContentLoaded.call(this)) : c.load(b, a.proxy(function () { return d._$element.trigger("loaded.bs.modal") })), this._$modalArrows && this._$modalArrows.css("display", "none"), this._resize(e, f), this } }, { key: "_isExternal", value: function (a) { var b = a.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/); return "string" == typeof b[1] && b[1].length > 0 && b[1].toLowerCase() !== location.protocol || "string" == typeof b[2] && b[2].length > 0 && b[2].replace(new RegExp(":(" + { "http:": 80, "https:": 443 }[location.protocol] + ")?$"), "") !== location.host } }, { key: "_error", value: function (a) { return console.error(a), this._containerToUse().html(a), this._resize(300, 300), this } }, { key: "_preloadImageByIndex", value: function (b, c) { if (this._$galleryItems) { var d = a(this._$galleryItems.get(b), !1); if ("undefined" != typeof d) { var e = d.attr("data-remote") || d.attr("href"); return ("image" === d.attr("data-type") || this._isImage(e)) && this._preloadImage(e, !1), c > 0 ? this._preloadImageByIndex(b + 1, c - 1) : void 0 } } } }, { key: "_preloadImage", value: function (b, c) { var d = this; c = c || !1; var e = new Image; return c && !function () { var f = setTimeout(function () { c.append(d._config.loadingMessage) }, 200); e.onload = function () { f && clearTimeout(f), f = null; var b = a("<img />"); return b.attr("src", e.src), b.addClass("img-fluid"), b.css("width", "100%"), c.html(b), d._$modalArrows && d._$modalArrows.css("display", ""), d._resize(e.width, e.height), d._toggleLoading(!1), d._config.onContentLoaded.call(d) }, e.onerror = function () { return d._toggleLoading(!1), d._error(d._config.strings.fail + ("  " + b)) } }(), e.src = b, e } }, { key: "_swipeGesure", value: function () { return this._touchendX < this._touchstartX ? this.navigateRight() : this._touchendX > this._touchstartX ? this.navigateLeft() : void 0 } }, { key: "_resize", value: function (b, c) { c = c || b, this._wantedWidth = b, this._wantedHeight = c; var d = b / c, e = this._padding.left + this._padding.right + this._border.left + this._border.right, f = this._config.doc.body.clientWidth > 575 ? 20 : 0, g = this._config.doc.body.clientWidth > 575 ? 0 : 20, h = Math.min(b + e, this._config.doc.body.clientWidth - f, this._config.maxWidth); b + e > h ? (c = (h - e - g) / d, b = h) : b += e; var i = 0, j = 0; this._footerIsShown && (j = this._$modalFooter.outerHeight(!0) || 55), this._titleIsShown && (i = this._$modalHeader.outerHeight(!0) || 67); var k = this._padding.top + this._padding.bottom + this._border.bottom + this._border.top, l = parseFloat(this._$modalDialog.css("margin-top")) + parseFloat(this._$modalDialog.css("margin-bottom")), m = Math.min(c, a(window).height() - k - l - i - j, this._config.maxHeight - k - i - j); c > m && (b = Math.ceil(m * d) + e), this._$lightboxContainer.css("height", m), this._$modalDialog.css("flex", 1).css("maxWidth", b); var n = this._$modal.data("bs.modal"); if (n) try { n._handleUpdate() } catch (o) { n.handleUpdate() } return this } }], [{ key: "_jQueryInterface", value: function (b) { var c = this; return b = b || {}, this.each(function () { var e = a(c), f = a.extend({}, d.Default, e.data(), "object" == typeof b && b); new d(c, f) }) } }]), d }(); return a.fn[d] = g._jQueryInterface, a.fn[d].Constructor = g, a.fn[d].noConflict = function () { return a.fn[d] = e, g._jQueryInterface }, g })(jQuery) }(jQuery);
;
(function () {
    var slider = document.getElementById('gamepageSlider'); var slides = document.querySelectorAll('.gamepage__slide'); var firstImg = document.querySelector('.gamepage__image--first'); var next = document.getElementById('next'); var previous = document.getElementById('previous'); if (!slider || !next || !previous || !slides)
        return; var slidesLen = slides.length; var currentSlide = 0; var slideCount = document.querySelector('.gamepage__slide-count'); function onSliderImageLoad() {
        if (!firstImg)
            return; var img = new Image(); var imgSrc = firstImg.getAttribute('src'); img.addEventListener('load', setInitialHeight); img.src = imgSrc;
    }
    function setInitialHeight() { slider.style.height = firstImg.scrollHeight + 'px'; }
    function setHeight() { var slideHeight = slides[currentSlide].scrollHeight; slider.style.height = slideHeight + 'px'; }
    function goToSlide(n) { slides[currentSlide].classList.remove('showing'); currentSlide = (n + slidesLen) % slidesLen; slides[currentSlide].classList.add('showing'); setHeight(); }
    function nextSlide() { goToSlide(currentSlide + 1); }
    function previousSlide() { goToSlide(currentSlide - 1); }
    function displaySlideCount() {
        var count = (currentSlide + 1 > slidesLen) ? 1 : currentSlide + 1; if (slideCount)
            slideCount.innerText = count + ' / ' + slidesLen;
    }
    onSliderImageLoad(); displaySlideCount(); next.addEventListener('click', function () { nextSlide(); displaySlideCount(); }); previous.addEventListener('click', function () { previousSlide(); displaySlideCount(); }); window.addEventListener('resize', setHeight);
})();
function AksEvent() { this._listeners = []; this.alreadyTriggered = false; this.lastData = null; }
AksEvent.prototype.add = function (callback, userData, fireIfAlreadyTriggered) {
    this._listeners.push({ callback: callback, userData: userData }); if (this.alreadyTriggered && fireIfAlreadyTriggered)
        callback.call(null, this.lastData, userData);
}; AksEvent.prototype.trigger = function (data) { this.alreadyTriggered = true; this.lastData = null; this._listeners.forEach(function (listener) { listener.callback.call(null, data, listener.userData); }); }; AksEvent.prototype.remove = function (callback) { var index = this._listeners.indexOf(callback); this._listeners.splice(index, 1); };

(function (g, k) { "function" === typeof define && define.amd ? define([], k) : "object" === typeof exports ? module.exports = k("Selectr") : g.Selectr = k("Selectr") })(this, function (g) {
    function k(a, c) { return a.hasOwnProperty(c) && (!0 === a[c] || a[c].length) } function n(a, c, e) { a.parentNode ? a.parentNode.parentNode || c.appendChild(a.parentNode) : c.appendChild(a); b.removeClass(a, "excluded"); e || (a.innerHTML = a.textContent) } var l = function () { }; l.prototype = {
        on: function (a, c) {
            this._events = this._events || {}; this._events[a] = this._events[a] ||
                []; this._events[a].push(c)
        }, off: function (a, c) { this._events = this._events || {}; !1 !== a in this._events && this._events[a].splice(this._events[a].indexOf(c), 1) }, emit: function (a) { this._events = this._events || {}; if (!1 !== a in this._events) for (var c = 0; c < this._events[a].length; c++)this._events[a][c].apply(this, Array.prototype.slice.call(arguments, 1)) }
    }; l.mixin = function (a) { for (var c = ["on", "off", "emit"], b = 0; b < c.length; b++)"function" === typeof a ? a.prototype[c[b]] = l.prototype[c[b]] : a[c[b]] = l.prototype[c[b]]; return a };
    var b = {
        extend: function (a, c) { for (var e in c) if (c.hasOwnProperty(e)) { var d = c[e]; d && "[object Object]" === Object.prototype.toString.call(d) ? (a[e] = a[e] || {}, b.extend(a[e], d)) : a[e] = d } return a }, each: function (a, c, b) { if ("[object Object]" === Object.prototype.toString.call(a)) for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && c.call(b, d, a[d], a); else { d = 0; for (var e = a.length; d < e; d++)c.call(b, d, a[d], a) } }, createElement: function (a, c) {
            var b = document, d = b.createElement(a); if (c && "[object Object]" === Object.prototype.toString.call(c)) for (var f in c) if (f in
                d) d[f] = c[f]; else if ("html" === f) d.innerHTML = c[f]; else if ("text" === f) { var h = b.createTextNode(c[f]); d.appendChild(h) } else d.setAttribute(f, c[f]); return d
        }, hasClass: function (a, b) { if (a) return a.classList ? a.classList.contains(b) : !!a.className && !!a.className.match(new RegExp("(\\s|^)" + b + "(\\s|$)")) }, addClass: function (a, c) { b.hasClass(a, c) || (a.classList ? a.classList.add(c) : a.className = a.className.trim() + " " + c) }, removeClass: function (a, c) {
            b.hasClass(a, c) && (a.classList ? a.classList.remove(c) : a.className = a.className.replace(new RegExp("(^|\\s)" +
                c.split(" ").join("|") + "(\\s|$)", "gi"), " "))
        }, closest: function (a, c) { return a && a !== document.body && (c(a) ? a : b.closest(a.parentNode, c)) }, isInt: function (a) { return "number" === typeof a && isFinite(a) && Math.floor(a) === a }, debounce: function (a, b, e) { var d; return function () { var c = this, h = arguments, g = e && !d; clearTimeout(d); d = setTimeout(function () { d = null; e || a.apply(c, h) }, b); g && a.apply(c, h) } }, rect: function (a, b) {
            var c = window, d = a.getBoundingClientRect(), f = b ? c.pageXOffset : 0; c = b ? c.pageYOffset : 0; return {
                bottom: d.bottom + c, height: d.height,
                left: d.left + f, right: d.right + f, top: d.top + c, width: d.width
            }
        }, includes: function (a, b) { return -1 < a.indexOf(b) }, startsWith: function (a, b) { return a.substr(0, b.length) === b }, truncate: function (a) { for (; a.firstChild;)a.removeChild(a.firstChild) }
    }, p = function () {
        if (this.items.length) {
            var a = document.createDocumentFragment(); if (this.config.pagination) { var c = this.pages.slice(0, this.pageIndex); b.each(c, function (c, d) { b.each(d, function (d, b) { n(b, a, this.customOption) }, this) }, this) } else b.each(this.items, function (b, d) {
                n(d,
                    a, this.customOption)
            }, this); a.childElementCount && (b.removeClass(this.items[this.navIndex], "active"), this.navIndex = (a.querySelector(".selectr-option.selected") || a.querySelector(".selectr-option")).idx, b.addClass(this.items[this.navIndex], "active")); this.tree.appendChild(a)
        }
    }, t = function (a) { this.container.contains(a.target) || !this.opened && !b.hasClass(this.container, "notice") || this.close() }, m = function (a, c) {
        var e = this.customOption ? this.config.renderOption(c || a) : a.textContent; e = b.createElement("li", {
            "class": "selectr-option",
            html: e, role: "treeitem", "aria-selected": !1
        }); e.idx = a.idx; this.items.push(e); a.defaultSelected && this.defaultSelected.push(a.idx); a.disabled && (e.disabled = !0, b.addClass(e, "disabled")); return e
    }, u = function () {
        this.requiresPagination = this.config.pagination && 0 < this.config.pagination; k(this.config, "width") && (b.isInt(this.config.width) ? this.width = this.config.width + "px" : "auto" === this.config.width ? this.width = "100%" : b.includes(this.config.width, "%") && (this.width = this.config.width)); this.container = b.createElement("div",
            { "class": "selectr-container" }); this.config.customClass && b.addClass(this.container, this.config.customClass); this.mobileDevice ? b.addClass(this.container, "selectr-mobile") : b.addClass(this.container, "selectr-desktop"); this.el.tabIndex = -1; this.config.nativeDropdown || this.mobileDevice ? b.addClass(this.el, "selectr-visible") : b.addClass(this.el, "selectr-hidden"); this.selected = b.createElement("div", { "class": "selectr-selected", disabled: this.disabled, tabIndex: 0, "aria-expanded": !1 }); this.label = b.createElement(this.el.multiple ?
                "ul" : "span", { "class": "selectr-label" }); var a = b.createElement("div", { "class": "selectr-options-container" }); this.tree = b.createElement("ul", { "class": "selectr-options", role: "tree", "aria-hidden": !0, "aria-expanded": !1 }); this.notice = b.createElement("div", { "class": "selectr-notice" }); this.el.setAttribute("aria-hidden", !0); this.disabled && (this.el.disabled = !0); this.el.multiple && (b.addClass(this.label, "selectr-tags"), b.addClass(this.container, "multiple"), this.tags = [], this.selectedValues = this.getSelectedProperties("value"),
                    this.selectedIndexes = this.getSelectedProperties("idx")); this.selected.appendChild(this.label); this.config.clearable && (this.selectClear = b.createElement("button", { "class": "selectr-clear", type: "button" }), this.container.appendChild(this.selectClear), b.addClass(this.container, "clearable")); if (this.config.taggable) {
                        var c = b.createElement("li", { "class": "input-tag" }); this.input = b.createElement("input", {
                            "class": "selectr-tag-input", placeholder: this.config.tagPlaceholder, tagIndex: 0, autocomplete: "off", autocorrect: "off",
                            autocapitalize: "off", spellcheck: "false", role: "textbox", type: "search"
                        }); c.appendChild(this.input); this.label.appendChild(c); b.addClass(this.container, "taggable"); this.tagSeperators = [","]; this.config.tagSeperators && (this.tagSeperators = this.tagSeperators.concat(this.config.tagSeperators))
                    } this.config.searchable && (this.input = b.createElement("input", { "class": "selectr-input", tagIndex: -1, autocomplete: "off", autocorrect: "off", autocapitalize: "off", spellcheck: "false", role: "textbox", type: "search" }), this.inputClear =
                        b.createElement("button", { "class": "selectr-input-clear", type: "button" }), this.inputContainer = b.createElement("div", { "class": "selectr-input-container" }), this.inputContainer.appendChild(this.input), this.inputContainer.appendChild(this.inputClear), a.appendChild(this.inputContainer)); a.appendChild(this.notice); a.appendChild(this.tree); this.items = []; this.options = []; this.el.options.length && (this.options = [].slice.call(this.el.options)); var e = !1, d = 0; this.el.children.length && b.each(this.el.children, function (a,
                            c) { "OPTGROUP" === c.nodeName ? (e = b.createElement("ul", { "class": "selectr-optgroup", role: "group", html: "<li class='selectr-optgroup--label'>" + c.label + "</li>" }), b.each(c.children, function (a, b) { b.idx = d; e.appendChild(m.call(this, b, e)); d++ }, this)) : (c.idx = d, m.call(this, c), d++) }, this); if (this.config.data && Array.isArray(this.config.data)) {
                                this.data = []; var f = !1, h; e = !1; d = 0; b.each(this.config.data, function (a, c) {
                                    k(c, "children") ? (f = b.createElement("optgroup", { label: c.text }), e = b.createElement("ul", {
                                        "class": "selectr-optgroup",
                                        role: "group", html: "<li class='selectr-optgroup--label'>" + c.text + "</li>"
                                    }), b.each(c.children, function (a, b) { h = new Option(b.text, b.value, !1, b.hasOwnProperty("selected") && !0 === b.selected); h.disabled = k(b, "disabled"); this.options.push(h); f.appendChild(h); h.idx = d; e.appendChild(m.call(this, h, b)); this.data[d] = b; d++ }, this), this.el.appendChild(f)) : (h = new Option(c.text, c.value, !1, c.hasOwnProperty("selected") && !0 === c.selected), h.disabled = k(c, "disabled"), this.options.push(h), h.idx = d, m.call(this, h, c), this.data[d] =
                                        c, d++)
                                }, this)
                            } this.setSelected(!0); for (var g = this.navIndex = 0; g < this.items.length; g++)if (c = this.items[g], !b.hasClass(c, "disabled")) { b.addClass(c, "active"); this.navIndex = g; break } this.requiresPagination && (this.pageIndex = 1, this.paginate()); this.container.appendChild(this.selected); this.container.appendChild(a); this.placeEl = b.createElement("div", { "class": "selectr-placeholder" }); this.setPlaceholder(); this.selected.appendChild(this.placeEl); this.disabled && this.disable(); this.el.parentNode.insertBefore(this.container,
                                this.el); this.container.appendChild(this.el)
    }, v = function (a) {
        a = a || window.event; if (this.items.length && this.opened && b.includes([13, 38, 40], a.which)) {
            a.preventDefault(); if (13 === a.which) return this.noResults || this.config.taggable && 0 < this.input.value.length ? !1 : this.change(this.navIndex); var c = this.items[this.navIndex], e = this.navIndex; switch (a.which) { case 38: var d = 0; 0 < this.navIndex && this.navIndex--; break; case 40: d = 1, this.navIndex < this.items.length - 1 && this.navIndex++ }for (this.navigating = !0; b.hasClass(this.items[this.navIndex],
                "disabled") || b.hasClass(this.items[this.navIndex], "excluded");) { if (0 < this.navIndex && this.navIndex < this.items.length - 1) d ? this.navIndex++ : this.navIndex--; else { this.navIndex = e; break } if (this.searching) if (this.navIndex > this.tree.lastElementChild.idx) { this.navIndex = this.tree.lastElementChild.idx; break } else if (this.navIndex < this.tree.firstElementChild.idx) { this.navIndex = this.tree.firstElementChild.idx; break } } a = b.rect(this.items[this.navIndex]); d ? (0 === this.navIndex ? this.tree.scrollTop = 0 : a.top + a.height > this.optsRect.top +
                    this.optsRect.height && (this.tree.scrollTop += a.top + a.height - (this.optsRect.top + this.optsRect.height)), this.navIndex === this.tree.childElementCount - 1 && this.requiresPagination && r.call(this)) : 0 === this.navIndex ? this.tree.scrollTop = 0 : 0 > a.top - this.optsRect.top && (this.tree.scrollTop += a.top - this.optsRect.top); c && b.removeClass(c, "active"); b.addClass(this.items[this.navIndex], "active")
        } else this.navigating = !1
    }, w = function (a) {
        var c = this, e = document.createDocumentFragment(), d = this.options[a.idx], f = this.data ? this.data[a.idx] :
            d; f = this.customSelected ? this.config.renderSelection(f) : d.textContent; f = b.createElement("li", { "class": "selectr-tag", html: f }); var h = b.createElement("button", { "class": "selectr-tag-remove", type: "button" }); f.appendChild(h); f.idx = a.idx; f.tag = d.value; this.tags.push(f); if (this.config.sortSelected) {
                a = this.tags.slice(); var g = function (a, b) { a.replace(/(\d+)|(\D+)/g, function (a, d, c) { b.push([d || Infinity, c || ""]) }) }; a.sort(function (a, b) {
                    var d = [], e = []; if (!0 === c.config.sortSelected) { var f = a.tag; var h = b.tag } else "text" ===
                        c.config.sortSelected && (f = a.textContent, h = b.textContent); g(f, d); for (g(h, e); d.length && e.length;)if (f = d.shift(), h = e.shift(), f = f[0] - h[0] || f[1].localeCompare(h[1])) return f; return d.length - e.length
                }); b.each(a, function (a, b) { e.appendChild(b) }); this.label.innerHTML = ""
            } else e.appendChild(f); this.config.taggable ? this.label.insertBefore(e, this.input.parentNode) : this.label.appendChild(e)
    }, x = function (a) {
        var c = !1; b.each(this.tags, function (b, d) { d.idx === a.idx && (c = d) }, this); c && (this.label.removeChild(c), this.tags.splice(this.tags.indexOf(c),
            1))
    }, r = function () { var a = this.tree; if (a.scrollTop >= a.scrollHeight - a.offsetHeight && this.pageIndex < this.pages.length) { var c = document.createDocumentFragment(); b.each(this.pages[this.pageIndex], function (a, b) { n(b, c, this.customOption) }, this); a.appendChild(c); this.pageIndex++; this.emit("selectr.paginate", { items: this.items.length, total: this.data.length, page: this.pageIndex, pages: this.pages.length }) } }, q = function () {
        if (this.config.searchable || this.config.taggable) this.input.value = null, this.searching = !1, this.config.searchable &&
            b.removeClass(this.inputContainer, "active"), b.hasClass(this.container, "notice") && (b.removeClass(this.container, "notice"), b.addClass(this.container, "open"), this.input.focus()), b.each(this.items, function (a, c) { b.removeClass(c, "excluded"); this.customOption || (c.innerHTML = c.textContent) }, this)
    }; g = function (a, b) {
        this.defaultConfig = {
            defaultSelected: !0, width: "auto", disabled: !1, searchable: !0, clearable: !1, sortSelected: !1, allowDeselect: !1, closeOnScroll: !1, nativeDropdown: !1, nativeKeyboard: !1, placeholder: "Select an option...",
            taggable: !1, tagPlaceholder: "Enter a tag...", messages: { noResults: "No results.", noOptions: "No options available.", maxSelections: "A maximum of {max} items can be selected.", tagDuplicate: "That tag is already in use." }
        }; if (!a) throw Error("You must supply either a HTMLSelectElement or a CSS3 selector string."); this.el = a; "string" === typeof a && (this.el = document.querySelector(a)); if (null === this.el) throw Error("The element you passed to Selectr can not be found."); if ("select" !== this.el.nodeName.toLowerCase()) throw Error("The element you passed to Selectr is not a HTMLSelectElement.");
        this.render(b)
    }; g.prototype.render = function (a) {
        if (!this.rendered) {
            this.el.selectr = this; this.config = b.extend(this.defaultConfig, a); this.originalType = this.el.type; this.originalIndex = this.el.tabIndex; this.defaultSelected = []; this.originalOptionCount = this.el.options.length; if (this.config.multiple || this.config.taggable) this.el.multiple = !0; this.disabled = k(this.config, "disabled"); this.opened = !1; this.config.taggable && (this.config.searchable = !1); this.mobileDevice = this.navigating = !1; /Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent) &&
                (this.mobileDevice = !0); this.customOption = this.config.hasOwnProperty("renderOption") && "function" === typeof this.config.renderOption; this.customSelected = this.config.hasOwnProperty("renderSelection") && "function" === typeof this.config.renderSelection; this.supportsEventPassiveOption = this.detectEventPassiveOption(); l.mixin(this); u.call(this); this.bindEvents(); this.update(); this.optsRect = b.rect(this.tree); this.rendered = !0; this.el.multiple || (this.el.selectedIndex = this.selectedIndex); var c = this; setTimeout(function () { c.emit("selectr.init") },
                    20)
        }
    }; g.prototype.getSelected = function () { return this.el.querySelectorAll("option:checked") }; g.prototype.getSelectedProperties = function (a) { var b = this.getSelected(); return [].slice.call(b).map(function (b) { return b[a] }).filter(function (a) { return null !== a && void 0 !== a }) }; g.prototype.detectEventPassiveOption = function () { var a = !1; try { var b = Object.defineProperty({}, "passive", { get: function () { a = !0 } }); window.addEventListener("test", null, b) } catch (e) { } return a }; g.prototype.bindEvents = function () {
        var a = this; this.events =
            {}; this.events.dismiss = t.bind(this); this.events.navigate = v.bind(this); this.events.reset = this.reset.bind(this); if (this.config.nativeDropdown || this.mobileDevice) {
                this.container.addEventListener("touchstart", function (b) { b.changedTouches[0].target === a.el && a.toggle() }, this.supportsEventPassiveOption ? { passive: !0 } : !1); this.container.addEventListener("click", function (b) { b.target === a.el && a.toggle() }); var c = function (a, b) {
                    for (var d = [], c = a.slice(0), e, f = 0; f < b.length; f++)e = c.indexOf(b[f]), -1 < e ? c.splice(e, 1) : d.push(b[f]);
                    return [d, c]
                }; this.el.addEventListener("change", function (d) { a.el.multiple ? (d = a.getSelectedProperties("idx"), d = c(a.selectedIndexes, d), b.each(d[0], function (b, d) { a.select(d) }, a), b.each(d[1], function (b, d) { a.deselect(d) }, a)) : -1 < a.el.selectedIndex && a.select(a.el.selectedIndex) })
            } this.container.addEventListener("keydown", function (b) {
                "Escape" === b.key && a.close(); "Enter" === b.key && a.selected === document.activeElement && "undefined" !== typeof a.el.form.submit && a.el.form.submit(); " " !== b.key && "ArrowUp" !== b.key && "ArrowDown" !==
                    b.key || a.selected !== document.activeElement || (setTimeout(function () { a.toggle() }, 200), a.config.nativeDropdown && setTimeout(function () { a.el.focus() }, 200))
            }); this.selected.addEventListener("click", function (b) { a.disabled || a.toggle(); b.preventDefault() }); if (this.config.nativeKeyboard) {
                var e = ""; this.selected.addEventListener("keydown", function (b) {
                    if (!(a.disabled || a.selected !== document.activeElement || b.altKey || b.ctrlKey || b.metaKey)) if (" " === b.key || !a.opened && -1 < ["Enter", "ArrowUp", "ArrowDown"].indexOf(b.key)) a.toggle(),
                        b.preventDefault(), b.stopPropagation(); else if (2 >= b.key.length && String[String.fromCodePoint ? "fromCodePoint" : "fromCharCode"](b.key[String.codePointAt ? "codePointAt" : "charCodeAt"](0)) === b.key) { if (a.config.multiple) a.open(), a.config.searchable && (a.input.value = b.key, a.input.focus(), a.search(null, !0)); else { e += b.key; var c = a.search(e, !0); c && c.length && (a.clear(), a.setValue(c[0].value)); setTimeout(function () { e = "" }, 1E3) } b.preventDefault(); b.stopPropagation() }
                }); this.container.addEventListener("keyup", function (b) {
                    a.opened &&
                    "Escape" === b.key && (a.close(), b.stopPropagation(), a.selected.focus())
                })
            } this.label.addEventListener("click", function (c) { b.hasClass(c.target, "selectr-tag-remove") && a.deselect(c.target.parentNode.idx) }); this.selectClear && this.selectClear.addEventListener("click", this.clear.bind(this)); this.tree.addEventListener("mousedown", function (a) { a.preventDefault() }); this.tree.addEventListener("click", function (c) {
                var d = b.closest(c.target, function (a) { return a && b.hasClass(a, "selectr-option") }); d && !b.hasClass(d, "disabled") &&
                    (b.hasClass(d, "selected") ? (a.el.multiple || !a.el.multiple && a.config.allowDeselect) && a.deselect(d.idx) : a.select(d.idx), a.opened && !a.el.multiple && a.close()); c.preventDefault(); c.stopPropagation()
            }); this.tree.addEventListener("mouseover", function (c) { b.hasClass(c.target, "selectr-option") && !b.hasClass(c.target, "disabled") && (b.removeClass(a.items[a.navIndex], "active"), b.addClass(c.target, "active"), a.navIndex = [].slice.call(a.items).indexOf(c.target)) }); this.config.searchable && (this.input.addEventListener("focus",
                function (b) { a.searching = !0 }), this.input.addEventListener("blur", function (b) { a.searching = !1 }), this.input.addEventListener("keyup", function (c) { a.search(); a.config.taggable || (this.value.length ? b.addClass(this.parentNode, "active") : b.removeClass(this.parentNode, "active")) }), this.inputClear.addEventListener("click", function (b) { a.input.value = null; q.call(a); a.tree.childElementCount || p.call(a) })); this.config.taggable && this.input.addEventListener("keyup", function (c) {
                    a.search(); if (a.config.taggable && this.value.length) {
                        var d =
                            this.value.trim(); if (13 === c.which || b.includes(a.tagSeperators, c.key)) b.each(a.tagSeperators, function (a, b) { d = d.replace(b, "") }), a.add({ value: d, text: d, selected: !0 }, !0) ? (a.close(), q.call(a)) : (this.value = "", a.setMessage(a.config.messages.tagDuplicate))
                    }
                }); this.update = b.debounce(function () { a.opened && a.config.closeOnScroll && a.close(); a.width && (a.container.style.width = a.width); a.invert() }, 50); this.requiresPagination && (this.paginateItems = b.debounce(function () { r.call(this) }, 50), this.tree.addEventListener("scroll",
                    this.paginateItems.bind(this))); document.addEventListener("click", this.events.dismiss); window.addEventListener("keydown", this.events.navigate); window.addEventListener("resize", this.update); window.addEventListener("scroll", this.update); this.on("selectr.destroy", function () { document.removeEventListener("click", this.events.dismiss); window.removeEventListener("keydown", this.events.navigate); window.removeEventListener("resize", this.update); window.removeEventListener("scroll", this.update) }); this.el.form &&
                        (this.el.form.addEventListener("reset", this.events.reset), this.on("selectr.destroy", function () { this.el.form.removeEventListener("reset", this.events.reset) }))
    }; g.prototype.setSelected = function (a) {
        this.config.data || this.el.multiple || !this.el.options.length || (0 !== this.el.selectedIndex || this.el.options[0].defaultSelected || this.config.defaultSelected || (this.el.selectedIndex = -1), this.selectedIndex = this.el.selectedIndex, -1 < this.selectedIndex && this.select(this.selectedIndex)); this.config.multiple && "select-one" ===
            this.originalType && !this.config.data && this.el.options[0].selected && !this.el.options[0].defaultSelected && (this.el.options[0].selected = !1); b.each(this.options, function (a, b) { b.selected && b.defaultSelected && this.select(b.idx) }, this); this.config.selectedValue && this.setValue(this.config.selectedValue); if (this.config.data) {
                !this.el.multiple && this.config.defaultSelected && 0 > this.el.selectedIndex && this.select(0); var c = 0; b.each(this.config.data, function (a, d) {
                    k(d, "children") ? b.each(d.children, function (a, b) {
                        b.hasOwnProperty("selected") &&
                        !0 === b.selected && this.select(c); c++
                    }, this) : (d.hasOwnProperty("selected") && !0 === d.selected && this.select(c), c++)
                }, this)
            }
    }; g.prototype.destroy = function () { this.rendered && (this.emit("selectr.destroy"), "select-one" === this.originalType && (this.el.multiple = !1), this.config.data && (this.el.innerHTML = ""), b.removeClass(this.el, "selectr-hidden"), this.container.parentNode.replaceChild(this.el, this.container), this.rendered = !1, delete this.el.selectr) }; g.prototype.change = function (a) {
        var c = this.items[a], e = this.options[a];
        e.disabled || (e.selected && b.hasClass(c, "selected") ? this.deselect(a) : this.select(a), this.opened && !this.el.multiple && this.close())
    }; g.prototype.select = function (a) {
        var c = this.items[a], e = [].slice.call(this.el.options), d = this.options[a]; if (this.el.multiple) {
            if (b.includes(this.selectedIndexes, a)) return !1; if (this.config.maxSelections && this.tags.length === this.config.maxSelections) return this.setMessage(this.config.messages.maxSelections.replace("{max}", this.config.maxSelections), !0), !1; this.selectedValues.push(d.value);
            this.selectedIndexes.push(a); w.call(this, c)
        } else { var f = this.data ? this.data[a] : d; this.label.innerHTML = this.customSelected ? this.config.renderSelection(f) : d.textContent; this.selectedValue = d.value; this.selectedIndex = a; b.each(this.options, function (c, d) { var e = this.items[c]; c !== a && (e && b.removeClass(e, "selected"), d.selected = !1, d.removeAttribute("selected")) }, this) } b.includes(e, d) || this.el.add(d); c.setAttribute("aria-selected", !0); b.addClass(c, "selected"); b.addClass(this.container, "has-selected"); d.selected =
            !0; d.setAttribute("selected", ""); this.emit("selectr.change", d); this.emit("selectr.select", d); "createEvent" in document ? (c = document.createEvent("HTMLEvents"), c.initEvent("change", !0, !0), this.el.dispatchEvent(c)) : this.el.fireEvent("onchange")
    }; g.prototype.deselect = function (a, c) {
        var e = this.items[a], d = this.options[a]; if (this.el.multiple) {
            var f = this.selectedIndexes.indexOf(a); this.selectedIndexes.splice(f, 1); f = this.selectedValues.indexOf(d.value); this.selectedValues.splice(f, 1); x.call(this, e); this.tags.length ||
                b.removeClass(this.container, "has-selected")
        } else { if (!c && !this.config.clearable && !this.config.allowDeselect) return !1; this.label.innerHTML = ""; this.selectedValue = null; this.el.selectedIndex = this.selectedIndex = -1; b.removeClass(this.container, "has-selected") } this.items[a].setAttribute("aria-selected", !1); b.removeClass(this.items[a], "selected"); d.selected = !1; d.removeAttribute("selected"); this.emit("selectr.change", null); this.emit("selectr.deselect", d); "createEvent" in document ? (e = document.createEvent("HTMLEvents"),
            e.initEvent("change", !0, !0), this.el.dispatchEvent(e)) : this.el.fireEvent("onchange")
    }; g.prototype.setValue = function (a) { var c = Array.isArray(a); c || (a = a.toString().trim()); if (!this.el.multiple && c) return !1; b.each(this.options, function (b, d) { (c && -1 < a.indexOf(d.value) || d.value === a) && this.change(d.idx) }, this) }; g.prototype.getValue = function (a, c) {
        if (this.el.multiple) if (a) {
            if (this.selectedIndexes.length) {
                var e = { values: [] }; b.each(this.selectedIndexes, function (a, b) {
                    var c = this.options[b]; e.values[a] = {
                        value: c.value,
                        text: c.textContent
                    }
                }, this)
            }
        } else e = this.selectedValues.slice(); else if (a) { var d = this.options[this.selectedIndex]; e = { value: d.value, text: d.textContent } } else e = this.selectedValue; a && c && (e = JSON.stringify(e)); return e
    }; g.prototype.add = function (a, c) {
        if (a) {
            this.data = this.data || []; this.items = this.items || []; this.options = this.options || []; if (Array.isArray(a)) b.each(a, function (a, b) { this.add(b, c) }, this); else if ("[object Object]" === Object.prototype.toString.call(a)) {
                if (c) {
                    var e = !1; b.each(this.options, function (b,
                        c) { c.value.toLowerCase() === a.value.toLowerCase() && (e = !0) }); if (e) return !1
                } var d = b.createElement("option", a); this.data.push(a); this.options.push(d); d.idx = 0 < this.options.length ? this.options.length - 1 : 0; m.call(this, d); a.selected && this.select(d.idx); this.setPlaceholder(); return d
            } this.config.pagination && this.paginate(); return !0
        }
    }; g.prototype.remove = function (a) {
        var c = []; Array.isArray(a) ? b.each(a, function (a, e) { b.isInt(e) ? c.push(this.getOptionByIndex(e)) : "string" === typeof e && c.push(this.getOptionByValue(e)) },
            this) : b.isInt(a) ? c.push(this.getOptionByIndex(a)) : "string" === typeof a && c.push(this.getOptionByValue(a)); if (c.length) { var e; b.each(c, function (a, c) { e = c.idx; this.el.remove(c); this.options.splice(e, 1); var d = this.items[e].parentNode; d && d.removeChild(this.items[e]); this.items.splice(e, 1); b.each(this.options, function (a, b) { b.idx = a; this.items[a].idx = a }, this) }, this); this.setPlaceholder(); this.config.pagination && this.paginate() }
    }; g.prototype.removeAll = function () {
        this.clear(!0); b.each(this.el.options, function (a,
            b) { this.el.remove(b) }, this); b.truncate(this.tree); this.items = []; this.options = []; this.data = []; this.navIndex = 0; this.requiresPagination && (this.requiresPagination = !1, this.pageIndex = 1, this.pages = []); this.setPlaceholder()
    }; g.prototype.search = function (a, c) {
        if (!this.navigating) {
            var e = !1; a || (a = this.input.value, e = !0, this.removeMessage(), b.truncate(this.tree)); var d = [], f = document.createDocumentFragment(); a = a.trim().toLowerCase(); if (0 < a.length) {
                var g = c ? b.startsWith : b.includes; b.each(this.options, function (c, h) {
                    var k =
                        this.items[h.idx]; if (g(h.textContent.trim().toLowerCase(), a) && !h.disabled) { if (d.push({ text: h.textContent, value: h.value }), e && (n(k, f, this.customOption), b.removeClass(k, "excluded"), !this.customOption)) { var l = (l = (new RegExp(a, "i")).exec(h.textContent)) ? h.textContent.replace(l[0], "<span class='selectr-match'>" + l[0] + "</span>") : !1; k.innerHTML = l } } else e && b.addClass(k, "excluded")
                }, this); if (e) {
                    if (f.childElementCount) {
                        var k = this.items[this.navIndex], l = f.querySelector(".selectr-option:not(.excluded)"); this.noResults =
                            !1; b.removeClass(k, "active"); this.navIndex = l.idx; b.addClass(l, "active")
                    } else this.config.taggable || (this.noResults = !0, this.setMessage(this.config.messages.noResults)); this.tree.appendChild(f)
                }
            } else p.call(this); return d
        }
    }; g.prototype.toggle = function () { this.disabled || (this.opened ? this.close() : this.open()) }; g.prototype.open = function () {
        var a = this; if (!this.options.length) return !1; this.opened || this.emit("selectr.open"); this.opened = !0; this.mobileDevice || this.config.nativeDropdown ? (b.addClass(this.container,
            "native-open"), this.config.data && b.each(this.options, function (a, b) { this.el.add(b) }, this)) : (b.addClass(this.container, "open"), p.call(this), this.invert(), this.tree.scrollTop = 0, b.removeClass(this.container, "notice"), this.selected.setAttribute("aria-expanded", !0), this.tree.setAttribute("aria-hidden", !1), this.tree.setAttribute("aria-expanded", !0), this.config.searchable && !this.config.taggable && setTimeout(function () { a.input.focus(); a.input.tabIndex = 0 }, 10))
    }; g.prototype.close = function () {
        this.opened && this.emit("selectr.close");
        this.navigating = this.opened = !1; if (this.mobileDevice || this.config.nativeDropdown) b.removeClass(this.container, "native-open"); else {
            var a = b.hasClass(this.container, "notice"); this.config.searchable && !a && (this.input.blur(), this.input.tabIndex = -1, this.searching = !1); a && (b.removeClass(this.container, "notice"), this.notice.textContent = ""); b.removeClass(this.container, "open"); b.removeClass(this.container, "native-open"); this.selected.setAttribute("aria-expanded", !1); this.tree.setAttribute("aria-hidden", !0); this.tree.setAttribute("aria-expanded",
                !1); b.truncate(this.tree); q.call(this); this.selected.focus()
        }
    }; g.prototype.enable = function () { this.disabled = !1; this.el.disabled = !1; this.selected.tabIndex = this.originalIndex; this.el.multiple && b.each(this.tags, function (a, b) { b.lastElementChild.tabIndex = 0 }); b.removeClass(this.container, "selectr-disabled") }; g.prototype.disable = function (a) {
        a || (this.el.disabled = !0); this.selected.tabIndex = -1; this.el.multiple && b.each(this.tags, function (a, b) { b.lastElementChild.tabIndex = -1 }); this.disabled = !0; b.addClass(this.container,
            "selectr-disabled")
    }; g.prototype.reset = function () { this.disabled || (this.clear(), this.setSelected(!0), b.each(this.defaultSelected, function (a, b) { this.select(b) }, this), this.emit("selectr.reset")) }; g.prototype.clear = function (a) { this.el.multiple ? this.selectedIndexes.length && (a = this.selectedIndexes.slice(), b.each(a, function (a, b) { this.deselect(b) }, this)) : -1 < this.selectedIndex && this.deselect(this.selectedIndex, a); this.emit("selectr.clear") }; g.prototype.serialise = function (a) {
        var c = []; b.each(this.options, function (a,
            b) { var d = { value: b.value, text: b.textContent }; b.selected && (d.selected = !0); b.disabled && (d.disabled = !0); c[a] = d }); return a ? JSON.stringify(c) : c
    }; g.prototype.serialize = function (a) { return this.serialise(a) }; g.prototype.setPlaceholder = function (a) { a = a || this.config.placeholder || this.el.getAttribute("placeholder"); this.options.length || (a = this.config.messages.noOptions); this.placeEl.innerHTML = a }; g.prototype.paginate = function () {
        if (this.items.length) {
            var a = this; return this.pages = this.items.map(function (b, e) {
                return 0 ===
                    e % a.config.pagination ? a.items.slice(e, e + a.config.pagination) : null
            }).filter(function (a) { return a })
        }
    }; g.prototype.setMessage = function (a, c) { c && this.close(); b.addClass(this.container, "notice"); this.notice.textContent = a }; g.prototype.removeMessage = function () { b.removeClass(this.container, "notice"); this.notice.innerHTML = "" }; g.prototype.invert = function () {
        var a = b.rect(this.selected); a.top + a.height + this.tree.parentNode.offsetHeight > window.innerHeight ? (b.addClass(this.container, "inverted"), this.isInverted = !0) :
            (b.removeClass(this.container, "inverted"), this.isInverted = !1); this.optsRect = b.rect(this.tree)
    }; g.prototype.getOptionByIndex = function (a) { return this.options[a] }; g.prototype.getOptionByValue = function (a) { for (var b = !1, e = 0, d = this.options.length; e < d; e++)if (this.options[e].value.trim() === a.toString().trim()) { b = this.options[e]; break } return b }; return g
});
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function (t) { "function" == typeof define && define.amd ? define(["jquery", "./core"], t) : t(jQuery) }(function (r) { return r.widget("ui.tooltip", { version: "1.12.1", options: { classes: { "ui-tooltip": "ui-corner-all ui-widget-shadow" }, content: function () { var t = r(this).attr("title") || ""; return r("<a>").text(t).html() }, hide: !0, items: "[title]:not([disabled])", position: { my: "left top+15", at: "left bottom", collision: "flipfit flip" }, show: !0, track: !1, close: null, open: null }, _addDescribedBy: function (t, i) { var e = (t.attr("aria-describedby") || "").split(/\s+/); e.push(i), t.data("ui-tooltip-id", i).attr("aria-describedby", r.trim(e.join(" "))) }, _removeDescribedBy: function (t) { var i = t.data("ui-tooltip-id"), e = (t.attr("aria-describedby") || "").split(/\s+/), i = r.inArray(i, e); -1 !== i && e.splice(i, 1), t.removeData("ui-tooltip-id"), (e = r.trim(e.join(" "))) ? t.attr("aria-describedby", e) : t.removeAttr("aria-describedby") }, _create: function () { this._on({ mouseover: "open", focusin: "open" }), this.tooltips = {}, this.parents = {}, this.liveRegion = r("<div>").attr({ role: "log", "aria-live": "assertive", "aria-relevant": "additions" }).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this.disabledTitles = r([]) }, _setOption: function (t, i) { var e = this; this._super(t, i), "content" === t && r.each(this.tooltips, function (t, i) { e._updateContent(i.element) }) }, _setOptionDisabled: function (t) { this[t ? "_disable" : "_enable"]() }, _disable: function () { var o = this; r.each(this.tooltips, function (t, i) { var e = r.Event("blur"); e.target = e.currentTarget = i.element[0], o.close(e, !0) }), this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function () { var t = r(this); if (t.is("[title]")) return t.data("ui-tooltip-title", t.attr("title")).removeAttr("title") })) }, _enable: function () { this.disabledTitles.each(function () { var t = r(this); t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title")) }), this.disabledTitles = r([]) }, open: function (t) { var e = this, i = r(t ? t.target : this.element).closest(this.options.items); i.length && !i.data("ui-tooltip-id") && (i.attr("title") && i.data("ui-tooltip-title", i.attr("title")), i.data("ui-tooltip-open", !0), t && "mouseover" === t.type && i.parents().each(function () { var t, i = r(this); i.data("ui-tooltip-open") && ((t = r.Event("blur")).target = t.currentTarget = this, e.close(t, !0)), i.attr("title") && (i.uniqueId(), e.parents[this.id] = { element: this, title: i.attr("title") }, i.attr("title", "")) }), this._registerCloseHandlers(t, i), this._updateContent(i, t)) }, _updateContent: function (i, e) { var t = this.options.content, o = this, n = e ? e.type : null; if ("string" == typeof t || t.nodeType || t.jquery) return this._open(e, i, t); (t = t.call(i[0], function (t) { o._delay(function () { i.data("ui-tooltip-open") && (e && (e.type = n), this._open(e, i, t)) }) })) && this._open(e, i, t) }, _open: function (t, i, e) { var o, n, s, l = r.extend({}, this.options.position); function a(t) { l.of = t, n.is(":hidden") || n.position(l) } e && ((o = this._find(i)) ? o.tooltip.find(".ui-tooltip-content").html(e) : (i.is("[title]") && (t && "mouseover" === t.type ? i.attr("title", "") : i.removeAttr("title")), o = this._tooltip(i), n = o.tooltip, this._addDescribedBy(i, n.attr("id")), n.find(".ui-tooltip-content").html(e), this.liveRegion.children().hide(), (e = r("<div>").html(n.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"), e.removeAttr("id").find("[id]").removeAttr("id"), e.appendTo(this.liveRegion), this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, { mousemove: a }), a(t)) : n.position(r.extend({ of: i }, this.options.position)), n.hide(), this._show(n, this.options.show), this.options.track && this.options.show && this.options.show.delay && (s = this.delayedShow = setInterval(function () { n.is(":visible") && (a(l.of), clearInterval(s)) }, r.fx.interval)), this._trigger("open", t, { tooltip: n }))) }, _registerCloseHandlers: function (t, i) { var e = { keyup: function (t) { t.keyCode === r.ui.keyCode.ESCAPE && ((t = r.Event(t)).currentTarget = i[0], this.close(t, !0)) } }; i[0] !== this.element[0] && (e.remove = function () { this._removeTooltip(this._find(i).tooltip) }), t && "mouseover" !== t.type || (e.mouseleave = "close"), t && "focusin" !== t.type || (e.focusout = "close"), this._on(!0, i, e) }, close: function (t) { var i, e = this, o = r(t ? t.currentTarget : this.element), n = this._find(o); n ? (i = n.tooltip, n.closing || (clearInterval(this.delayedShow), o.data("ui-tooltip-title") && !o.attr("title") && o.attr("title", o.data("ui-tooltip-title")), this._removeDescribedBy(o), n.hiding = !0, i.stop(!0), this._hide(i, this.options.hide, function () { e._removeTooltip(r(this)) }), o.removeData("ui-tooltip-open"), this._off(o, "mouseleave focusout keyup"), o[0] !== this.element[0] && this._off(o, "remove"), this._off(this.document, "mousemove"), t && "mouseleave" === t.type && r.each(this.parents, function (t, i) { r(i.element).attr("title", i.title), delete e.parents[t] }), n.closing = !0, this._trigger("close", t, { tooltip: i }), n.hiding || (n.closing = !1))) : o.removeData("ui-tooltip-open") }, _tooltip: function (t) { var i = r("<div>").attr("role", "tooltip"), e = r("<div>").appendTo(i), o = i.uniqueId().attr("id"); return this._addClass(e, "ui-tooltip-content"), this._addClass(i, "ui-tooltip", "ui-widget ui-widget-content"), i.appendTo(this._appendTo(t)), this.tooltips[o] = { element: t, tooltip: i } }, _find: function (t) { t = t.data("ui-tooltip-id"); return t ? this.tooltips[t] : null }, _removeTooltip: function (t) { t.remove(), delete this.tooltips[t.attr("id")] }, _appendTo: function (t) { t = t.closest(".ui-front, dialog"); return t = !t.length ? this.document[0].body : t }, _destroy: function () { var o = this; r.each(this.tooltips, function (t, i) { var e = r.Event("blur"), i = i.element; e.target = e.currentTarget = i[0], o.close(e, !0), r("#" + t).remove(), i.data("ui-tooltip-title") && (i.attr("title") || i.attr("title", i.data("ui-tooltip-title")), i.removeData("ui-tooltip-title")) }), this.liveRegion.remove() } }), !1 !== r.uiBackCompat && r.widget("ui.tooltip", r.ui.tooltip, { options: { tooltipClass: null }, _tooltip: function () { var t = this._superApply(arguments); return this.options.tooltipClass && t.tooltip.addClass(this.options.tooltipClass), t } }), r.ui.tooltip });
/*! RateIt | v1.1.2 / 03/28/2019
    https://github.com/gjunge/rateit.js | Twitter: @gjunge
*/
!function (M) { function I(e) { var t = e.originalEvent.changedTouches[0], a = ""; switch (e.type) { case "touchmove": a = "mousemove"; break; case "touchend": a = "mouseup"; break; default: return }var i = document.createEvent("MouseEvent"); i.initMouseEvent(a, !0, !0, window, 1, t.screenX, t.screenY, t.clientX, t.clientY, !1, !1, !1, !1, 0, null), t.target.dispatchEvent(i), e.preventDefault() } M.rateit = { aria: { resetLabel: "reset rating", ratingLabel: "rating" } }, M.fn.rateit = function (w, N) { var y = 1, C = {}, k = "init", E = function (e) { return e.charAt(0).toUpperCase() + e.substr(1) }; if (0 === this.length) return this; var e = M.type(w); if ("object" == e || null == w) C = M.extend({}, M.fn.rateit.defaults, w); else { if ("string" == e && "reset" !== w && void 0 === N) return this.data("rateit" + E(w)); "string" == e && (k = "setvalue") } return this.each(function () { var r = M(this), n = function (e, t) { if (null != t) { var a = "aria-value" + ("value" == e ? "now" : e), i = r.find(".rateit-range"); null != i.attr(a) && i.attr(a, t) } return e = "rateit" + E(e), r.data.apply(r, arguments) }; if ("reset" == w) { var e = n("init"); for (var t in e) r.data(t, e[t]); if (n("backingfld")) "SELECT" == (a = M(n("backingfld")))[0].nodeName && "index" === a[0].getAttribute("data-rateit-valuesrc") ? a.prop("selectedIndex", n("value")) : a.val(n("value")), a.trigger("change"), a[0].min && (a[0].min = n("min")), a[0].max && (a[0].max = n("max")), a[0].step && (a[0].step = n("step")); r.trigger("reset") } r.hasClass("rateit") || r.addClass("rateit"); var i = "rtl" != r.css("direction"); if ("setvalue" == k) { if (!n("init")) throw "Can't set value before init"; if ("readonly" != w || 1 != N || n("readonly") || (r.find(".rateit-range").unbind(), n("wired", !1)), "value" == w && (N = null == N ? n("min") : Math.max(n("min"), Math.min(n("max"), N))), n("backingfld")) "SELECT" == (a = M(n("backingfld")))[0].nodeName && "index" === a[0].getAttribute("data-rateit-valuesrc") ? "value" == w && a.prop("selectedIndex", N) : "value" == w && a.val(N), "min" == w && a[0].min && (a[0].min = N), "max" == w && a[0].max && (a[0].max = N), "step" == w && a[0].step && (a[0].step = N); n(w, N) } if (!n("init")) { var a; if (n("mode", n("mode") || C.mode), n("icon", n("icon") || C.icon), n("min", isNaN(n("min")) ? C.min : n("min")), n("max", isNaN(n("max")) ? C.max : n("max")), n("step", n("step") || C.step), n("readonly", void 0 !== n("readonly") ? n("readonly") : C.readonly), n("resetable", void 0 !== n("resetable") ? n("resetable") : C.resetable), n("backingfld", n("backingfld") || C.backingfld), n("starwidth", n("starwidth") || C.starwidth), n("starheight", n("starheight") || C.starheight), n("value", Math.max(n("min"), Math.min(n("max"), isNaN(n("value")) ? isNaN(C.value) ? C.min : C.value : n("value")))), n("ispreset", void 0 !== n("ispreset") ? n("ispreset") : C.ispreset), n("backingfld")) if (((a = M(n("backingfld")).hide()).attr("disabled") || a.attr("readonly")) && n("readonly", !0), "INPUT" == a[0].nodeName && ("range" != a[0].type && "text" != a[0].type || (n("min", parseInt(a.attr("min")) || n("min")), n("max", parseInt(a.attr("max")) || n("max")), n("step", parseInt(a.attr("step")) || n("step")))), "SELECT" == a[0].nodeName && 1 < a[0].options.length) { "index" === a[0].getAttribute("data-rateit-valuesrc") ? (n("min", isNaN(n("min")) ? Number(a[0].options[0].index) : n("min")), n("max", Number(a[0].options[a[0].length - 1].index)), n("step", Number(a[0].options[1].index) - Number(a[0].options[0].index))) : (n("min", isNaN(n("min")) ? Number(a[0].options[0].value) : n("min")), n("max", Number(a[0].options[a[0].length - 1].value)), n("step", Number(a[0].options[1].value) - Number(a[0].options[0].value))); var s = a.find("option[selected]"); 1 == s.length && ("index" === a[0].getAttribute("data-rateit-valuesrc") ? n("value", s[0].index) : n("value", s.val())) } else n("value", a.val()); var d = "DIV" == r[0].nodeName ? "div" : "span"; y++; var l = '<button id="rateit-reset-{{index}}" type="button" data-role="none" class="rateit-reset" aria-label="' + M.rateit.aria.resetLabel + '" aria-controls="rateit-range-{{index}}"><span></span></button><{{element}} id="rateit-range-{{index}}" class="rateit-range"' + (1 == n("readonly") ? "" : ' tabindex="0"') + ' role="slider" aria-label="' + M.rateit.aria.ratingLabel + '" aria-owns="rateit-reset-{{index}}" aria-valuemin="' + n("min") + '" aria-valuemax="' + n("max") + '" aria-valuenow="' + n("value") + '"><{{element}} class="rateit-empty"></{{element}}><{{element}} class="rateit-selected"></{{element}}><{{element}} class="rateit-hover"></{{element}}></{{element}}>'; r.append(l.replace(/{{index}}/gi, y).replace(/{{element}}/gi, d)), i || (r.find(".rateit-reset").css("float", "right"), r.find(".rateit-selected").addClass("rateit-selected-rtl"), r.find(".rateit-hover").addClass("rateit-hover-rtl")), "font" == n("mode") ? r.addClass("rateit-font").removeClass("rateit-bg") : r.addClass("rateit-bg").removeClass("rateit-font"), n("init", JSON.parse(JSON.stringify(r.data()))) } var o = "font" == n("mode"); o || r.find(".rateit-selected, .rateit-hover").height(n("starheight")); var u = r.find(".rateit-range"); if (o) { for (var m = n("icon"), v = n("max") - n("min"), h = "", c = 0; c < v; c++)h += m; u.find("> *").text(h), n("starwidth", u.width() / (n("max") - n("min"))) } else u.width(n("starwidth") * (n("max") - n("min"))).height(n("starheight")); var g = "rateit-preset" + (i ? "" : "-rtl"); if (n("ispreset") ? r.find(".rateit-selected").addClass(g) : r.find(".rateit-selected").removeClass(g), null != n("value")) { var f = (n("value") - n("min")) * n("starwidth"); r.find(".rateit-selected").width(f) } var p = r.find(".rateit-reset"); !0 !== p.data("wired") && p.bind("click", function (e) { e.preventDefault(), p.blur(); var t = M.Event("beforereset"); if (r.trigger(t), t.isDefaultPrevented()) return !1; r.rateit("value", null), r.trigger("reset") }).data("wired", !0); var b = function (e, t) { var a = (t.changedTouches ? t.changedTouches[0].pageX : t.pageX) - M(e).offset().left; return i || (a = u.width() - a), a > u.width() && (a = u.width()), a < 0 && (a = 0), f = Math.ceil(a / n("starwidth") * (1 / n("step"))) }, x = function (e) { var t = M.Event("beforerated"); return r.trigger(t, [e]), !t.isDefaultPrevented() && (n("value", e), n("backingfld") && ("SELECT" == a[0].nodeName && "index" === a[0].getAttribute("data-rateit-valuesrc") ? M(n("backingfld")).prop("selectedIndex", e).trigger("change") : M(n("backingfld")).val(e).trigger("change")), n("ispreset") && (u.find(".rateit-selected").removeClass(g), n("ispreset", !1)), u.find(".rateit-hover").hide(), u.find(".rateit-selected").width(e * n("starwidth") - n("min") * n("starwidth")).show(), r.trigger("hover", [null]).trigger("over", [null]).trigger("rated", [e]), !0) }; n("readonly") ? p.hide() : (n("resetable") || p.hide(), n("wired") || (u.bind("touchmove touchend", I), u.mousemove(function (e) { !function (e) { var t = e * n("starwidth") * n("step"), a = u.find(".rateit-hover"); if (a.data("width") != t) { u.find(".rateit-selected").hide(), a.width(t).show().data("width", t); var i = [e * n("step") + n("min")]; r.trigger("hover", i).trigger("over", i) } }(b(this, e)) }), u.mouseleave(function (e) { u.find(".rateit-hover").hide().width(0).data("width", ""), r.trigger("hover", [null]).trigger("over", [null]), u.find(".rateit-selected").show() }), u.mouseup(function (e) { var t = b(this, e) * n("step") + n("min"); x(t), u.blur() }), u.keyup(function (e) { 38 != e.which && e.which != (i ? 39 : 37) || x(Math.min(n("value") + n("step"), n("max"))), 40 != e.which && e.which != (i ? 37 : 39) || x(Math.max(n("value") - n("step"), n("min"))) }), n("wired", !0)), n("resetable") && p.show()), u.attr("aria-readonly", n("readonly")) }) }, M.fn.rateit.defaults = { min: 0, max: 5, step: .5, mode: "bg", icon: "★", starwidth: 20, starheight: 20, readonly: !1, resetable: !0, ispreset: !1 }, M(function () { M("div.rateit, span.rateit").rateit() }) }(jQuery);
;
jQuery(document).ready(function ($) {
    var qr_cookie_name = 'aks_quick_ratings'; var not_rated_string = jQuery('#respond .rating-hint, #rating-metabox .rating-hint').attr('data-not-rated'); var star_count_string = jQuery('#respond input[name=rating], #rating-metabox input[name=rating]').attr('max'); jQuery(document).on('rated', '#respond .rateit, #rating-metabox .rateit', function (eventObject) { if (parseFloat(jQuery(this).rateit('value')) > 0) { jQuery('#respond .rating-hint, #rating-metabox .rating-hint').html(jQuery(this).rateit('value') + '/' + star_count_string); } else { jQuery('#respond .rating-hint, #rating-metabox .rating-hint').html(not_rated_string); } }); jQuery(document).on('reset', '#respond .rateit, #rating-metabox .rateit', function (eventObject) { jQuery('#respond .rating-hint, #rating-metabox .rating-hint').html(not_rated_string); }); jQuery(".rateit-tooltip").tooltip();
});
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function (e) { "function" == typeof define && define.amd ? define(["jquery", "./core"], e) : e(jQuery) }(function (o) { var n = !1; return o(document).on("mouseup", function () { n = !1 }), o.widget("ui.mouse", { version: "1.12.1", options: { cancel: "input, textarea, button, select, option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.on("mousedown." + this.widgetName, function (e) { return t._mouseDown(e) }).on("click." + this.widgetName, function (e) { if (!0 === o.data(e.target, t.widgetName + ".preventClickEvent")) return o.removeData(e.target, t.widgetName + ".preventClickEvent"), e.stopImmediatePropagation(), !1 }), this.started = !1 }, _mouseDestroy: function () { this.element.off("." + this.widgetName), this._mouseMoveDelegate && this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (e) { if (!n) { this._mouseMoved = !1, this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e; var t = this, i = 1 === e.which, s = !("string" != typeof this.options.cancel || !e.target.nodeName) && o(e.target).closest(this.options.cancel).length; return i && !s && this._mouseCapture(e) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { t.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(e), !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === o.data(e.target, this.widgetName + ".preventClickEvent") && o.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (e) { return t._mouseMove(e) }, this._mouseUpDelegate = function (e) { return t._mouseUp(e) }, this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), n = !0)) : !0 } }, _mouseMove: function (e) { if (this._mouseMoved) { if (o.ui.ie && (!document.documentMode || document.documentMode < 9) && !e.button) return this._mouseUp(e); if (!e.which) if (e.originalEvent.altKey || e.originalEvent.ctrlKey || e.originalEvent.metaKey || e.originalEvent.shiftKey) this.ignoreMissingWhich = !0; else if (!this.ignoreMissingWhich) return this._mouseUp(e) } return (e.which || e.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, e), this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted) }, _mouseUp: function (e) { this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && o.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), this._mouseDelayTimer && (clearTimeout(this._mouseDelayTimer), delete this._mouseDelayTimer), this.ignoreMissingWhich = !1, n = !1, e.preventDefault() }, _mouseDistanceMet: function (e) { return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }) });
/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function (e) { "function" == typeof define && define.amd ? define(["jquery", "./mouse", "./core"], e) : e(jQuery) }(function (o) { return o.widget("ui.slider", o.ui.mouse, { version: "1.12.1", widgetEventPrefix: "slide", options: { animate: !1, classes: { "ui-slider": "ui-corner-all", "ui-slider-handle": "ui-corner-all", "ui-slider-range": "ui-corner-all ui-widget-header" }, distance: 0, max: 100, min: 0, orientation: "horizontal", range: !1, step: 1, value: 0, values: null, change: null, slide: null, start: null, stop: null }, numPages: 5, _create: function () { this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"), this._refresh(), this._animateOff = !1 }, _refresh: function () { this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue() }, _createHandles: function () { var e, t = this.options, i = this.element.find(".ui-slider-handle"), s = [], a = t.values && t.values.length || 1; for (i.length > a && (i.slice(a).remove(), i = i.slice(0, a)), e = i.length; e < a; e++)s.push("<span tabindex='0'></span>"); this.handles = i.add(o(s.join("")).appendTo(this.element)), this._addClass(this.handles, "ui-slider-handle", "ui-state-default"), this.handle = this.handles.eq(0), this.handles.each(function (e) { o(this).data("ui-slider-handle-index", e).attr("tabIndex", 0) }) }, _createRange: function () { var e = this.options; e.range ? (!0 === e.range && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : o.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? (this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"), this.range.css({ left: "", bottom: "" })) : (this.range = o("<div>").appendTo(this.element), this._addClass(this.range, "ui-slider-range")), "min" !== e.range && "max" !== e.range || this._addClass(this.range, "ui-slider-range-" + e.range)) : (this.range && this.range.remove(), this.range = null) }, _setupEvents: function () { this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles) }, _destroy: function () { this.handles.remove(), this.range && this.range.remove(), this._mouseDestroy() }, _mouseCapture: function (e) { var i, s, a, n, t, h, l = this, u = this.options; return !u.disabled && (this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }, this.elementOffset = this.element.offset(), h = { x: e.pageX, y: e.pageY }, i = this._normValueFromMouse(h), s = this._valueMax() - this._valueMin() + 1, this.handles.each(function (e) { var t = Math.abs(i - l.values(e)); (t < s || s === t && (e === l._lastChangedValue || l.values(e) === u.min)) && (s = t, a = o(this), n = e) }), !1 !== this._start(e, n) && (this._mouseSliding = !0, this._handleIndex = n, this._addClass(a, null, "ui-state-active"), a.trigger("focus"), t = a.offset(), h = !o(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = h ? { left: 0, top: 0 } : { left: e.pageX - t.left - a.width() / 2, top: e.pageY - t.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0) }, this.handles.hasClass("ui-state-hover") || this._slide(e, n, i), this._animateOff = !0)) }, _mouseStart: function () { return !0 }, _mouseDrag: function (e) { var t = { x: e.pageX, y: e.pageY }, t = this._normValueFromMouse(t); return this._slide(e, this._handleIndex, t), !1 }, _mouseStop: function (e) { return this._removeClass(this.handles, null, "ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1 }, _detectOrientation: function () { this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal" }, _normValueFromMouse: function (e) { var t, e = "horizontal" === this.orientation ? (t = this.elementSize.width, e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), e = e / t; return (e = 1 < e ? 1 : e) < 0 && (e = 0), "vertical" === this.orientation && (e = 1 - e), t = this._valueMax() - this._valueMin(), t = this._valueMin() + e * t, this._trimAlignValue(t) }, _uiHash: function (e, t, i) { var s = { handle: this.handles[e], handleIndex: e, value: void 0 !== t ? t : this.value() }; return this._hasMultipleValues() && (s.value = void 0 !== t ? t : this.values(e), s.values = i || this.values()), s }, _hasMultipleValues: function () { return this.options.values && this.options.values.length }, _start: function (e, t) { return this._trigger("start", e, this._uiHash(t)) }, _slide: function (e, t, i) { var s, a = this.value(), n = this.values(); this._hasMultipleValues() && (s = this.values(t ? 0 : 1), a = this.values(t), 2 === this.options.values.length && !0 === this.options.range && (i = 0 === t ? Math.min(s, i) : Math.max(s, i)), n[t] = i), i !== a && !1 !== this._trigger("slide", e, this._uiHash(t, i, n)) && (this._hasMultipleValues() ? this.values(t, i) : this.value(i)) }, _stop: function (e, t) { this._trigger("stop", e, this._uiHash(t)) }, _change: function (e, t) { this._keySliding || this._mouseSliding || (this._lastChangedValue = t, this._trigger("change", e, this._uiHash(t))) }, value: function (e) { return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), void this._change(null, 0)) : this._value() }, values: function (e, t) { var i, s, a; if (1 < arguments.length) return this.options.values[e] = this._trimAlignValue(t), this._refreshValue(), void this._change(null, e); if (!arguments.length) return this._values(); if (!o.isArray(e)) return this._hasMultipleValues() ? this._values(e) : this.value(); for (i = this.options.values, s = e, a = 0; a < i.length; a += 1)i[a] = this._trimAlignValue(s[a]), this._change(null, a); this._refreshValue() }, _setOption: function (e, t) { var i, s = 0; switch ("range" === e && !0 === this.options.range && ("min" === t ? (this.options.value = this._values(0), this.options.values = null) : "max" === t && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), o.isArray(this.options.values) && (s = this.options.values.length), this._super(e, t), e) { case "orientation": this._detectOrientation(), this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation), this._refreshValue(), this.options.range && this._refreshRange(t), this.handles.css("horizontal" === t ? "bottom" : "left", ""); break; case "value": this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1; break; case "values": for (this._animateOff = !0, this._refreshValue(), i = s - 1; 0 <= i; i--)this._change(null, i); this._animateOff = !1; break; case "step": case "min": case "max": this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1; break; case "range": this._animateOff = !0, this._refresh(), this._animateOff = !1 } }, _setOptionDisabled: function (e) { this._super(e), this._toggleClass(null, "ui-state-disabled", !!e) }, _value: function () { var e = this.options.value; return e = this._trimAlignValue(e) }, _values: function (e) { var t, i, s; if (arguments.length) return t = this.options.values[e], this._trimAlignValue(t); if (this._hasMultipleValues()) { for (i = this.options.values.slice(), s = 0; s < i.length; s += 1)i[s] = this._trimAlignValue(i[s]); return i } return [] }, _trimAlignValue: function (e) { if (e <= this._valueMin()) return this._valueMin(); if (e >= this._valueMax()) return this._valueMax(); var t = 0 < this.options.step ? this.options.step : 1, i = (e - this._valueMin()) % t, e = e - i; return 2 * Math.abs(i) >= t && (e += 0 < i ? t : -t), parseFloat(e.toFixed(5)) }, _calculateNewMax: function () { var e = this.options.max, t = this._valueMin(), i = this.options.step; (e = Math.round((e - t) / i) * i + t) > this.options.max && (e -= i), this.max = parseFloat(e.toFixed(this._precision())) }, _precision: function () { var e = this._precisionOf(this.options.step); return e = null !== this.options.min ? Math.max(e, this._precisionOf(this.options.min)) : e }, _precisionOf: function (e) { var t = e.toString(), e = t.indexOf("."); return -1 === e ? 0 : t.length - e - 1 }, _valueMin: function () { return this.options.min }, _valueMax: function () { return this.max }, _refreshRange: function (e) { "vertical" === e && this.range.css({ width: "", left: "" }), "horizontal" === e && this.range.css({ height: "", bottom: "" }) }, _refreshValue: function () { var t, i, e, s, a, n = this.options.range, h = this.options, l = this, u = !this._animateOff && h.animate, r = {}; this._hasMultipleValues() ? this.handles.each(function (e) { i = (l.values(e) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, r["horizontal" === l.orientation ? "left" : "bottom"] = i + "%", o(this).stop(1, 1)[u ? "animate" : "css"](r, h.animate), !0 === l.options.range && ("horizontal" === l.orientation ? (0 === e && l.range.stop(1, 1)[u ? "animate" : "css"]({ left: i + "%" }, h.animate), 1 === e && l.range[u ? "animate" : "css"]({ width: i - t + "%" }, { queue: !1, duration: h.animate })) : (0 === e && l.range.stop(1, 1)[u ? "animate" : "css"]({ bottom: i + "%" }, h.animate), 1 === e && l.range[u ? "animate" : "css"]({ height: i - t + "%" }, { queue: !1, duration: h.animate }))), t = i }) : (e = this.value(), s = this._valueMin(), a = this._valueMax(), i = a !== s ? (e - s) / (a - s) * 100 : 0, r["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[u ? "animate" : "css"](r, h.animate), "min" === n && "horizontal" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({ width: i + "%" }, h.animate), "max" === n && "horizontal" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({ width: 100 - i + "%" }, h.animate), "min" === n && "vertical" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({ height: i + "%" }, h.animate), "max" === n && "vertical" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({ height: 100 - i + "%" }, h.animate)) }, _handleEvents: { keydown: function (e) { var t, i, s, a = o(e.target).data("ui-slider-handle-index"); switch (e.keyCode) { case o.ui.keyCode.HOME: case o.ui.keyCode.END: case o.ui.keyCode.PAGE_UP: case o.ui.keyCode.PAGE_DOWN: case o.ui.keyCode.UP: case o.ui.keyCode.RIGHT: case o.ui.keyCode.DOWN: case o.ui.keyCode.LEFT: if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, this._addClass(o(e.target), null, "ui-state-active"), !1 === this._start(e, a))) return }switch (s = this.options.step, t = i = this._hasMultipleValues() ? this.values(a) : this.value(), e.keyCode) { case o.ui.keyCode.HOME: i = this._valueMin(); break; case o.ui.keyCode.END: i = this._valueMax(); break; case o.ui.keyCode.PAGE_UP: i = this._trimAlignValue(t + (this._valueMax() - this._valueMin()) / this.numPages); break; case o.ui.keyCode.PAGE_DOWN: i = this._trimAlignValue(t - (this._valueMax() - this._valueMin()) / this.numPages); break; case o.ui.keyCode.UP: case o.ui.keyCode.RIGHT: if (t === this._valueMax()) return; i = this._trimAlignValue(t + s); break; case o.ui.keyCode.DOWN: case o.ui.keyCode.LEFT: if (t === this._valueMin()) return; i = this._trimAlignValue(t - s) }this._slide(e, a, i) }, keyup: function (e) { var t = o(e.target).data("ui-slider-handle-index"); this._keySliding && (this._keySliding = !1, this._stop(e, t), this._change(e, t), this._removeClass(o(e.target), null, "ui-state-active")) } } }) });
(function (e, t) { 'object' == typeof exports && 'undefined' != typeof module ? module.exports = t() : 'function' == typeof define && define.amd ? define(t) : e.Popper = t() })(this, function () { 'use strict'; function e(e) { return e && '[object Function]' === {}.toString.call(e) } function t(e, t) { if (1 !== e.nodeType) return []; var o = e.ownerDocument.defaultView, n = o.getComputedStyle(e, null); return t ? n[t] : n } function o(e) { return 'HTML' === e.nodeName ? e : e.parentNode || e.host } function n(e) { if (!e) return document.body; switch (e.nodeName) { case 'HTML': case 'BODY': return e.ownerDocument.body; case '#document': return e.body; }var i = t(e), r = i.overflow, p = i.overflowX, s = i.overflowY; return /(auto|scroll|overlay)/.test(r + s + p) ? e : n(o(e)) } function i(e) { return e && e.referenceNode ? e.referenceNode : e } function r(e) { return 11 === e ? re : 10 === e ? pe : re || pe } function p(e) { if (!e) return document.documentElement; for (var o = r(10) ? document.body : null, n = e.offsetParent || null; n === o && e.nextElementSibling;)n = (e = e.nextElementSibling).offsetParent; var i = n && n.nodeName; return i && 'BODY' !== i && 'HTML' !== i ? -1 !== ['TH', 'TD', 'TABLE'].indexOf(n.nodeName) && 'static' === t(n, 'position') ? p(n) : n : e ? e.ownerDocument.documentElement : document.documentElement } function s(e) { var t = e.nodeName; return 'BODY' !== t && ('HTML' === t || p(e.firstElementChild) === e) } function d(e) { return null === e.parentNode ? e : d(e.parentNode) } function a(e, t) { if (!e || !e.nodeType || !t || !t.nodeType) return document.documentElement; var o = e.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_FOLLOWING, n = o ? e : t, i = o ? t : e, r = document.createRange(); r.setStart(n, 0), r.setEnd(i, 0); var l = r.commonAncestorContainer; if (e !== l && t !== l || n.contains(i)) return s(l) ? l : p(l); var f = d(e); return f.host ? a(f.host, t) : a(e, d(t).host) } function l(e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'top', o = 'top' === t ? 'scrollTop' : 'scrollLeft', n = e.nodeName; if ('BODY' === n || 'HTML' === n) { var i = e.ownerDocument.documentElement, r = e.ownerDocument.scrollingElement || i; return r[o] } return e[o] } function f(e, t) { var o = 2 < arguments.length && void 0 !== arguments[2] && arguments[2], n = l(t, 'top'), i = l(t, 'left'), r = o ? -1 : 1; return e.top += n * r, e.bottom += n * r, e.left += i * r, e.right += i * r, e } function m(e, t) { var o = 'x' === t ? 'Left' : 'Top', n = 'Left' == o ? 'Right' : 'Bottom'; return parseFloat(e['border' + o + 'Width']) + parseFloat(e['border' + n + 'Width']) } function h(e, t, o, n) { return ee(t['offset' + e], t['scroll' + e], o['client' + e], o['offset' + e], o['scroll' + e], r(10) ? parseInt(o['offset' + e]) + parseInt(n['margin' + ('Height' === e ? 'Top' : 'Left')]) + parseInt(n['margin' + ('Height' === e ? 'Bottom' : 'Right')]) : 0) } function c(e) { var t = e.body, o = e.documentElement, n = r(10) && getComputedStyle(o); return { height: h('Height', t, o, n), width: h('Width', t, o, n) } } function g(e) { return le({}, e, { right: e.left + e.width, bottom: e.top + e.height }) } function u(e) { var o = {}; try { if (r(10)) { o = e.getBoundingClientRect(); var n = l(e, 'top'), i = l(e, 'left'); o.top += n, o.left += i, o.bottom += n, o.right += i } else o = e.getBoundingClientRect() } catch (t) { } var p = { left: o.left, top: o.top, width: o.right - o.left, height: o.bottom - o.top }, s = 'HTML' === e.nodeName ? c(e.ownerDocument) : {}, d = s.width || e.clientWidth || p.width, a = s.height || e.clientHeight || p.height, f = e.offsetWidth - d, h = e.offsetHeight - a; if (f || h) { var u = t(e); f -= m(u, 'x'), h -= m(u, 'y'), p.width -= f, p.height -= h } return g(p) } function b(e, o) { var i = 2 < arguments.length && void 0 !== arguments[2] && arguments[2], p = r(10), s = 'HTML' === o.nodeName, d = u(e), a = u(o), l = n(e), m = t(o), h = parseFloat(m.borderTopWidth), c = parseFloat(m.borderLeftWidth); i && s && (a.top = ee(a.top, 0), a.left = ee(a.left, 0)); var b = g({ top: d.top - a.top - h, left: d.left - a.left - c, width: d.width, height: d.height }); if (b.marginTop = 0, b.marginLeft = 0, !p && s) { var w = parseFloat(m.marginTop), y = parseFloat(m.marginLeft); b.top -= h - w, b.bottom -= h - w, b.left -= c - y, b.right -= c - y, b.marginTop = w, b.marginLeft = y } return (p && !i ? o.contains(l) : o === l && 'BODY' !== l.nodeName) && (b = f(b, o)), b } function w(e) { var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = e.ownerDocument.documentElement, n = b(e, o), i = ee(o.clientWidth, window.innerWidth || 0), r = ee(o.clientHeight, window.innerHeight || 0), p = t ? 0 : l(o), s = t ? 0 : l(o, 'left'), d = { top: p - n.top + n.marginTop, left: s - n.left + n.marginLeft, width: i, height: r }; return g(d) } function y(e) { var n = e.nodeName; if ('BODY' === n || 'HTML' === n) return !1; if ('fixed' === t(e, 'position')) return !0; var i = o(e); return !!i && y(i) } function E(e) { if (!e || !e.parentElement || r()) return document.documentElement; for (var o = e.parentElement; o && 'none' === t(o, 'transform');)o = o.parentElement; return o || document.documentElement } function v(e, t, r, p) { var s = 4 < arguments.length && void 0 !== arguments[4] && arguments[4], d = { top: 0, left: 0 }, l = s ? E(e) : a(e, i(t)); if ('viewport' === p) d = w(l, s); else { var f; 'scrollParent' === p ? (f = n(o(t)), 'BODY' === f.nodeName && (f = e.ownerDocument.documentElement)) : 'window' === p ? f = e.ownerDocument.documentElement : f = p; var m = b(f, l, s); if ('HTML' === f.nodeName && !y(l)) { var h = c(e.ownerDocument), g = h.height, u = h.width; d.top += m.top - m.marginTop, d.bottom = g + m.top, d.left += m.left - m.marginLeft, d.right = u + m.left } else d = m } r = r || 0; var v = 'number' == typeof r; return d.left += v ? r : r.left || 0, d.top += v ? r : r.top || 0, d.right -= v ? r : r.right || 0, d.bottom -= v ? r : r.bottom || 0, d } function x(e) { var t = e.width, o = e.height; return t * o } function O(e, t, o, n, i) { var r = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : 0; if (-1 === e.indexOf('auto')) return e; var p = v(o, n, r, i), s = { top: { width: p.width, height: t.top - p.top }, right: { width: p.right - t.right, height: p.height }, bottom: { width: p.width, height: p.bottom - t.bottom }, left: { width: t.left - p.left, height: p.height } }, d = Object.keys(s).map(function (e) { return le({ key: e }, s[e], { area: x(s[e]) }) }).sort(function (e, t) { return t.area - e.area }), a = d.filter(function (e) { var t = e.width, n = e.height; return t >= o.clientWidth && n >= o.clientHeight }), l = 0 < a.length ? a[0].key : d[0].key, f = e.split('-')[1]; return l + (f ? '-' + f : '') } function L(e, t, o) { var n = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null, r = n ? E(t) : a(t, i(o)); return b(o, r, n) } function S(e) { var t = e.ownerDocument.defaultView, o = t.getComputedStyle(e), n = parseFloat(o.marginTop || 0) + parseFloat(o.marginBottom || 0), i = parseFloat(o.marginLeft || 0) + parseFloat(o.marginRight || 0), r = { width: e.offsetWidth + i, height: e.offsetHeight + n }; return r } function T(e) { var t = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' }; return e.replace(/left|right|bottom|top/g, function (e) { return t[e] }) } function C(e, t, o) { o = o.split('-')[0]; var n = S(e), i = { width: n.width, height: n.height }, r = -1 !== ['right', 'left'].indexOf(o), p = r ? 'top' : 'left', s = r ? 'left' : 'top', d = r ? 'height' : 'width', a = r ? 'width' : 'height'; return i[p] = t[p] + t[d] / 2 - n[d] / 2, i[s] = o === s ? t[s] - n[a] : t[T(s)], i } function D(e, t) { return Array.prototype.find ? e.find(t) : e.filter(t)[0] } function N(e, t, o) { if (Array.prototype.findIndex) return e.findIndex(function (e) { return e[t] === o }); var n = D(e, function (e) { return e[t] === o }); return e.indexOf(n) } function P(t, o, n) { var i = void 0 === n ? t : t.slice(0, N(t, 'name', n)); return i.forEach(function (t) { t['function'] && console.warn('`modifier.function` is deprecated, use `modifier.fn`!'); var n = t['function'] || t.fn; t.enabled && e(n) && (o.offsets.popper = g(o.offsets.popper), o.offsets.reference = g(o.offsets.reference), o = n(o, t)) }), o } function k() { if (!this.state.isDestroyed) { var e = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} }; e.offsets.reference = L(this.state, this.popper, this.reference, this.options.positionFixed), e.placement = O(this.options.placement, e.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), e.originalPlacement = e.placement, e.positionFixed = this.options.positionFixed, e.offsets.popper = C(this.popper, e.offsets.reference, e.placement), e.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute', e = P(this.modifiers, e), this.state.isCreated ? this.options.onUpdate(e) : (this.state.isCreated = !0, this.options.onCreate(e)) } } function W(e, t) { return e.some(function (e) { var o = e.name, n = e.enabled; return n && o === t }) } function B(e) { for (var t = [!1, 'ms', 'Webkit', 'Moz', 'O'], o = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < t.length; n++) { var i = t[n], r = i ? '' + i + o : e; if ('undefined' != typeof document.body.style[r]) return r } return null } function H() { return this.state.isDestroyed = !0, W(this.modifiers, 'applyStyle') && (this.popper.removeAttribute('x-placement'), this.popper.style.position = '', this.popper.style.top = '', this.popper.style.left = '', this.popper.style.right = '', this.popper.style.bottom = '', this.popper.style.willChange = '', this.popper.style[B('transform')] = ''), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this } function A(e) { var t = e.ownerDocument; return t ? t.defaultView : window } function M(e, t, o, i) { var r = 'BODY' === e.nodeName, p = r ? e.ownerDocument.defaultView : e; p.addEventListener(t, o, { passive: !0 }), r || M(n(p.parentNode), t, o, i), i.push(p) } function F(e, t, o, i) { o.updateBound = i, A(e).addEventListener('resize', o.updateBound, { passive: !0 }); var r = n(e); return M(r, 'scroll', o.updateBound, o.scrollParents), o.scrollElement = r, o.eventsEnabled = !0, o } function I() { this.state.eventsEnabled || (this.state = F(this.reference, this.options, this.state, this.scheduleUpdate)) } function R(e, t) { return A(e).removeEventListener('resize', t.updateBound), t.scrollParents.forEach(function (e) { e.removeEventListener('scroll', t.updateBound) }), t.updateBound = null, t.scrollParents = [], t.scrollElement = null, t.eventsEnabled = !1, t } function U() { this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = R(this.reference, this.state)) } function Y(e) { return '' !== e && !isNaN(parseFloat(e)) && isFinite(e) } function V(e, t) { Object.keys(t).forEach(function (o) { var n = ''; -1 !== ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(o) && Y(t[o]) && (n = 'px'), e.style[o] = t[o] + n }) } function j(e, t) { Object.keys(t).forEach(function (o) { var n = t[o]; !1 === n ? e.removeAttribute(o) : e.setAttribute(o, t[o]) }) } function q(e, t) { var o = e.offsets, n = o.popper, i = o.reference, r = $, p = function (e) { return e }, s = r(i.width), d = r(n.width), a = -1 !== ['left', 'right'].indexOf(e.placement), l = -1 !== e.placement.indexOf('-'), f = t ? a || l || s % 2 == d % 2 ? r : Z : p, m = t ? r : p; return { left: f(1 == s % 2 && 1 == d % 2 && !l && t ? n.left - 1 : n.left), top: m(n.top), bottom: m(n.bottom), right: f(n.right) } } function K(e, t, o) { var n = D(e, function (e) { var o = e.name; return o === t }), i = !!n && e.some(function (e) { return e.name === o && e.enabled && e.order < n.order }); if (!i) { var r = '`' + t + '`'; console.warn('`' + o + '`' + ' modifier is required by ' + r + ' modifier in order to work, be sure to include it before ' + r + '!') } return i } function z(e) { return 'end' === e ? 'start' : 'start' === e ? 'end' : e } function G(e) { var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = he.indexOf(e), n = he.slice(o + 1).concat(he.slice(0, o)); return t ? n.reverse() : n } function _(e, t, o, n) { var i = e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), r = +i[1], p = i[2]; if (!r) return e; if (0 === p.indexOf('%')) { var s; switch (p) { case '%p': s = o; break; case '%': case '%r': default: s = n; }var d = g(s); return d[t] / 100 * r } if ('vh' === p || 'vw' === p) { var a; return a = 'vh' === p ? ee(document.documentElement.clientHeight, window.innerHeight || 0) : ee(document.documentElement.clientWidth, window.innerWidth || 0), a / 100 * r } return r } function X(e, t, o, n) { var i = [0, 0], r = -1 !== ['right', 'left'].indexOf(n), p = e.split(/(\+|\-)/).map(function (e) { return e.trim() }), s = p.indexOf(D(p, function (e) { return -1 !== e.search(/,|\s/) })); p[s] && -1 === p[s].indexOf(',') && console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.'); var d = /\s*,\s*|\s+/, a = -1 === s ? [p] : [p.slice(0, s).concat([p[s].split(d)[0]]), [p[s].split(d)[1]].concat(p.slice(s + 1))]; return a = a.map(function (e, n) { var i = (1 === n ? !r : r) ? 'height' : 'width', p = !1; return e.reduce(function (e, t) { return '' === e[e.length - 1] && -1 !== ['+', '-'].indexOf(t) ? (e[e.length - 1] = t, p = !0, e) : p ? (e[e.length - 1] += t, p = !1, e) : e.concat(t) }, []).map(function (e) { return _(e, i, t, o) }) }), a.forEach(function (e, t) { e.forEach(function (o, n) { Y(o) && (i[t] += o * ('-' === e[n - 1] ? -1 : 1)) }) }), i } function J(e, t) { var o, n = t.offset, i = e.placement, r = e.offsets, p = r.popper, s = r.reference, d = i.split('-')[0]; return o = Y(+n) ? [+n, 0] : X(n, p, s, d), 'left' === d ? (p.top += o[0], p.left -= o[1]) : 'right' === d ? (p.top += o[0], p.left += o[1]) : 'top' === d ? (p.left += o[0], p.top -= o[1]) : 'bottom' === d && (p.left += o[0], p.top += o[1]), e.popper = p, e } var Q = Math.min, Z = Math.floor, $ = Math.round, ee = Math.max, te = 'undefined' != typeof window && 'undefined' != typeof document && 'undefined' != typeof navigator, oe = function () { for (var e = ['Edge', 'Trident', 'Firefox'], t = 0; t < e.length; t += 1)if (te && 0 <= navigator.userAgent.indexOf(e[t])) return 1; return 0 }(), ne = te && window.Promise, ie = ne ? function (e) { var t = !1; return function () { t || (t = !0, window.Promise.resolve().then(function () { t = !1, e() })) } } : function (e) { var t = !1; return function () { t || (t = !0, setTimeout(function () { t = !1, e() }, oe)) } }, re = te && !!(window.MSInputMethodContext && document.documentMode), pe = te && /MSIE 10/.test(navigator.userAgent), se = function (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') }, de = function () { function e(e, t) { for (var o, n = 0; n < t.length; n++)o = t[n], o.enumerable = o.enumerable || !1, o.configurable = !0, 'value' in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } return function (t, o, n) { return o && e(t.prototype, o), n && e(t, n), t } }(), ae = function (e, t, o) { return t in e ? Object.defineProperty(e, t, { value: o, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = o, e }, le = Object.assign || function (e) { for (var t, o = 1; o < arguments.length; o++)for (var n in t = arguments[o], t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e }, fe = te && /Firefox/i.test(navigator.userAgent), me = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'], he = me.slice(3), ce = { FLIP: 'flip', CLOCKWISE: 'clockwise', COUNTERCLOCKWISE: 'counterclockwise' }, ge = function () { function t(o, n) { var i = this, r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; se(this, t), this.scheduleUpdate = function () { return requestAnimationFrame(i.update) }, this.update = ie(this.update.bind(this)), this.options = le({}, t.Defaults, r), this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }, this.reference = o && o.jquery ? o[0] : o, this.popper = n && n.jquery ? n[0] : n, this.options.modifiers = {}, Object.keys(le({}, t.Defaults.modifiers, r.modifiers)).forEach(function (e) { i.options.modifiers[e] = le({}, t.Defaults.modifiers[e] || {}, r.modifiers ? r.modifiers[e] : {}) }), this.modifiers = Object.keys(this.options.modifiers).map(function (e) { return le({ name: e }, i.options.modifiers[e]) }).sort(function (e, t) { return e.order - t.order }), this.modifiers.forEach(function (t) { t.enabled && e(t.onLoad) && t.onLoad(i.reference, i.popper, i.options, t, i.state) }), this.update(); var p = this.options.eventsEnabled; p && this.enableEventListeners(), this.state.eventsEnabled = p } return de(t, [{ key: 'update', value: function () { return k.call(this) } }, { key: 'destroy', value: function () { return H.call(this) } }, { key: 'enableEventListeners', value: function () { return I.call(this) } }, { key: 'disableEventListeners', value: function () { return U.call(this) } }]), t }(); return ge.Utils = ('undefined' == typeof window ? global : window).PopperUtils, ge.placements = me, ge.Defaults = { placement: 'bottom', positionFixed: !1, eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () { }, onUpdate: function () { }, modifiers: { shift: { order: 100, enabled: !0, fn: function (e) { var t = e.placement, o = t.split('-')[0], n = t.split('-')[1]; if (n) { var i = e.offsets, r = i.reference, p = i.popper, s = -1 !== ['bottom', 'top'].indexOf(o), d = s ? 'left' : 'top', a = s ? 'width' : 'height', l = { start: ae({}, d, r[d]), end: ae({}, d, r[d] + r[a] - p[a]) }; e.offsets.popper = le({}, p, l[n]) } return e } }, offset: { order: 200, enabled: !0, fn: J, offset: 0 }, preventOverflow: { order: 300, enabled: !0, fn: function (e, t) { var o = t.boundariesElement || p(e.instance.popper); e.instance.reference === o && (o = p(o)); var n = B('transform'), i = e.instance.popper.style, r = i.top, s = i.left, d = i[n]; i.top = '', i.left = '', i[n] = ''; var a = v(e.instance.popper, e.instance.reference, t.padding, o, e.positionFixed); i.top = r, i.left = s, i[n] = d, t.boundaries = a; var l = t.priority, f = e.offsets.popper, m = { primary: function (e) { var o = f[e]; return f[e] < a[e] && !t.escapeWithReference && (o = ee(f[e], a[e])), ae({}, e, o) }, secondary: function (e) { var o = 'right' === e ? 'left' : 'top', n = f[o]; return f[e] > a[e] && !t.escapeWithReference && (n = Q(f[o], a[e] - ('right' === e ? f.width : f.height))), ae({}, o, n) } }; return l.forEach(function (e) { var t = -1 === ['left', 'top'].indexOf(e) ? 'secondary' : 'primary'; f = le({}, f, m[t](e)) }), e.offsets.popper = f, e }, priority: ['left', 'right', 'top', 'bottom'], padding: 5, boundariesElement: 'scrollParent' }, keepTogether: { order: 400, enabled: !0, fn: function (e) { var t = e.offsets, o = t.popper, n = t.reference, i = e.placement.split('-')[0], r = Z, p = -1 !== ['top', 'bottom'].indexOf(i), s = p ? 'right' : 'bottom', d = p ? 'left' : 'top', a = p ? 'width' : 'height'; return o[s] < r(n[d]) && (e.offsets.popper[d] = r(n[d]) - o[a]), o[d] > r(n[s]) && (e.offsets.popper[d] = r(n[s])), e } }, arrow: { order: 500, enabled: !0, fn: function (e, o) { var n; if (!K(e.instance.modifiers, 'arrow', 'keepTogether')) return e; var i = o.element; if ('string' == typeof i) { if (i = e.instance.popper.querySelector(i), !i) return e; } else if (!e.instance.popper.contains(i)) return console.warn('WARNING: `arrow.element` must be child of its popper element!'), e; var r = e.placement.split('-')[0], p = e.offsets, s = p.popper, d = p.reference, a = -1 !== ['left', 'right'].indexOf(r), l = a ? 'height' : 'width', f = a ? 'Top' : 'Left', m = f.toLowerCase(), h = a ? 'left' : 'top', c = a ? 'bottom' : 'right', u = S(i)[l]; d[c] - u < s[m] && (e.offsets.popper[m] -= s[m] - (d[c] - u)), d[m] + u > s[c] && (e.offsets.popper[m] += d[m] + u - s[c]), e.offsets.popper = g(e.offsets.popper); var b = d[m] + d[l] / 2 - u / 2, w = t(e.instance.popper), y = parseFloat(w['margin' + f]), E = parseFloat(w['border' + f + 'Width']), v = b - e.offsets.popper[m] - y - E; return v = ee(Q(s[l] - u, v), 0), e.arrowElement = i, e.offsets.arrow = (n = {}, ae(n, m, $(v)), ae(n, h, ''), n), e }, element: '[x-arrow]' }, flip: { order: 600, enabled: !0, fn: function (e, t) { if (W(e.instance.modifiers, 'inner')) return e; if (e.flipped && e.placement === e.originalPlacement) return e; var o = v(e.instance.popper, e.instance.reference, t.padding, t.boundariesElement, e.positionFixed), n = e.placement.split('-')[0], i = T(n), r = e.placement.split('-')[1] || '', p = []; switch (t.behavior) { case ce.FLIP: p = [n, i]; break; case ce.CLOCKWISE: p = G(n); break; case ce.COUNTERCLOCKWISE: p = G(n, !0); break; default: p = t.behavior; }return p.forEach(function (s, d) { if (n !== s || p.length === d + 1) return e; n = e.placement.split('-')[0], i = T(n); var a = e.offsets.popper, l = e.offsets.reference, f = Z, m = 'left' === n && f(a.right) > f(l.left) || 'right' === n && f(a.left) < f(l.right) || 'top' === n && f(a.bottom) > f(l.top) || 'bottom' === n && f(a.top) < f(l.bottom), h = f(a.left) < f(o.left), c = f(a.right) > f(o.right), g = f(a.top) < f(o.top), u = f(a.bottom) > f(o.bottom), b = 'left' === n && h || 'right' === n && c || 'top' === n && g || 'bottom' === n && u, w = -1 !== ['top', 'bottom'].indexOf(n), y = !!t.flipVariations && (w && 'start' === r && h || w && 'end' === r && c || !w && 'start' === r && g || !w && 'end' === r && u), E = !!t.flipVariationsByContent && (w && 'start' === r && c || w && 'end' === r && h || !w && 'start' === r && u || !w && 'end' === r && g), v = y || E; (m || b || v) && (e.flipped = !0, (m || b) && (n = p[d + 1]), v && (r = z(r)), e.placement = n + (r ? '-' + r : ''), e.offsets.popper = le({}, e.offsets.popper, C(e.instance.popper, e.offsets.reference, e.placement)), e = P(e.instance.modifiers, e, 'flip')) }), e }, behavior: 'flip', padding: 5, boundariesElement: 'viewport', flipVariations: !1, flipVariationsByContent: !1 }, inner: { order: 700, enabled: !1, fn: function (e) { var t = e.placement, o = t.split('-')[0], n = e.offsets, i = n.popper, r = n.reference, p = -1 !== ['left', 'right'].indexOf(o), s = -1 === ['top', 'left'].indexOf(o); return i[p ? 'left' : 'top'] = r[o] - (s ? i[p ? 'width' : 'height'] : 0), e.placement = T(t), e.offsets.popper = g(i), e } }, hide: { order: 800, enabled: !0, fn: function (e) { if (!K(e.instance.modifiers, 'hide', 'preventOverflow')) return e; var t = e.offsets.reference, o = D(e.instance.modifiers, function (e) { return 'preventOverflow' === e.name }).boundaries; if (t.bottom < o.top || t.left > o.right || t.top > o.bottom || t.right < o.left) { if (!0 === e.hide) return e; e.hide = !0, e.attributes['x-out-of-boundaries'] = '' } else { if (!1 === e.hide) return e; e.hide = !1, e.attributes['x-out-of-boundaries'] = !1 } return e } }, computeStyle: { order: 850, enabled: !0, fn: function (e, t) { var o = t.x, n = t.y, i = e.offsets.popper, r = D(e.instance.modifiers, function (e) { return 'applyStyle' === e.name }).gpuAcceleration; void 0 !== r && console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!'); var s, d, a = void 0 === r ? t.gpuAcceleration : r, l = p(e.instance.popper), f = u(l), m = { position: i.position }, h = q(e, 2 > window.devicePixelRatio || !fe), c = 'bottom' === o ? 'top' : 'bottom', g = 'right' === n ? 'left' : 'right', b = B('transform'); if (d = 'bottom' == c ? 'HTML' === l.nodeName ? -l.clientHeight + h.bottom : -f.height + h.bottom : h.top, s = 'right' == g ? 'HTML' === l.nodeName ? -l.clientWidth + h.right : -f.width + h.right : h.left, a && b) m[b] = 'translate3d(' + s + 'px, ' + d + 'px, 0)', m[c] = 0, m[g] = 0, m.willChange = 'transform'; else { var w = 'bottom' == c ? -1 : 1, y = 'right' == g ? -1 : 1; m[c] = d * w, m[g] = s * y, m.willChange = c + ', ' + g } var E = { "x-placement": e.placement }; return e.attributes = le({}, E, e.attributes), e.styles = le({}, m, e.styles), e.arrowStyles = le({}, e.offsets.arrow, e.arrowStyles), e }, gpuAcceleration: !0, x: 'bottom', y: 'right' }, applyStyle: { order: 900, enabled: !0, fn: function (e) { return V(e.instance.popper, e.styles), j(e.instance.popper, e.attributes), e.arrowElement && Object.keys(e.arrowStyles).length && V(e.arrowElement, e.arrowStyles), e }, onLoad: function (e, t, o, n, i) { var r = L(i, t, e, o.positionFixed), p = O(o.placement, r, t, e, o.modifiers.flip.boundariesElement, o.modifiers.flip.padding); return t.setAttribute('x-placement', p), V(t, { position: o.positionFixed ? 'fixed' : 'absolute' }), o }, gpuAcceleration: void 0 } } }, ge });
;
/*!
  * Bootstrap v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(exports, require("jquery")) : "function" == typeof define && define.amd ? define(["exports", "jquery"], e) : e((t = "undefined" != typeof globalThis ? globalThis : t || self).bootstrap = {}, t.jQuery) }(this, (function (t, e) { "use strict"; function n(t) { return t && "object" == typeof t && "default" in t ? t : { default: t } } var i = n(e); function o(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function r(t, e, n) { return e && o(t.prototype, e), n && o(t, n), t } function a() { return (a = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }).apply(this, arguments) } function s(t) { var e = this, n = !1; return i.default(this).one(l.TRANSITION_END, (function () { n = !0 })), setTimeout((function () { n || l.triggerTransitionEnd(e) }), t), this } var l = { TRANSITION_END: "bsTransitionEnd", getUID: function (t) { do { t += ~~(1e6 * Math.random()) } while (document.getElementById(t)); return t }, getSelectorFromElement: function (t) { var e = t.getAttribute("data-target"); if (!e || "#" === e) { var n = t.getAttribute("href"); e = n && "#" !== n ? n.trim() : "" } try { return document.querySelector(e) ? e : null } catch (t) { return null } }, getTransitionDurationFromElement: function (t) { if (!t) return 0; var e = i.default(t).css("transition-duration"), n = i.default(t).css("transition-delay"), o = parseFloat(e), r = parseFloat(n); return o || r ? (e = e.split(",")[0], n = n.split(",")[0], 1e3 * (parseFloat(e) + parseFloat(n))) : 0 }, reflow: function (t) { return t.offsetHeight }, triggerTransitionEnd: function (t) { i.default(t).trigger("transitionend") }, supportsTransitionEnd: function () { return Boolean("transitionend") }, isElement: function (t) { return (t[0] || t).nodeType }, typeCheckConfig: function (t, e, n) { for (var i in n) if (Object.prototype.hasOwnProperty.call(n, i)) { var o = n[i], r = e[i], a = r && l.isElement(r) ? "element" : null === (s = r) || "undefined" == typeof s ? "" + s : {}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(); if (!new RegExp(o).test(a)) throw new Error(t.toUpperCase() + ': Option "' + i + '" provided type "' + a + '" but expected type "' + o + '".') } var s }, findShadowRoot: function (t) { if (!document.documentElement.attachShadow) return null; if ("function" == typeof t.getRootNode) { var e = t.getRootNode(); return e instanceof ShadowRoot ? e : null } return t instanceof ShadowRoot ? t : t.parentNode ? l.findShadowRoot(t.parentNode) : null }, jQueryDetection: function () { if ("undefined" == typeof i.default) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript."); var t = i.default.fn.jquery.split(" ")[0].split("."); if (t[0] < 2 && t[1] < 9 || 1 === t[0] && 9 === t[1] && t[2] < 1 || t[0] >= 4) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0") } }; l.jQueryDetection(), i.default.fn.emulateTransitionEnd = s, i.default.event.special[l.TRANSITION_END] = { bindType: "transitionend", delegateType: "transitionend", handle: function (t) { if (i.default(t.target).is(this)) return t.handleObj.handler.apply(this, arguments) } }; var u = "alert", f = i.default.fn[u], d = function () { function t(t) { this._element = t } var e = t.prototype; return e.close = function (t) { var e = this._element; t && (e = this._getRootElement(t)), this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e) }, e.dispose = function () { i.default.removeData(this._element, "bs.alert"), this._element = null }, e._getRootElement = function (t) { var e = l.getSelectorFromElement(t), n = !1; return e && (n = document.querySelector(e)), n || (n = i.default(t).closest(".alert")[0]), n }, e._triggerCloseEvent = function (t) { var e = i.default.Event("close.bs.alert"); return i.default(t).trigger(e), e }, e._removeElement = function (t) { var e = this; if (i.default(t).removeClass("show"), i.default(t).hasClass("fade")) { var n = l.getTransitionDurationFromElement(t); i.default(t).one(l.TRANSITION_END, (function (n) { return e._destroyElement(t, n) })).emulateTransitionEnd(n) } else this._destroyElement(t) }, e._destroyElement = function (t) { i.default(t).detach().trigger("closed.bs.alert").remove() }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this), o = n.data("bs.alert"); o || (o = new t(this), n.data("bs.alert", o)), "close" === e && o[e](this) })) }, t._handleDismiss = function (t) { return function (e) { e && e.preventDefault(), t.close(this) } }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }]), t }(); i.default(document).on("click.bs.alert.data-api", '[data-dismiss="alert"]', d._handleDismiss(new d)), i.default.fn[u] = d._jQueryInterface, i.default.fn[u].Constructor = d, i.default.fn[u].noConflict = function () { return i.default.fn[u] = f, d._jQueryInterface }; var c = i.default.fn.button, h = function () { function t(t) { this._element = t, this.shouldAvoidTriggerChange = !1 } var e = t.prototype; return e.toggle = function () { var t = !0, e = !0, n = i.default(this._element).closest('[data-toggle="buttons"]')[0]; if (n) { var o = this._element.querySelector('input:not([type="hidden"])'); if (o) { if ("radio" === o.type) if (o.checked && this._element.classList.contains("active")) t = !1; else { var r = n.querySelector(".active"); r && i.default(r).removeClass("active") } t && ("checkbox" !== o.type && "radio" !== o.type || (o.checked = !this._element.classList.contains("active")), this.shouldAvoidTriggerChange || i.default(o).trigger("change")), o.focus(), e = !1 } } this._element.hasAttribute("disabled") || this._element.classList.contains("disabled") || (e && this._element.setAttribute("aria-pressed", !this._element.classList.contains("active")), t && i.default(this._element).toggleClass("active")) }, e.dispose = function () { i.default.removeData(this._element, "bs.button"), this._element = null }, t._jQueryInterface = function (e, n) { return this.each((function () { var o = i.default(this), r = o.data("bs.button"); r || (r = new t(this), o.data("bs.button", r)), r.shouldAvoidTriggerChange = n, "toggle" === e && r[e]() })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }]), t }(); i.default(document).on("click.bs.button.data-api", '[data-toggle^="button"]', (function (t) { var e = t.target, n = e; if (i.default(e).hasClass("btn") || (e = i.default(e).closest(".btn")[0]), !e || e.hasAttribute("disabled") || e.classList.contains("disabled")) t.preventDefault(); else { var o = e.querySelector('input:not([type="hidden"])'); if (o && (o.hasAttribute("disabled") || o.classList.contains("disabled"))) return void t.preventDefault(); "INPUT" !== n.tagName && "LABEL" === e.tagName || h._jQueryInterface.call(i.default(e), "toggle", "INPUT" === n.tagName) } })).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', (function (t) { var e = i.default(t.target).closest(".btn")[0]; i.default(e).toggleClass("focus", /^focus(in)?$/.test(t.type)) })), i.default(window).on("load.bs.button.data-api", (function () { for (var t = [].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')), e = 0, n = t.length; e < n; e++) { var i = t[e], o = i.querySelector('input:not([type="hidden"])'); o.checked || o.hasAttribute("checked") ? i.classList.add("active") : i.classList.remove("active") } for (var r = 0, a = (t = [].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length; r < a; r++) { var s = t[r]; "true" === s.getAttribute("aria-pressed") ? s.classList.add("active") : s.classList.remove("active") } })), i.default.fn.button = h._jQueryInterface, i.default.fn.button.Constructor = h, i.default.fn.button.noConflict = function () { return i.default.fn.button = c, h._jQueryInterface }; var p = "carousel", m = ".bs.carousel", g = i.default.fn[p], v = { interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0, touch: !0 }, _ = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean", touch: "boolean" }, b = { TOUCH: "touch", PEN: "pen" }, y = function () { function t(t, e) { this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this.touchStartX = 0, this.touchDeltaX = 0, this._config = this._getConfig(e), this._element = t, this._indicatorsElement = this._element.querySelector(".carousel-indicators"), this._touchSupported = "ontouchstart" in document.documentElement || navigator.maxTouchPoints > 0, this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent), this._addEventListeners() } var e = t.prototype; return e.next = function () { this._isSliding || this._slide("next") }, e.nextWhenVisible = function () { var t = i.default(this._element); !document.hidden && t.is(":visible") && "hidden" !== t.css("visibility") && this.next() }, e.prev = function () { this._isSliding || this._slide("prev") }, e.pause = function (t) { t || (this._isPaused = !0), this._element.querySelector(".carousel-item-next, .carousel-item-prev") && (l.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null }, e.cycle = function (t) { t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval)) }, e.to = function (t) { var e = this; this._activeElement = this._element.querySelector(".active.carousel-item"); var n = this._getItemIndex(this._activeElement); if (!(t > this._items.length - 1 || t < 0)) if (this._isSliding) i.default(this._element).one("slid.bs.carousel", (function () { return e.to(t) })); else { if (n === t) return this.pause(), void this.cycle(); var o = t > n ? "next" : "prev"; this._slide(o, this._items[t]) } }, e.dispose = function () { i.default(this._element).off(m), i.default.removeData(this._element, "bs.carousel"), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null }, e._getConfig = function (t) { return t = a({}, v, t), l.typeCheckConfig(p, t, _), t }, e._handleSwipe = function () { var t = Math.abs(this.touchDeltaX); if (!(t <= 40)) { var e = t / this.touchDeltaX; this.touchDeltaX = 0, e > 0 && this.prev(), e < 0 && this.next() } }, e._addEventListeners = function () { var t = this; this._config.keyboard && i.default(this._element).on("keydown.bs.carousel", (function (e) { return t._keydown(e) })), "hover" === this._config.pause && i.default(this._element).on("mouseenter.bs.carousel", (function (e) { return t.pause(e) })).on("mouseleave.bs.carousel", (function (e) { return t.cycle(e) })), this._config.touch && this._addTouchEventListeners() }, e._addTouchEventListeners = function () { var t = this; if (this._touchSupported) { var e = function (e) { t._pointerEvent && b[e.originalEvent.pointerType.toUpperCase()] ? t.touchStartX = e.originalEvent.clientX : t._pointerEvent || (t.touchStartX = e.originalEvent.touches[0].clientX) }, n = function (e) { t._pointerEvent && b[e.originalEvent.pointerType.toUpperCase()] && (t.touchDeltaX = e.originalEvent.clientX - t.touchStartX), t._handleSwipe(), "hover" === t._config.pause && (t.pause(), t.touchTimeout && clearTimeout(t.touchTimeout), t.touchTimeout = setTimeout((function (e) { return t.cycle(e) }), 500 + t._config.interval)) }; i.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel", (function (t) { return t.preventDefault() })), this._pointerEvent ? (i.default(this._element).on("pointerdown.bs.carousel", (function (t) { return e(t) })), i.default(this._element).on("pointerup.bs.carousel", (function (t) { return n(t) })), this._element.classList.add("pointer-event")) : (i.default(this._element).on("touchstart.bs.carousel", (function (t) { return e(t) })), i.default(this._element).on("touchmove.bs.carousel", (function (e) { return function (e) { e.originalEvent.touches && e.originalEvent.touches.length > 1 ? t.touchDeltaX = 0 : t.touchDeltaX = e.originalEvent.touches[0].clientX - t.touchStartX }(e) })), i.default(this._element).on("touchend.bs.carousel", (function (t) { return n(t) }))) } }, e._keydown = function (t) { if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) { case 37: t.preventDefault(), this.prev(); break; case 39: t.preventDefault(), this.next() } }, e._getItemIndex = function (t) { return this._items = t && t.parentNode ? [].slice.call(t.parentNode.querySelectorAll(".carousel-item")) : [], this._items.indexOf(t) }, e._getItemByDirection = function (t, e) { var n = "next" === t, i = "prev" === t, o = this._getItemIndex(e), r = this._items.length - 1; if ((i && 0 === o || n && o === r) && !this._config.wrap) return e; var a = (o + ("prev" === t ? -1 : 1)) % this._items.length; return -1 === a ? this._items[this._items.length - 1] : this._items[a] }, e._triggerSlideEvent = function (t, e) { var n = this._getItemIndex(t), o = this._getItemIndex(this._element.querySelector(".active.carousel-item")), r = i.default.Event("slide.bs.carousel", { relatedTarget: t, direction: e, from: o, to: n }); return i.default(this._element).trigger(r), r }, e._setActiveIndicatorElement = function (t) { if (this._indicatorsElement) { var e = [].slice.call(this._indicatorsElement.querySelectorAll(".active")); i.default(e).removeClass("active"); var n = this._indicatorsElement.children[this._getItemIndex(t)]; n && i.default(n).addClass("active") } }, e._slide = function (t, e) { var n, o, r, a = this, s = this._element.querySelector(".active.carousel-item"), u = this._getItemIndex(s), f = e || s && this._getItemByDirection(t, s), d = this._getItemIndex(f), c = Boolean(this._interval); if ("next" === t ? (n = "carousel-item-left", o = "carousel-item-next", r = "left") : (n = "carousel-item-right", o = "carousel-item-prev", r = "right"), f && i.default(f).hasClass("active")) this._isSliding = !1; else if (!this._triggerSlideEvent(f, r).isDefaultPrevented() && s && f) { this._isSliding = !0, c && this.pause(), this._setActiveIndicatorElement(f); var h = i.default.Event("slid.bs.carousel", { relatedTarget: f, direction: r, from: u, to: d }); if (i.default(this._element).hasClass("slide")) { i.default(f).addClass(o), l.reflow(f), i.default(s).addClass(n), i.default(f).addClass(n); var p = parseInt(f.getAttribute("data-interval"), 10); p ? (this._config.defaultInterval = this._config.defaultInterval || this._config.interval, this._config.interval = p) : this._config.interval = this._config.defaultInterval || this._config.interval; var m = l.getTransitionDurationFromElement(s); i.default(s).one(l.TRANSITION_END, (function () { i.default(f).removeClass(n + " " + o).addClass("active"), i.default(s).removeClass("active " + o + " " + n), a._isSliding = !1, setTimeout((function () { return i.default(a._element).trigger(h) }), 0) })).emulateTransitionEnd(m) } else i.default(s).removeClass("active"), i.default(f).addClass("active"), this._isSliding = !1, i.default(this._element).trigger(h); c && this.cycle() } }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this).data("bs.carousel"), o = a({}, v, i.default(this).data()); "object" == typeof e && (o = a({}, o, e)); var r = "string" == typeof e ? e : o.slide; if (n || (n = new t(this, o), i.default(this).data("bs.carousel", n)), "number" == typeof e) n.to(e); else if ("string" == typeof r) { if ("undefined" == typeof n[r]) throw new TypeError('No method named "' + r + '"'); n[r]() } else o.interval && o.ride && (n.pause(), n.cycle()) })) }, t._dataApiClickHandler = function (e) { var n = l.getSelectorFromElement(this); if (n) { var o = i.default(n)[0]; if (o && i.default(o).hasClass("carousel")) { var r = a({}, i.default(o).data(), i.default(this).data()), s = this.getAttribute("data-slide-to"); s && (r.interval = !1), t._jQueryInterface.call(i.default(o), r), s && i.default(o).data("bs.carousel").to(s), e.preventDefault() } } }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return v } }]), t }(); i.default(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", y._dataApiClickHandler), i.default(window).on("load.bs.carousel.data-api", (function () { for (var t = [].slice.call(document.querySelectorAll('[data-ride="carousel"]')), e = 0, n = t.length; e < n; e++) { var o = i.default(t[e]); y._jQueryInterface.call(o, o.data()) } })), i.default.fn[p] = y._jQueryInterface, i.default.fn[p].Constructor = y, i.default.fn[p].noConflict = function () { return i.default.fn[p] = g, y._jQueryInterface }; var w = "collapse", E = i.default.fn[w], T = { toggle: !0, parent: "" }, C = { toggle: "boolean", parent: "(string|element)" }, S = function () { function t(t, e) { this._isTransitioning = !1, this._element = t, this._config = this._getConfig(e), this._triggerArray = [].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]')); for (var n = [].slice.call(document.querySelectorAll('[data-toggle="collapse"]')), i = 0, o = n.length; i < o; i++) { var r = n[i], a = l.getSelectorFromElement(r), s = [].slice.call(document.querySelectorAll(a)).filter((function (e) { return e === t })); null !== a && s.length > 0 && (this._selector = a, this._triggerArray.push(r)) } this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle() } var e = t.prototype; return e.toggle = function () { i.default(this._element).hasClass("show") ? this.hide() : this.show() }, e.show = function () { var e, n, o = this; if (!this._isTransitioning && !i.default(this._element).hasClass("show") && (this._parent && 0 === (e = [].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function (t) { return "string" == typeof o._config.parent ? t.getAttribute("data-parent") === o._config.parent : t.classList.contains("collapse") }))).length && (e = null), !(e && (n = i.default(e).not(this._selector).data("bs.collapse")) && n._isTransitioning))) { var r = i.default.Event("show.bs.collapse"); if (i.default(this._element).trigger(r), !r.isDefaultPrevented()) { e && (t._jQueryInterface.call(i.default(e).not(this._selector), "hide"), n || i.default(e).data("bs.collapse", null)); var a = this._getDimension(); i.default(this._element).removeClass("collapse").addClass("collapsing"), this._element.style[a] = 0, this._triggerArray.length && i.default(this._triggerArray).removeClass("collapsed").attr("aria-expanded", !0), this.setTransitioning(!0); var s = "scroll" + (a[0].toUpperCase() + a.slice(1)), u = l.getTransitionDurationFromElement(this._element); i.default(this._element).one(l.TRANSITION_END, (function () { i.default(o._element).removeClass("collapsing").addClass("collapse show"), o._element.style[a] = "", o.setTransitioning(!1), i.default(o._element).trigger("shown.bs.collapse") })).emulateTransitionEnd(u), this._element.style[a] = this._element[s] + "px" } } }, e.hide = function () { var t = this; if (!this._isTransitioning && i.default(this._element).hasClass("show")) { var e = i.default.Event("hide.bs.collapse"); if (i.default(this._element).trigger(e), !e.isDefaultPrevented()) { var n = this._getDimension(); this._element.style[n] = this._element.getBoundingClientRect()[n] + "px", l.reflow(this._element), i.default(this._element).addClass("collapsing").removeClass("collapse show"); var o = this._triggerArray.length; if (o > 0) for (var r = 0; r < o; r++) { var a = this._triggerArray[r], s = l.getSelectorFromElement(a); if (null !== s) i.default([].slice.call(document.querySelectorAll(s))).hasClass("show") || i.default(a).addClass("collapsed").attr("aria-expanded", !1) } this.setTransitioning(!0); this._element.style[n] = ""; var u = l.getTransitionDurationFromElement(this._element); i.default(this._element).one(l.TRANSITION_END, (function () { t.setTransitioning(!1), i.default(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse") })).emulateTransitionEnd(u) } } }, e.setTransitioning = function (t) { this._isTransitioning = t }, e.dispose = function () { i.default.removeData(this._element, "bs.collapse"), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null }, e._getConfig = function (t) { return (t = a({}, T, t)).toggle = Boolean(t.toggle), l.typeCheckConfig(w, t, C), t }, e._getDimension = function () { return i.default(this._element).hasClass("width") ? "width" : "height" }, e._getParent = function () { var e, n = this; l.isElement(this._config.parent) ? (e = this._config.parent, "undefined" != typeof this._config.parent.jquery && (e = this._config.parent[0])) : e = document.querySelector(this._config.parent); var o = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]', r = [].slice.call(e.querySelectorAll(o)); return i.default(r).each((function (e, i) { n._addAriaAndCollapsedClass(t._getTargetFromElement(i), [i]) })), e }, e._addAriaAndCollapsedClass = function (t, e) { var n = i.default(t).hasClass("show"); e.length && i.default(e).toggleClass("collapsed", !n).attr("aria-expanded", n) }, t._getTargetFromElement = function (t) { var e = l.getSelectorFromElement(t); return e ? document.querySelector(e) : null }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this), o = n.data("bs.collapse"), r = a({}, T, n.data(), "object" == typeof e && e ? e : {}); if (!o && r.toggle && "string" == typeof e && /show|hide/.test(e) && (r.toggle = !1), o || (o = new t(this, r), n.data("bs.collapse", o)), "string" == typeof e) { if ("undefined" == typeof o[e]) throw new TypeError('No method named "' + e + '"'); o[e]() } })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return T } }]), t }(); i.default(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', (function (t) { "A" === t.currentTarget.tagName && t.preventDefault(); var e = i.default(this), n = l.getSelectorFromElement(this), o = [].slice.call(document.querySelectorAll(n)); i.default(o).each((function () { var t = i.default(this), n = t.data("bs.collapse") ? "toggle" : e.data(); S._jQueryInterface.call(t, n) })) })), i.default.fn[w] = S._jQueryInterface, i.default.fn[w].Constructor = S, i.default.fn[w].noConflict = function () { return i.default.fn[w] = E, S._jQueryInterface }; var D = "undefined" != typeof window && "undefined" != typeof document && "undefined" != typeof navigator, N = function () { for (var t = ["Edge", "Trident", "Firefox"], e = 0; e < t.length; e += 1)if (D && navigator.userAgent.indexOf(t[e]) >= 0) return 1; return 0 }(); var k = D && window.Promise ? function (t) { var e = !1; return function () { e || (e = !0, window.Promise.resolve().then((function () { e = !1, t() }))) } } : function (t) { var e = !1; return function () { e || (e = !0, setTimeout((function () { e = !1, t() }), N)) } }; function A(t) { return t && "[object Function]" === {}.toString.call(t) } function I(t, e) { if (1 !== t.nodeType) return []; var n = t.ownerDocument.defaultView.getComputedStyle(t, null); return e ? n[e] : n } function O(t) { return "HTML" === t.nodeName ? t : t.parentNode || t.host } function x(t) { if (!t) return document.body; switch (t.nodeName) { case "HTML": case "BODY": return t.ownerDocument.body; case "#document": return t.body }var e = I(t), n = e.overflow, i = e.overflowX, o = e.overflowY; return /(auto|scroll|overlay)/.test(n + o + i) ? t : x(O(t)) } function j(t) { return t && t.referenceNode ? t.referenceNode : t } var L = D && !(!window.MSInputMethodContext || !document.documentMode), P = D && /MSIE 10/.test(navigator.userAgent); function F(t) { return 11 === t ? L : 10 === t ? P : L || P } function R(t) { if (!t) return document.documentElement; for (var e = F(10) ? document.body : null, n = t.offsetParent || null; n === e && t.nextElementSibling;)n = (t = t.nextElementSibling).offsetParent; var i = n && n.nodeName; return i && "BODY" !== i && "HTML" !== i ? -1 !== ["TH", "TD", "TABLE"].indexOf(n.nodeName) && "static" === I(n, "position") ? R(n) : n : t ? t.ownerDocument.documentElement : document.documentElement } function H(t) { return null !== t.parentNode ? H(t.parentNode) : t } function M(t, e) { if (!(t && t.nodeType && e && e.nodeType)) return document.documentElement; var n = t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_FOLLOWING, i = n ? t : e, o = n ? e : t, r = document.createRange(); r.setStart(i, 0), r.setEnd(o, 0); var a, s, l = r.commonAncestorContainer; if (t !== l && e !== l || i.contains(o)) return "BODY" === (s = (a = l).nodeName) || "HTML" !== s && R(a.firstElementChild) !== a ? R(l) : l; var u = H(t); return u.host ? M(u.host, e) : M(t, H(e).host) } function B(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "top", n = "top" === e ? "scrollTop" : "scrollLeft", i = t.nodeName; if ("BODY" === i || "HTML" === i) { var o = t.ownerDocument.documentElement, r = t.ownerDocument.scrollingElement || o; return r[n] } return t[n] } function q(t, e) { var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], i = B(e, "top"), o = B(e, "left"), r = n ? -1 : 1; return t.top += i * r, t.bottom += i * r, t.left += o * r, t.right += o * r, t } function Q(t, e) { var n = "x" === e ? "Left" : "Top", i = "Left" === n ? "Right" : "Bottom"; return parseFloat(t["border" + n + "Width"]) + parseFloat(t["border" + i + "Width"]) } function W(t, e, n, i) { return Math.max(e["offset" + t], e["scroll" + t], n["client" + t], n["offset" + t], n["scroll" + t], F(10) ? parseInt(n["offset" + t]) + parseInt(i["margin" + ("Height" === t ? "Top" : "Left")]) + parseInt(i["margin" + ("Height" === t ? "Bottom" : "Right")]) : 0) } function U(t) { var e = t.body, n = t.documentElement, i = F(10) && getComputedStyle(n); return { height: W("Height", e, n, i), width: W("Width", e, n, i) } } var V = function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }, Y = function () { function t(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } return function (e, n, i) { return n && t(e.prototype, n), i && t(e, i), e } }(), z = function (t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t }, X = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }; function K(t) { return X({}, t, { right: t.left + t.width, bottom: t.top + t.height }) } function G(t) { var e = {}; try { if (F(10)) { e = t.getBoundingClientRect(); var n = B(t, "top"), i = B(t, "left"); e.top += n, e.left += i, e.bottom += n, e.right += i } else e = t.getBoundingClientRect() } catch (t) { } var o = { left: e.left, top: e.top, width: e.right - e.left, height: e.bottom - e.top }, r = "HTML" === t.nodeName ? U(t.ownerDocument) : {}, a = r.width || t.clientWidth || o.width, s = r.height || t.clientHeight || o.height, l = t.offsetWidth - a, u = t.offsetHeight - s; if (l || u) { var f = I(t); l -= Q(f, "x"), u -= Q(f, "y"), o.width -= l, o.height -= u } return K(o) } function $(t, e) { var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], i = F(10), o = "HTML" === e.nodeName, r = G(t), a = G(e), s = x(t), l = I(e), u = parseFloat(l.borderTopWidth), f = parseFloat(l.borderLeftWidth); n && o && (a.top = Math.max(a.top, 0), a.left = Math.max(a.left, 0)); var d = K({ top: r.top - a.top - u, left: r.left - a.left - f, width: r.width, height: r.height }); if (d.marginTop = 0, d.marginLeft = 0, !i && o) { var c = parseFloat(l.marginTop), h = parseFloat(l.marginLeft); d.top -= u - c, d.bottom -= u - c, d.left -= f - h, d.right -= f - h, d.marginTop = c, d.marginLeft = h } return (i && !n ? e.contains(s) : e === s && "BODY" !== s.nodeName) && (d = q(d, e)), d } function J(t) { var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = t.ownerDocument.documentElement, i = $(t, n), o = Math.max(n.clientWidth, window.innerWidth || 0), r = Math.max(n.clientHeight, window.innerHeight || 0), a = e ? 0 : B(n), s = e ? 0 : B(n, "left"), l = { top: a - i.top + i.marginTop, left: s - i.left + i.marginLeft, width: o, height: r }; return K(l) } function Z(t) { var e = t.nodeName; if ("BODY" === e || "HTML" === e) return !1; if ("fixed" === I(t, "position")) return !0; var n = O(t); return !!n && Z(n) } function tt(t) { if (!t || !t.parentElement || F()) return document.documentElement; for (var e = t.parentElement; e && "none" === I(e, "transform");)e = e.parentElement; return e || document.documentElement } function et(t, e, n, i) { var o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], r = { top: 0, left: 0 }, a = o ? tt(t) : M(t, j(e)); if ("viewport" === i) r = J(a, o); else { var s = void 0; "scrollParent" === i ? "BODY" === (s = x(O(e))).nodeName && (s = t.ownerDocument.documentElement) : s = "window" === i ? t.ownerDocument.documentElement : i; var l = $(s, a, o); if ("HTML" !== s.nodeName || Z(a)) r = l; else { var u = U(t.ownerDocument), f = u.height, d = u.width; r.top += l.top - l.marginTop, r.bottom = f + l.top, r.left += l.left - l.marginLeft, r.right = d + l.left } } var c = "number" == typeof (n = n || 0); return r.left += c ? n : n.left || 0, r.top += c ? n : n.top || 0, r.right -= c ? n : n.right || 0, r.bottom -= c ? n : n.bottom || 0, r } function nt(t) { return t.width * t.height } function it(t, e, n, i, o) { var r = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0; if (-1 === t.indexOf("auto")) return t; var a = et(n, i, r, o), s = { top: { width: a.width, height: e.top - a.top }, right: { width: a.right - e.right, height: a.height }, bottom: { width: a.width, height: a.bottom - e.bottom }, left: { width: e.left - a.left, height: a.height } }, l = Object.keys(s).map((function (t) { return X({ key: t }, s[t], { area: nt(s[t]) }) })).sort((function (t, e) { return e.area - t.area })), u = l.filter((function (t) { var e = t.width, i = t.height; return e >= n.clientWidth && i >= n.clientHeight })), f = u.length > 0 ? u[0].key : l[0].key, d = t.split("-")[1]; return f + (d ? "-" + d : "") } function ot(t, e, n) { var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null, o = i ? tt(e) : M(e, j(n)); return $(n, o, i) } function rt(t) { var e = t.ownerDocument.defaultView.getComputedStyle(t), n = parseFloat(e.marginTop || 0) + parseFloat(e.marginBottom || 0), i = parseFloat(e.marginLeft || 0) + parseFloat(e.marginRight || 0); return { width: t.offsetWidth + i, height: t.offsetHeight + n } } function at(t) { var e = { left: "right", right: "left", bottom: "top", top: "bottom" }; return t.replace(/left|right|bottom|top/g, (function (t) { return e[t] })) } function st(t, e, n) { n = n.split("-")[0]; var i = rt(t), o = { width: i.width, height: i.height }, r = -1 !== ["right", "left"].indexOf(n), a = r ? "top" : "left", s = r ? "left" : "top", l = r ? "height" : "width", u = r ? "width" : "height"; return o[a] = e[a] + e[l] / 2 - i[l] / 2, o[s] = n === s ? e[s] - i[u] : e[at(s)], o } function lt(t, e) { return Array.prototype.find ? t.find(e) : t.filter(e)[0] } function ut(t, e, n) { return (void 0 === n ? t : t.slice(0, function (t, e, n) { if (Array.prototype.findIndex) return t.findIndex((function (t) { return t[e] === n })); var i = lt(t, (function (t) { return t[e] === n })); return t.indexOf(i) }(t, "name", n))).forEach((function (t) { t.function && console.warn("`modifier.function` is deprecated, use `modifier.fn`!"); var n = t.function || t.fn; t.enabled && A(n) && (e.offsets.popper = K(e.offsets.popper), e.offsets.reference = K(e.offsets.reference), e = n(e, t)) })), e } function ft() { if (!this.state.isDestroyed) { var t = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} }; t.offsets.reference = ot(this.state, this.popper, this.reference, this.options.positionFixed), t.placement = it(this.options.placement, t.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), t.originalPlacement = t.placement, t.positionFixed = this.options.positionFixed, t.offsets.popper = st(this.popper, t.offsets.reference, t.placement), t.offsets.popper.position = this.options.positionFixed ? "fixed" : "absolute", t = ut(this.modifiers, t), this.state.isCreated ? this.options.onUpdate(t) : (this.state.isCreated = !0, this.options.onCreate(t)) } } function dt(t, e) { return t.some((function (t) { var n = t.name; return t.enabled && n === e })) } function ct(t) { for (var e = [!1, "ms", "Webkit", "Moz", "O"], n = t.charAt(0).toUpperCase() + t.slice(1), i = 0; i < e.length; i++) { var o = e[i], r = o ? "" + o + n : t; if ("undefined" != typeof document.body.style[r]) return r } return null } function ht() { return this.state.isDestroyed = !0, dt(this.modifiers, "applyStyle") && (this.popper.removeAttribute("x-placement"), this.popper.style.position = "", this.popper.style.top = "", this.popper.style.left = "", this.popper.style.right = "", this.popper.style.bottom = "", this.popper.style.willChange = "", this.popper.style[ct("transform")] = ""), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this } function pt(t) { var e = t.ownerDocument; return e ? e.defaultView : window } function mt(t, e, n, i) { n.updateBound = i, pt(t).addEventListener("resize", n.updateBound, { passive: !0 }); var o = x(t); return function t(e, n, i, o) { var r = "BODY" === e.nodeName, a = r ? e.ownerDocument.defaultView : e; a.addEventListener(n, i, { passive: !0 }), r || t(x(a.parentNode), n, i, o), o.push(a) }(o, "scroll", n.updateBound, n.scrollParents), n.scrollElement = o, n.eventsEnabled = !0, n } function gt() { this.state.eventsEnabled || (this.state = mt(this.reference, this.options, this.state, this.scheduleUpdate)) } function vt() { var t, e; this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = (t = this.reference, e = this.state, pt(t).removeEventListener("resize", e.updateBound), e.scrollParents.forEach((function (t) { t.removeEventListener("scroll", e.updateBound) })), e.updateBound = null, e.scrollParents = [], e.scrollElement = null, e.eventsEnabled = !1, e)) } function _t(t) { return "" !== t && !isNaN(parseFloat(t)) && isFinite(t) } function bt(t, e) { Object.keys(e).forEach((function (n) { var i = ""; -1 !== ["width", "height", "top", "right", "bottom", "left"].indexOf(n) && _t(e[n]) && (i = "px"), t.style[n] = e[n] + i })) } var yt = D && /Firefox/i.test(navigator.userAgent); function wt(t, e, n) { var i = lt(t, (function (t) { return t.name === e })), o = !!i && t.some((function (t) { return t.name === n && t.enabled && t.order < i.order })); if (!o) { var r = "`" + e + "`", a = "`" + n + "`"; console.warn(a + " modifier is required by " + r + " modifier in order to work, be sure to include it before " + r + "!") } return o } var Et = ["auto-start", "auto", "auto-end", "top-start", "top", "top-end", "right-start", "right", "right-end", "bottom-end", "bottom", "bottom-start", "left-end", "left", "left-start"], Tt = Et.slice(3); function Ct(t) { var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = Tt.indexOf(t), i = Tt.slice(n + 1).concat(Tt.slice(0, n)); return e ? i.reverse() : i } var St = "flip", Dt = "clockwise", Nt = "counterclockwise"; function kt(t, e, n, i) { var o = [0, 0], r = -1 !== ["right", "left"].indexOf(i), a = t.split(/(\+|\-)/).map((function (t) { return t.trim() })), s = a.indexOf(lt(a, (function (t) { return -1 !== t.search(/,|\s/) }))); a[s] && -1 === a[s].indexOf(",") && console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."); var l = /\s*,\s*|\s+/, u = -1 !== s ? [a.slice(0, s).concat([a[s].split(l)[0]]), [a[s].split(l)[1]].concat(a.slice(s + 1))] : [a]; return (u = u.map((function (t, i) { var o = (1 === i ? !r : r) ? "height" : "width", a = !1; return t.reduce((function (t, e) { return "" === t[t.length - 1] && -1 !== ["+", "-"].indexOf(e) ? (t[t.length - 1] = e, a = !0, t) : a ? (t[t.length - 1] += e, a = !1, t) : t.concat(e) }), []).map((function (t) { return function (t, e, n, i) { var o = t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), r = +o[1], a = o[2]; if (!r) return t; if (0 === a.indexOf("%")) { var s = void 0; switch (a) { case "%p": s = n; break; case "%": case "%r": default: s = i }return K(s)[e] / 100 * r } if ("vh" === a || "vw" === a) { return ("vh" === a ? Math.max(document.documentElement.clientHeight, window.innerHeight || 0) : Math.max(document.documentElement.clientWidth, window.innerWidth || 0)) / 100 * r } return r }(t, o, e, n) })) }))).forEach((function (t, e) { t.forEach((function (n, i) { _t(n) && (o[e] += n * ("-" === t[i - 1] ? -1 : 1)) })) })), o } var At = { placement: "bottom", positionFixed: !1, eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () { }, onUpdate: function () { }, modifiers: { shift: { order: 100, enabled: !0, fn: function (t) { var e = t.placement, n = e.split("-")[0], i = e.split("-")[1]; if (i) { var o = t.offsets, r = o.reference, a = o.popper, s = -1 !== ["bottom", "top"].indexOf(n), l = s ? "left" : "top", u = s ? "width" : "height", f = { start: z({}, l, r[l]), end: z({}, l, r[l] + r[u] - a[u]) }; t.offsets.popper = X({}, a, f[i]) } return t } }, offset: { order: 200, enabled: !0, fn: function (t, e) { var n = e.offset, i = t.placement, o = t.offsets, r = o.popper, a = o.reference, s = i.split("-")[0], l = void 0; return l = _t(+n) ? [+n, 0] : kt(n, r, a, s), "left" === s ? (r.top += l[0], r.left -= l[1]) : "right" === s ? (r.top += l[0], r.left += l[1]) : "top" === s ? (r.left += l[0], r.top -= l[1]) : "bottom" === s && (r.left += l[0], r.top += l[1]), t.popper = r, t }, offset: 0 }, preventOverflow: { order: 300, enabled: !0, fn: function (t, e) { var n = e.boundariesElement || R(t.instance.popper); t.instance.reference === n && (n = R(n)); var i = ct("transform"), o = t.instance.popper.style, r = o.top, a = o.left, s = o[i]; o.top = "", o.left = "", o[i] = ""; var l = et(t.instance.popper, t.instance.reference, e.padding, n, t.positionFixed); o.top = r, o.left = a, o[i] = s, e.boundaries = l; var u = e.priority, f = t.offsets.popper, d = { primary: function (t) { var n = f[t]; return f[t] < l[t] && !e.escapeWithReference && (n = Math.max(f[t], l[t])), z({}, t, n) }, secondary: function (t) { var n = "right" === t ? "left" : "top", i = f[n]; return f[t] > l[t] && !e.escapeWithReference && (i = Math.min(f[n], l[t] - ("right" === t ? f.width : f.height))), z({}, n, i) } }; return u.forEach((function (t) { var e = -1 !== ["left", "top"].indexOf(t) ? "primary" : "secondary"; f = X({}, f, d[e](t)) })), t.offsets.popper = f, t }, priority: ["left", "right", "top", "bottom"], padding: 5, boundariesElement: "scrollParent" }, keepTogether: { order: 400, enabled: !0, fn: function (t) { var e = t.offsets, n = e.popper, i = e.reference, o = t.placement.split("-")[0], r = Math.floor, a = -1 !== ["top", "bottom"].indexOf(o), s = a ? "right" : "bottom", l = a ? "left" : "top", u = a ? "width" : "height"; return n[s] < r(i[l]) && (t.offsets.popper[l] = r(i[l]) - n[u]), n[l] > r(i[s]) && (t.offsets.popper[l] = r(i[s])), t } }, arrow: { order: 500, enabled: !0, fn: function (t, e) { var n; if (!wt(t.instance.modifiers, "arrow", "keepTogether")) return t; var i = e.element; if ("string" == typeof i) { if (!(i = t.instance.popper.querySelector(i))) return t } else if (!t.instance.popper.contains(i)) return console.warn("WARNING: `arrow.element` must be child of its popper element!"), t; var o = t.placement.split("-")[0], r = t.offsets, a = r.popper, s = r.reference, l = -1 !== ["left", "right"].indexOf(o), u = l ? "height" : "width", f = l ? "Top" : "Left", d = f.toLowerCase(), c = l ? "left" : "top", h = l ? "bottom" : "right", p = rt(i)[u]; s[h] - p < a[d] && (t.offsets.popper[d] -= a[d] - (s[h] - p)), s[d] + p > a[h] && (t.offsets.popper[d] += s[d] + p - a[h]), t.offsets.popper = K(t.offsets.popper); var m = s[d] + s[u] / 2 - p / 2, g = I(t.instance.popper), v = parseFloat(g["margin" + f]), _ = parseFloat(g["border" + f + "Width"]), b = m - t.offsets.popper[d] - v - _; return b = Math.max(Math.min(a[u] - p, b), 0), t.arrowElement = i, t.offsets.arrow = (z(n = {}, d, Math.round(b)), z(n, c, ""), n), t }, element: "[x-arrow]" }, flip: { order: 600, enabled: !0, fn: function (t, e) { if (dt(t.instance.modifiers, "inner")) return t; if (t.flipped && t.placement === t.originalPlacement) return t; var n = et(t.instance.popper, t.instance.reference, e.padding, e.boundariesElement, t.positionFixed), i = t.placement.split("-")[0], o = at(i), r = t.placement.split("-")[1] || "", a = []; switch (e.behavior) { case St: a = [i, o]; break; case Dt: a = Ct(i); break; case Nt: a = Ct(i, !0); break; default: a = e.behavior }return a.forEach((function (s, l) { if (i !== s || a.length === l + 1) return t; i = t.placement.split("-")[0], o = at(i); var u = t.offsets.popper, f = t.offsets.reference, d = Math.floor, c = "left" === i && d(u.right) > d(f.left) || "right" === i && d(u.left) < d(f.right) || "top" === i && d(u.bottom) > d(f.top) || "bottom" === i && d(u.top) < d(f.bottom), h = d(u.left) < d(n.left), p = d(u.right) > d(n.right), m = d(u.top) < d(n.top), g = d(u.bottom) > d(n.bottom), v = "left" === i && h || "right" === i && p || "top" === i && m || "bottom" === i && g, _ = -1 !== ["top", "bottom"].indexOf(i), b = !!e.flipVariations && (_ && "start" === r && h || _ && "end" === r && p || !_ && "start" === r && m || !_ && "end" === r && g), y = !!e.flipVariationsByContent && (_ && "start" === r && p || _ && "end" === r && h || !_ && "start" === r && g || !_ && "end" === r && m), w = b || y; (c || v || w) && (t.flipped = !0, (c || v) && (i = a[l + 1]), w && (r = function (t) { return "end" === t ? "start" : "start" === t ? "end" : t }(r)), t.placement = i + (r ? "-" + r : ""), t.offsets.popper = X({}, t.offsets.popper, st(t.instance.popper, t.offsets.reference, t.placement)), t = ut(t.instance.modifiers, t, "flip")) })), t }, behavior: "flip", padding: 5, boundariesElement: "viewport", flipVariations: !1, flipVariationsByContent: !1 }, inner: { order: 700, enabled: !1, fn: function (t) { var e = t.placement, n = e.split("-")[0], i = t.offsets, o = i.popper, r = i.reference, a = -1 !== ["left", "right"].indexOf(n), s = -1 === ["top", "left"].indexOf(n); return o[a ? "left" : "top"] = r[n] - (s ? o[a ? "width" : "height"] : 0), t.placement = at(e), t.offsets.popper = K(o), t } }, hide: { order: 800, enabled: !0, fn: function (t) { if (!wt(t.instance.modifiers, "hide", "preventOverflow")) return t; var e = t.offsets.reference, n = lt(t.instance.modifiers, (function (t) { return "preventOverflow" === t.name })).boundaries; if (e.bottom < n.top || e.left > n.right || e.top > n.bottom || e.right < n.left) { if (!0 === t.hide) return t; t.hide = !0, t.attributes["x-out-of-boundaries"] = "" } else { if (!1 === t.hide) return t; t.hide = !1, t.attributes["x-out-of-boundaries"] = !1 } return t } }, computeStyle: { order: 850, enabled: !0, fn: function (t, e) { var n = e.x, i = e.y, o = t.offsets.popper, r = lt(t.instance.modifiers, (function (t) { return "applyStyle" === t.name })).gpuAcceleration; void 0 !== r && console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!"); var a = void 0 !== r ? r : e.gpuAcceleration, s = R(t.instance.popper), l = G(s), u = { position: o.position }, f = function (t, e) { var n = t.offsets, i = n.popper, o = n.reference, r = Math.round, a = Math.floor, s = function (t) { return t }, l = r(o.width), u = r(i.width), f = -1 !== ["left", "right"].indexOf(t.placement), d = -1 !== t.placement.indexOf("-"), c = e ? f || d || l % 2 == u % 2 ? r : a : s, h = e ? r : s; return { left: c(l % 2 == 1 && u % 2 == 1 && !d && e ? i.left - 1 : i.left), top: h(i.top), bottom: h(i.bottom), right: c(i.right) } }(t, window.devicePixelRatio < 2 || !yt), d = "bottom" === n ? "top" : "bottom", c = "right" === i ? "left" : "right", h = ct("transform"), p = void 0, m = void 0; if (m = "bottom" === d ? "HTML" === s.nodeName ? -s.clientHeight + f.bottom : -l.height + f.bottom : f.top, p = "right" === c ? "HTML" === s.nodeName ? -s.clientWidth + f.right : -l.width + f.right : f.left, a && h) u[h] = "translate3d(" + p + "px, " + m + "px, 0)", u[d] = 0, u[c] = 0, u.willChange = "transform"; else { var g = "bottom" === d ? -1 : 1, v = "right" === c ? -1 : 1; u[d] = m * g, u[c] = p * v, u.willChange = d + ", " + c } var _ = { "x-placement": t.placement }; return t.attributes = X({}, _, t.attributes), t.styles = X({}, u, t.styles), t.arrowStyles = X({}, t.offsets.arrow, t.arrowStyles), t }, gpuAcceleration: !0, x: "bottom", y: "right" }, applyStyle: { order: 900, enabled: !0, fn: function (t) { var e, n; return bt(t.instance.popper, t.styles), e = t.instance.popper, n = t.attributes, Object.keys(n).forEach((function (t) { !1 !== n[t] ? e.setAttribute(t, n[t]) : e.removeAttribute(t) })), t.arrowElement && Object.keys(t.arrowStyles).length && bt(t.arrowElement, t.arrowStyles), t }, onLoad: function (t, e, n, i, o) { var r = ot(o, e, t, n.positionFixed), a = it(n.placement, r, e, t, n.modifiers.flip.boundariesElement, n.modifiers.flip.padding); return e.setAttribute("x-placement", a), bt(e, { position: n.positionFixed ? "fixed" : "absolute" }), n }, gpuAcceleration: void 0 } } }, It = function () { function t(e, n) { var i = this, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; V(this, t), this.scheduleUpdate = function () { return requestAnimationFrame(i.update) }, this.update = k(this.update.bind(this)), this.options = X({}, t.Defaults, o), this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }, this.reference = e && e.jquery ? e[0] : e, this.popper = n && n.jquery ? n[0] : n, this.options.modifiers = {}, Object.keys(X({}, t.Defaults.modifiers, o.modifiers)).forEach((function (e) { i.options.modifiers[e] = X({}, t.Defaults.modifiers[e] || {}, o.modifiers ? o.modifiers[e] : {}) })), this.modifiers = Object.keys(this.options.modifiers).map((function (t) { return X({ name: t }, i.options.modifiers[t]) })).sort((function (t, e) { return t.order - e.order })), this.modifiers.forEach((function (t) { t.enabled && A(t.onLoad) && t.onLoad(i.reference, i.popper, i.options, t, i.state) })), this.update(); var r = this.options.eventsEnabled; r && this.enableEventListeners(), this.state.eventsEnabled = r } return Y(t, [{ key: "update", value: function () { return ft.call(this) } }, { key: "destroy", value: function () { return ht.call(this) } }, { key: "enableEventListeners", value: function () { return gt.call(this) } }, { key: "disableEventListeners", value: function () { return vt.call(this) } }]), t }(); It.Utils = ("undefined" != typeof window ? window : global).PopperUtils, It.placements = Et, It.Defaults = At; var Ot = "dropdown", xt = i.default.fn[Ot], jt = new RegExp("38|40|27"), Lt = { offset: 0, flip: !0, boundary: "scrollParent", reference: "toggle", display: "dynamic", popperConfig: null }, Pt = { offset: "(number|string|function)", flip: "boolean", boundary: "(string|element)", reference: "(string|element)", display: "string", popperConfig: "(null|object)" }, Ft = function () { function t(t, e) { this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners() } var e = t.prototype; return e.toggle = function () { if (!this._element.disabled && !i.default(this._element).hasClass("disabled")) { var e = i.default(this._menu).hasClass("show"); t._clearMenus(), e || this.show(!0) } }, e.show = function (e) { if (void 0 === e && (e = !1), !(this._element.disabled || i.default(this._element).hasClass("disabled") || i.default(this._menu).hasClass("show"))) { var n = { relatedTarget: this._element }, o = i.default.Event("show.bs.dropdown", n), r = t._getParentFromElement(this._element); if (i.default(r).trigger(o), !o.isDefaultPrevented()) { if (!this._inNavbar && e) { if ("undefined" == typeof It) throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)"); var a = this._element; "parent" === this._config.reference ? a = r : l.isElement(this._config.reference) && (a = this._config.reference, "undefined" != typeof this._config.reference.jquery && (a = this._config.reference[0])), "scrollParent" !== this._config.boundary && i.default(r).addClass("position-static"), this._popper = new It(a, this._menu, this._getPopperConfig()) } "ontouchstart" in document.documentElement && 0 === i.default(r).closest(".navbar-nav").length && i.default(document.body).children().on("mouseover", null, i.default.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), i.default(this._menu).toggleClass("show"), i.default(r).toggleClass("show").trigger(i.default.Event("shown.bs.dropdown", n)) } } }, e.hide = function () { if (!this._element.disabled && !i.default(this._element).hasClass("disabled") && i.default(this._menu).hasClass("show")) { var e = { relatedTarget: this._element }, n = i.default.Event("hide.bs.dropdown", e), o = t._getParentFromElement(this._element); i.default(o).trigger(n), n.isDefaultPrevented() || (this._popper && this._popper.destroy(), i.default(this._menu).toggleClass("show"), i.default(o).toggleClass("show").trigger(i.default.Event("hidden.bs.dropdown", e))) } }, e.dispose = function () { i.default.removeData(this._element, "bs.dropdown"), i.default(this._element).off(".bs.dropdown"), this._element = null, this._menu = null, null !== this._popper && (this._popper.destroy(), this._popper = null) }, e.update = function () { this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate() }, e._addEventListeners = function () { var t = this; i.default(this._element).on("click.bs.dropdown", (function (e) { e.preventDefault(), e.stopPropagation(), t.toggle() })) }, e._getConfig = function (t) { return t = a({}, this.constructor.Default, i.default(this._element).data(), t), l.typeCheckConfig(Ot, t, this.constructor.DefaultType), t }, e._getMenuElement = function () { if (!this._menu) { var e = t._getParentFromElement(this._element); e && (this._menu = e.querySelector(".dropdown-menu")) } return this._menu }, e._getPlacement = function () { var t = i.default(this._element.parentNode), e = "bottom-start"; return t.hasClass("dropup") ? e = i.default(this._menu).hasClass("dropdown-menu-right") ? "top-end" : "top-start" : t.hasClass("dropright") ? e = "right-start" : t.hasClass("dropleft") ? e = "left-start" : i.default(this._menu).hasClass("dropdown-menu-right") && (e = "bottom-end"), e }, e._detectNavbar = function () { return i.default(this._element).closest(".navbar").length > 0 }, e._getOffset = function () { var t = this, e = {}; return "function" == typeof this._config.offset ? e.fn = function (e) { return e.offsets = a({}, e.offsets, t._config.offset(e.offsets, t._element) || {}), e } : e.offset = this._config.offset, e }, e._getPopperConfig = function () { var t = { placement: this._getPlacement(), modifiers: { offset: this._getOffset(), flip: { enabled: this._config.flip }, preventOverflow: { boundariesElement: this._config.boundary } } }; return "static" === this._config.display && (t.modifiers.applyStyle = { enabled: !1 }), a({}, t, this._config.popperConfig) }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this).data("bs.dropdown"); if (n || (n = new t(this, "object" == typeof e ? e : null), i.default(this).data("bs.dropdown", n)), "string" == typeof e) { if ("undefined" == typeof n[e]) throw new TypeError('No method named "' + e + '"'); n[e]() } })) }, t._clearMenus = function (e) { if (!e || 3 !== e.which && ("keyup" !== e.type || 9 === e.which)) for (var n = [].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')), o = 0, r = n.length; o < r; o++) { var a = t._getParentFromElement(n[o]), s = i.default(n[o]).data("bs.dropdown"), l = { relatedTarget: n[o] }; if (e && "click" === e.type && (l.clickEvent = e), s) { var u = s._menu; if (i.default(a).hasClass("show") && !(e && ("click" === e.type && /input|textarea/i.test(e.target.tagName) || "keyup" === e.type && 9 === e.which) && i.default.contains(a, e.target))) { var f = i.default.Event("hide.bs.dropdown", l); i.default(a).trigger(f), f.isDefaultPrevented() || ("ontouchstart" in document.documentElement && i.default(document.body).children().off("mouseover", null, i.default.noop), n[o].setAttribute("aria-expanded", "false"), s._popper && s._popper.destroy(), i.default(u).removeClass("show"), i.default(a).removeClass("show").trigger(i.default.Event("hidden.bs.dropdown", l))) } } } }, t._getParentFromElement = function (t) { var e, n = l.getSelectorFromElement(t); return n && (e = document.querySelector(n)), e || t.parentNode }, t._dataApiKeydownHandler = function (e) { if (!(/input|textarea/i.test(e.target.tagName) ? 32 === e.which || 27 !== e.which && (40 !== e.which && 38 !== e.which || i.default(e.target).closest(".dropdown-menu").length) : !jt.test(e.which)) && !this.disabled && !i.default(this).hasClass("disabled")) { var n = t._getParentFromElement(this), o = i.default(n).hasClass("show"); if (o || 27 !== e.which) { if (e.preventDefault(), e.stopPropagation(), !o || 27 === e.which || 32 === e.which) return 27 === e.which && i.default(n.querySelector('[data-toggle="dropdown"]')).trigger("focus"), void i.default(this).trigger("click"); var r = [].slice.call(n.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function (t) { return i.default(t).is(":visible") })); if (0 !== r.length) { var a = r.indexOf(e.target); 38 === e.which && a > 0 && a--, 40 === e.which && a < r.length - 1 && a++, a < 0 && (a = 0), r[a].focus() } } } }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return Lt } }, { key: "DefaultType", get: function () { return Pt } }]), t }(); i.default(document).on("keydown.bs.dropdown.data-api", '[data-toggle="dropdown"]', Ft._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api", ".dropdown-menu", Ft._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api", Ft._clearMenus).on("click.bs.dropdown.data-api", '[data-toggle="dropdown"]', (function (t) { t.preventDefault(), t.stopPropagation(), Ft._jQueryInterface.call(i.default(this), "toggle") })).on("click.bs.dropdown.data-api", ".dropdown form", (function (t) { t.stopPropagation() })), i.default.fn[Ot] = Ft._jQueryInterface, i.default.fn[Ot].Constructor = Ft, i.default.fn[Ot].noConflict = function () { return i.default.fn[Ot] = xt, Ft._jQueryInterface }; var Rt = i.default.fn.modal, Ht = { backdrop: !0, keyboard: !0, focus: !0, show: !0 }, Mt = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean" }, Bt = function () { function t(t, e) { this._config = this._getConfig(e), this._element = t, this._dialog = t.querySelector(".modal-dialog"), this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._isTransitioning = !1, this._scrollbarWidth = 0 } var e = t.prototype; return e.toggle = function (t) { return this._isShown ? this.hide() : this.show(t) }, e.show = function (t) { var e = this; if (!this._isShown && !this._isTransitioning) { i.default(this._element).hasClass("fade") && (this._isTransitioning = !0); var n = i.default.Event("show.bs.modal", { relatedTarget: t }); i.default(this._element).trigger(n), this._isShown || n.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), this._setEscapeEvent(), this._setResizeEvent(), i.default(this._element).on("click.dismiss.bs.modal", '[data-dismiss="modal"]', (function (t) { return e.hide(t) })), i.default(this._dialog).on("mousedown.dismiss.bs.modal", (function () { i.default(e._element).one("mouseup.dismiss.bs.modal", (function (t) { i.default(t.target).is(e._element) && (e._ignoreBackdropClick = !0) })) })), this._showBackdrop((function () { return e._showElement(t) }))) } }, e.hide = function (t) { var e = this; if (t && t.preventDefault(), this._isShown && !this._isTransitioning) { var n = i.default.Event("hide.bs.modal"); if (i.default(this._element).trigger(n), this._isShown && !n.isDefaultPrevented()) { this._isShown = !1; var o = i.default(this._element).hasClass("fade"); if (o && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), i.default(document).off("focusin.bs.modal"), i.default(this._element).removeClass("show"), i.default(this._element).off("click.dismiss.bs.modal"), i.default(this._dialog).off("mousedown.dismiss.bs.modal"), o) { var r = l.getTransitionDurationFromElement(this._element); i.default(this._element).one(l.TRANSITION_END, (function (t) { return e._hideModal(t) })).emulateTransitionEnd(r) } else this._hideModal() } } }, e.dispose = function () { [window, this._element, this._dialog].forEach((function (t) { return i.default(t).off(".bs.modal") })), i.default(document).off("focusin.bs.modal"), i.default.removeData(this._element, "bs.modal"), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._isTransitioning = null, this._scrollbarWidth = null }, e.handleUpdate = function () { this._adjustDialog() }, e._getConfig = function (t) { return t = a({}, Ht, t), l.typeCheckConfig("modal", t, Mt), t }, e._triggerBackdropTransition = function () { var t = this; if ("static" === this._config.backdrop) { var e = i.default.Event("hidePrevented.bs.modal"); if (i.default(this._element).trigger(e), e.isDefaultPrevented()) return; var n = this._element.scrollHeight > document.documentElement.clientHeight; n || (this._element.style.overflowY = "hidden"), this._element.classList.add("modal-static"); var o = l.getTransitionDurationFromElement(this._dialog); i.default(this._element).off(l.TRANSITION_END), i.default(this._element).one(l.TRANSITION_END, (function () { t._element.classList.remove("modal-static"), n || i.default(t._element).one(l.TRANSITION_END, (function () { t._element.style.overflowY = "" })).emulateTransitionEnd(t._element, o) })).emulateTransitionEnd(o), this._element.focus() } else this.hide() }, e._showElement = function (t) { var e = this, n = i.default(this._element).hasClass("fade"), o = this._dialog ? this._dialog.querySelector(".modal-body") : null; this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.setAttribute("aria-modal", !0), this._element.setAttribute("role", "dialog"), i.default(this._dialog).hasClass("modal-dialog-scrollable") && o ? o.scrollTop = 0 : this._element.scrollTop = 0, n && l.reflow(this._element), i.default(this._element).addClass("show"), this._config.focus && this._enforceFocus(); var r = i.default.Event("shown.bs.modal", { relatedTarget: t }), a = function () { e._config.focus && e._element.focus(), e._isTransitioning = !1, i.default(e._element).trigger(r) }; if (n) { var s = l.getTransitionDurationFromElement(this._dialog); i.default(this._dialog).one(l.TRANSITION_END, a).emulateTransitionEnd(s) } else a() }, e._enforceFocus = function () { var t = this; i.default(document).off("focusin.bs.modal").on("focusin.bs.modal", (function (e) { document !== e.target && t._element !== e.target && 0 === i.default(t._element).has(e.target).length && t._element.focus() })) }, e._setEscapeEvent = function () { var t = this; this._isShown ? i.default(this._element).on("keydown.dismiss.bs.modal", (function (e) { t._config.keyboard && 27 === e.which ? (e.preventDefault(), t.hide()) : t._config.keyboard || 27 !== e.which || t._triggerBackdropTransition() })) : this._isShown || i.default(this._element).off("keydown.dismiss.bs.modal") }, e._setResizeEvent = function () { var t = this; this._isShown ? i.default(window).on("resize.bs.modal", (function (e) { return t.handleUpdate(e) })) : i.default(window).off("resize.bs.modal") }, e._hideModal = function () { var t = this; this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._element.removeAttribute("aria-modal"), this._element.removeAttribute("role"), this._isTransitioning = !1, this._showBackdrop((function () { i.default(document.body).removeClass("modal-open"), t._resetAdjustments(), t._resetScrollbar(), i.default(t._element).trigger("hidden.bs.modal") })) }, e._removeBackdrop = function () { this._backdrop && (i.default(this._backdrop).remove(), this._backdrop = null) }, e._showBackdrop = function (t) { var e = this, n = i.default(this._element).hasClass("fade") ? "fade" : ""; if (this._isShown && this._config.backdrop) { if (this._backdrop = document.createElement("div"), this._backdrop.className = "modal-backdrop", n && this._backdrop.classList.add(n), i.default(this._backdrop).appendTo(document.body), i.default(this._element).on("click.dismiss.bs.modal", (function (t) { e._ignoreBackdropClick ? e._ignoreBackdropClick = !1 : t.target === t.currentTarget && e._triggerBackdropTransition() })), n && l.reflow(this._backdrop), i.default(this._backdrop).addClass("show"), !t) return; if (!n) return void t(); var o = l.getTransitionDurationFromElement(this._backdrop); i.default(this._backdrop).one(l.TRANSITION_END, t).emulateTransitionEnd(o) } else if (!this._isShown && this._backdrop) { i.default(this._backdrop).removeClass("show"); var r = function () { e._removeBackdrop(), t && t() }; if (i.default(this._element).hasClass("fade")) { var a = l.getTransitionDurationFromElement(this._backdrop); i.default(this._backdrop).one(l.TRANSITION_END, r).emulateTransitionEnd(a) } else r() } else t && t() }, e._adjustDialog = function () { var t = this._element.scrollHeight > document.documentElement.clientHeight; !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px") }, e._resetAdjustments = function () { this._element.style.paddingLeft = "", this._element.style.paddingRight = "" }, e._checkScrollbar = function () { var t = document.body.getBoundingClientRect(); this._isBodyOverflowing = Math.round(t.left + t.right) < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth() }, e._setScrollbar = function () { var t = this; if (this._isBodyOverflowing) { var e = [].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")), n = [].slice.call(document.querySelectorAll(".sticky-top")); i.default(e).each((function (e, n) { var o = n.style.paddingRight, r = i.default(n).css("padding-right"); i.default(n).data("padding-right", o).css("padding-right", parseFloat(r) + t._scrollbarWidth + "px") })), i.default(n).each((function (e, n) { var o = n.style.marginRight, r = i.default(n).css("margin-right"); i.default(n).data("margin-right", o).css("margin-right", parseFloat(r) - t._scrollbarWidth + "px") })); var o = document.body.style.paddingRight, r = i.default(document.body).css("padding-right"); i.default(document.body).data("padding-right", o).css("padding-right", parseFloat(r) + this._scrollbarWidth + "px") } i.default(document.body).addClass("modal-open") }, e._resetScrollbar = function () { var t = [].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")); i.default(t).each((function (t, e) { var n = i.default(e).data("padding-right"); i.default(e).removeData("padding-right"), e.style.paddingRight = n || "" })); var e = [].slice.call(document.querySelectorAll(".sticky-top")); i.default(e).each((function (t, e) { var n = i.default(e).data("margin-right"); "undefined" != typeof n && i.default(e).css("margin-right", n).removeData("margin-right") })); var n = i.default(document.body).data("padding-right"); i.default(document.body).removeData("padding-right"), document.body.style.paddingRight = n || "" }, e._getScrollbarWidth = function () { var t = document.createElement("div"); t.className = "modal-scrollbar-measure", document.body.appendChild(t); var e = t.getBoundingClientRect().width - t.clientWidth; return document.body.removeChild(t), e }, t._jQueryInterface = function (e, n) { return this.each((function () { var o = i.default(this).data("bs.modal"), r = a({}, Ht, i.default(this).data(), "object" == typeof e && e ? e : {}); if (o || (o = new t(this, r), i.default(this).data("bs.modal", o)), "string" == typeof e) { if ("undefined" == typeof o[e]) throw new TypeError('No method named "' + e + '"'); o[e](n) } else r.show && o.show(n) })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return Ht } }]), t }(); i.default(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', (function (t) { var e, n = this, o = l.getSelectorFromElement(this); o && (e = document.querySelector(o)); var r = i.default(e).data("bs.modal") ? "toggle" : a({}, i.default(e).data(), i.default(this).data()); "A" !== this.tagName && "AREA" !== this.tagName || t.preventDefault(); var s = i.default(e).one("show.bs.modal", (function (t) { t.isDefaultPrevented() || s.one("hidden.bs.modal", (function () { i.default(n).is(":visible") && n.focus() })) })); Bt._jQueryInterface.call(i.default(e), r, this) })), i.default.fn.modal = Bt._jQueryInterface, i.default.fn.modal.Constructor = Bt, i.default.fn.modal.noConflict = function () { return i.default.fn.modal = Rt, Bt._jQueryInterface }; var qt = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"], Qt = { "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i], a: ["target", "href", "title", "rel"], area: [], b: [], br: [], col: [], code: [], div: [], em: [], hr: [], h1: [], h2: [], h3: [], h4: [], h5: [], h6: [], i: [], img: ["src", "srcset", "alt", "title", "width", "height"], li: [], ol: [], p: [], pre: [], s: [], small: [], span: [], sub: [], sup: [], strong: [], u: [], ul: [] }, Wt = /^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi, Ut = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i; function Vt(t, e, n) { if (0 === t.length) return t; if (n && "function" == typeof n) return n(t); for (var i = (new window.DOMParser).parseFromString(t, "text/html"), o = Object.keys(e), r = [].slice.call(i.body.querySelectorAll("*")), a = function (t, n) { var i = r[t], a = i.nodeName.toLowerCase(); if (-1 === o.indexOf(i.nodeName.toLowerCase())) return i.parentNode.removeChild(i), "continue"; var s = [].slice.call(i.attributes), l = [].concat(e["*"] || [], e[a] || []); s.forEach((function (t) { (function (t, e) { var n = t.nodeName.toLowerCase(); if (-1 !== e.indexOf(n)) return -1 === qt.indexOf(n) || Boolean(t.nodeValue.match(Wt) || t.nodeValue.match(Ut)); for (var i = e.filter((function (t) { return t instanceof RegExp })), o = 0, r = i.length; o < r; o++)if (n.match(i[o])) return !0; return !1 })(t, l) || i.removeAttribute(t.nodeName) })) }, s = 0, l = r.length; s < l; s++)a(s); return i.body.innerHTML } var Yt = "tooltip", zt = i.default.fn[Yt], Xt = new RegExp("(^|\\s)bs-tooltip\\S+", "g"), Kt = ["sanitize", "whiteList", "sanitizeFn"], Gt = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(number|string|function)", container: "(string|element|boolean)", fallbackPlacement: "(string|array)", boundary: "(string|element)", sanitize: "boolean", sanitizeFn: "(null|function)", whiteList: "object", popperConfig: "(null|object)" }, $t = { AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left" }, Jt = { animation: !0, template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, selector: !1, placement: "top", offset: 0, container: !1, fallbackPlacement: "flip", boundary: "scrollParent", sanitize: !0, sanitizeFn: null, whiteList: Qt, popperConfig: null }, Zt = { HIDE: "hide.bs.tooltip", HIDDEN: "hidden.bs.tooltip", SHOW: "show.bs.tooltip", SHOWN: "shown.bs.tooltip", INSERTED: "inserted.bs.tooltip", CLICK: "click.bs.tooltip", FOCUSIN: "focusin.bs.tooltip", FOCUSOUT: "focusout.bs.tooltip", MOUSEENTER: "mouseenter.bs.tooltip", MOUSELEAVE: "mouseleave.bs.tooltip" }, te = function () { function t(t, e) { if ("undefined" == typeof It) throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)"); this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners() } var e = t.prototype; return e.enable = function () { this._isEnabled = !0 }, e.disable = function () { this._isEnabled = !1 }, e.toggleEnabled = function () { this._isEnabled = !this._isEnabled }, e.toggle = function (t) { if (this._isEnabled) if (t) { var e = this.constructor.DATA_KEY, n = i.default(t.currentTarget).data(e); n || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), i.default(t.currentTarget).data(e, n)), n._activeTrigger.click = !n._activeTrigger.click, n._isWithActiveTrigger() ? n._enter(null, n) : n._leave(null, n) } else { if (i.default(this.getTipElement()).hasClass("show")) return void this._leave(null, this); this._enter(null, this) } }, e.dispose = function () { clearTimeout(this._timeout), i.default.removeData(this.element, this.constructor.DATA_KEY), i.default(this.element).off(this.constructor.EVENT_KEY), i.default(this.element).closest(".modal").off("hide.bs.modal", this._hideModalHandler), this.tip && i.default(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, this._activeTrigger = null, this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null }, e.show = function () { var t = this; if ("none" === i.default(this.element).css("display")) throw new Error("Please use show on visible elements"); var e = i.default.Event(this.constructor.Event.SHOW); if (this.isWithContent() && this._isEnabled) { i.default(this.element).trigger(e); var n = l.findShadowRoot(this.element), o = i.default.contains(null !== n ? n : this.element.ownerDocument.documentElement, this.element); if (e.isDefaultPrevented() || !o) return; var r = this.getTipElement(), a = l.getUID(this.constructor.NAME); r.setAttribute("id", a), this.element.setAttribute("aria-describedby", a), this.setContent(), this.config.animation && i.default(r).addClass("fade"); var s = "function" == typeof this.config.placement ? this.config.placement.call(this, r, this.element) : this.config.placement, u = this._getAttachment(s); this.addAttachmentClass(u); var f = this._getContainer(); i.default(r).data(this.constructor.DATA_KEY, this), i.default.contains(this.element.ownerDocument.documentElement, this.tip) || i.default(r).appendTo(f), i.default(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new It(this.element, r, this._getPopperConfig(u)), i.default(r).addClass("show"), "ontouchstart" in document.documentElement && i.default(document.body).children().on("mouseover", null, i.default.noop); var d = function () { t.config.animation && t._fixTransition(); var e = t._hoverState; t._hoverState = null, i.default(t.element).trigger(t.constructor.Event.SHOWN), "out" === e && t._leave(null, t) }; if (i.default(this.tip).hasClass("fade")) { var c = l.getTransitionDurationFromElement(this.tip); i.default(this.tip).one(l.TRANSITION_END, d).emulateTransitionEnd(c) } else d() } }, e.hide = function (t) { var e = this, n = this.getTipElement(), o = i.default.Event(this.constructor.Event.HIDE), r = function () { "show" !== e._hoverState && n.parentNode && n.parentNode.removeChild(n), e._cleanTipClass(), e.element.removeAttribute("aria-describedby"), i.default(e.element).trigger(e.constructor.Event.HIDDEN), null !== e._popper && e._popper.destroy(), t && t() }; if (i.default(this.element).trigger(o), !o.isDefaultPrevented()) { if (i.default(n).removeClass("show"), "ontouchstart" in document.documentElement && i.default(document.body).children().off("mouseover", null, i.default.noop), this._activeTrigger.click = !1, this._activeTrigger.focus = !1, this._activeTrigger.hover = !1, i.default(this.tip).hasClass("fade")) { var a = l.getTransitionDurationFromElement(n); i.default(n).one(l.TRANSITION_END, r).emulateTransitionEnd(a) } else r(); this._hoverState = "" } }, e.update = function () { null !== this._popper && this._popper.scheduleUpdate() }, e.isWithContent = function () { return Boolean(this.getTitle()) }, e.addAttachmentClass = function (t) { i.default(this.getTipElement()).addClass("bs-tooltip-" + t) }, e.getTipElement = function () { return this.tip = this.tip || i.default(this.config.template)[0], this.tip }, e.setContent = function () { var t = this.getTipElement(); this.setElementContent(i.default(t.querySelectorAll(".tooltip-inner")), this.getTitle()), i.default(t).removeClass("fade show") }, e.setElementContent = function (t, e) { "object" != typeof e || !e.nodeType && !e.jquery ? this.config.html ? (this.config.sanitize && (e = Vt(e, this.config.whiteList, this.config.sanitizeFn)), t.html(e)) : t.text(e) : this.config.html ? i.default(e).parent().is(t) || t.empty().append(e) : t.text(i.default(e).text()) }, e.getTitle = function () { var t = this.element.getAttribute("data-original-title"); return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t }, e._getPopperConfig = function (t) { var e = this; return a({}, { placement: t, modifiers: { offset: this._getOffset(), flip: { behavior: this.config.fallbackPlacement }, arrow: { element: ".arrow" }, preventOverflow: { boundariesElement: this.config.boundary } }, onCreate: function (t) { t.originalPlacement !== t.placement && e._handlePopperPlacementChange(t) }, onUpdate: function (t) { return e._handlePopperPlacementChange(t) } }, this.config.popperConfig) }, e._getOffset = function () { var t = this, e = {}; return "function" == typeof this.config.offset ? e.fn = function (e) { return e.offsets = a({}, e.offsets, t.config.offset(e.offsets, t.element) || {}), e } : e.offset = this.config.offset, e }, e._getContainer = function () { return !1 === this.config.container ? document.body : l.isElement(this.config.container) ? i.default(this.config.container) : i.default(document).find(this.config.container) }, e._getAttachment = function (t) { return $t[t.toUpperCase()] }, e._setListeners = function () { var t = this; this.config.trigger.split(" ").forEach((function (e) { if ("click" === e) i.default(t.element).on(t.constructor.Event.CLICK, t.config.selector, (function (e) { return t.toggle(e) })); else if ("manual" !== e) { var n = "hover" === e ? t.constructor.Event.MOUSEENTER : t.constructor.Event.FOCUSIN, o = "hover" === e ? t.constructor.Event.MOUSELEAVE : t.constructor.Event.FOCUSOUT; i.default(t.element).on(n, t.config.selector, (function (e) { return t._enter(e) })).on(o, t.config.selector, (function (e) { return t._leave(e) })) } })), this._hideModalHandler = function () { t.element && t.hide() }, i.default(this.element).closest(".modal").on("hide.bs.modal", this._hideModalHandler), this.config.selector ? this.config = a({}, this.config, { trigger: "manual", selector: "" }) : this._fixTitle() }, e._fixTitle = function () { var t = typeof this.element.getAttribute("data-original-title"); (this.element.getAttribute("title") || "string" !== t) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", "")) }, e._enter = function (t, e) { var n = this.constructor.DATA_KEY; (e = e || i.default(t.currentTarget).data(n)) || (e = new this.constructor(t.currentTarget, this._getDelegateConfig()), i.default(t.currentTarget).data(n, e)), t && (e._activeTrigger["focusin" === t.type ? "focus" : "hover"] = !0), i.default(e.getTipElement()).hasClass("show") || "show" === e._hoverState ? e._hoverState = "show" : (clearTimeout(e._timeout), e._hoverState = "show", e.config.delay && e.config.delay.show ? e._timeout = setTimeout((function () { "show" === e._hoverState && e.show() }), e.config.delay.show) : e.show()) }, e._leave = function (t, e) { var n = this.constructor.DATA_KEY; (e = e || i.default(t.currentTarget).data(n)) || (e = new this.constructor(t.currentTarget, this._getDelegateConfig()), i.default(t.currentTarget).data(n, e)), t && (e._activeTrigger["focusout" === t.type ? "focus" : "hover"] = !1), e._isWithActiveTrigger() || (clearTimeout(e._timeout), e._hoverState = "out", e.config.delay && e.config.delay.hide ? e._timeout = setTimeout((function () { "out" === e._hoverState && e.hide() }), e.config.delay.hide) : e.hide()) }, e._isWithActiveTrigger = function () { for (var t in this._activeTrigger) if (this._activeTrigger[t]) return !0; return !1 }, e._getConfig = function (t) { var e = i.default(this.element).data(); return Object.keys(e).forEach((function (t) { -1 !== Kt.indexOf(t) && delete e[t] })), "number" == typeof (t = a({}, this.constructor.Default, e, "object" == typeof t && t ? t : {})).delay && (t.delay = { show: t.delay, hide: t.delay }), "number" == typeof t.title && (t.title = t.title.toString()), "number" == typeof t.content && (t.content = t.content.toString()), l.typeCheckConfig(Yt, t, this.constructor.DefaultType), t.sanitize && (t.template = Vt(t.template, t.whiteList, t.sanitizeFn)), t }, e._getDelegateConfig = function () { var t = {}; if (this.config) for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]); return t }, e._cleanTipClass = function () { var t = i.default(this.getTipElement()), e = t.attr("class").match(Xt); null !== e && e.length && t.removeClass(e.join("")) }, e._handlePopperPlacementChange = function (t) { this.tip = t.instance.popper, this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement)) }, e._fixTransition = function () { var t = this.getTipElement(), e = this.config.animation; null === t.getAttribute("x-placement") && (i.default(t).removeClass("fade"), this.config.animation = !1, this.hide(), this.show(), this.config.animation = e) }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this), o = n.data("bs.tooltip"), r = "object" == typeof e && e; if ((o || !/dispose|hide/.test(e)) && (o || (o = new t(this, r), n.data("bs.tooltip", o)), "string" == typeof e)) { if ("undefined" == typeof o[e]) throw new TypeError('No method named "' + e + '"'); o[e]() } })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return Jt } }, { key: "NAME", get: function () { return Yt } }, { key: "DATA_KEY", get: function () { return "bs.tooltip" } }, { key: "Event", get: function () { return Zt } }, { key: "EVENT_KEY", get: function () { return ".bs.tooltip" } }, { key: "DefaultType", get: function () { return Gt } }]), t }(); i.default.fn[Yt] = te._jQueryInterface, i.default.fn[Yt].Constructor = te, i.default.fn[Yt].noConflict = function () { return i.default.fn[Yt] = zt, te._jQueryInterface }; var ee = "popover", ne = i.default.fn[ee], ie = new RegExp("(^|\\s)bs-popover\\S+", "g"), oe = a({}, te.Default, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>' }), re = a({}, te.DefaultType, { content: "(string|element|function)" }), ae = { HIDE: "hide.bs.popover", HIDDEN: "hidden.bs.popover", SHOW: "show.bs.popover", SHOWN: "shown.bs.popover", INSERTED: "inserted.bs.popover", CLICK: "click.bs.popover", FOCUSIN: "focusin.bs.popover", FOCUSOUT: "focusout.bs.popover", MOUSEENTER: "mouseenter.bs.popover", MOUSELEAVE: "mouseleave.bs.popover" }, se = function (t) { var e, n; function o() { return t.apply(this, arguments) || this } n = t, (e = o).prototype = Object.create(n.prototype), e.prototype.constructor = e, e.__proto__ = n; var a = o.prototype; return a.isWithContent = function () { return this.getTitle() || this._getContent() }, a.addAttachmentClass = function (t) { i.default(this.getTipElement()).addClass("bs-popover-" + t) }, a.getTipElement = function () { return this.tip = this.tip || i.default(this.config.template)[0], this.tip }, a.setContent = function () { var t = i.default(this.getTipElement()); this.setElementContent(t.find(".popover-header"), this.getTitle()); var e = this._getContent(); "function" == typeof e && (e = e.call(this.element)), this.setElementContent(t.find(".popover-body"), e), t.removeClass("fade show") }, a._getContent = function () { return this.element.getAttribute("data-content") || this.config.content }, a._cleanTipClass = function () { var t = i.default(this.getTipElement()), e = t.attr("class").match(ie); null !== e && e.length > 0 && t.removeClass(e.join("")) }, o._jQueryInterface = function (t) { return this.each((function () { var e = i.default(this).data("bs.popover"), n = "object" == typeof t ? t : null; if ((e || !/dispose|hide/.test(t)) && (e || (e = new o(this, n), i.default(this).data("bs.popover", e)), "string" == typeof t)) { if ("undefined" == typeof e[t]) throw new TypeError('No method named "' + t + '"'); e[t]() } })) }, r(o, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return oe } }, { key: "NAME", get: function () { return ee } }, { key: "DATA_KEY", get: function () { return "bs.popover" } }, { key: "Event", get: function () { return ae } }, { key: "EVENT_KEY", get: function () { return ".bs.popover" } }, { key: "DefaultType", get: function () { return re } }]), o }(te); i.default.fn[ee] = se._jQueryInterface, i.default.fn[ee].Constructor = se, i.default.fn[ee].noConflict = function () { return i.default.fn[ee] = ne, se._jQueryInterface }; var le = "scrollspy", ue = i.default.fn[le], fe = { offset: 10, method: "auto", target: "" }, de = { offset: "number", method: "string", target: "(string|element)" }, ce = function () { function t(t, e) { var n = this; this._element = t, this._scrollElement = "BODY" === t.tagName ? window : t, this._config = this._getConfig(e), this._selector = this._config.target + " .nav-link," + this._config.target + " .list-group-item," + this._config.target + " .dropdown-item", this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, i.default(this._scrollElement).on("scroll.bs.scrollspy", (function (t) { return n._process(t) })), this.refresh(), this._process() } var e = t.prototype; return e.refresh = function () { var t = this, e = this._scrollElement === this._scrollElement.window ? "offset" : "position", n = "auto" === this._config.method ? e : this._config.method, o = "position" === n ? this._getScrollTop() : 0; this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), [].slice.call(document.querySelectorAll(this._selector)).map((function (t) { var e, r = l.getSelectorFromElement(t); if (r && (e = document.querySelector(r)), e) { var a = e.getBoundingClientRect(); if (a.width || a.height) return [i.default(e)[n]().top + o, r] } return null })).filter((function (t) { return t })).sort((function (t, e) { return t[0] - e[0] })).forEach((function (e) { t._offsets.push(e[0]), t._targets.push(e[1]) })) }, e.dispose = function () { i.default.removeData(this._element, "bs.scrollspy"), i.default(this._scrollElement).off(".bs.scrollspy"), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null }, e._getConfig = function (t) { if ("string" != typeof (t = a({}, fe, "object" == typeof t && t ? t : {})).target && l.isElement(t.target)) { var e = i.default(t.target).attr("id"); e || (e = l.getUID(le), i.default(t.target).attr("id", e)), t.target = "#" + e } return l.typeCheckConfig(le, t, de), t }, e._getScrollTop = function () { return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop }, e._getScrollHeight = function () { return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) }, e._getOffsetHeight = function () { return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height }, e._process = function () { var t = this._getScrollTop() + this._config.offset, e = this._getScrollHeight(), n = this._config.offset + e - this._getOffsetHeight(); if (this._scrollHeight !== e && this.refresh(), t >= n) { var i = this._targets[this._targets.length - 1]; this._activeTarget !== i && this._activate(i) } else { if (this._activeTarget && t < this._offsets[0] && this._offsets[0] > 0) return this._activeTarget = null, void this._clear(); for (var o = this._offsets.length; o--;) { this._activeTarget !== this._targets[o] && t >= this._offsets[o] && ("undefined" == typeof this._offsets[o + 1] || t < this._offsets[o + 1]) && this._activate(this._targets[o]) } } }, e._activate = function (t) { this._activeTarget = t, this._clear(); var e = this._selector.split(",").map((function (e) { return e + '[data-target="' + t + '"],' + e + '[href="' + t + '"]' })), n = i.default([].slice.call(document.querySelectorAll(e.join(",")))); n.hasClass("dropdown-item") ? (n.closest(".dropdown").find(".dropdown-toggle").addClass("active"), n.addClass("active")) : (n.addClass("active"), n.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"), n.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")), i.default(this._scrollElement).trigger("activate.bs.scrollspy", { relatedTarget: t }) }, e._clear = function () { [].slice.call(document.querySelectorAll(this._selector)).filter((function (t) { return t.classList.contains("active") })).forEach((function (t) { return t.classList.remove("active") })) }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this).data("bs.scrollspy"); if (n || (n = new t(this, "object" == typeof e && e), i.default(this).data("bs.scrollspy", n)), "string" == typeof e) { if ("undefined" == typeof n[e]) throw new TypeError('No method named "' + e + '"'); n[e]() } })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "Default", get: function () { return fe } }]), t }(); i.default(window).on("load.bs.scrollspy.data-api", (function () { for (var t = [].slice.call(document.querySelectorAll('[data-spy="scroll"]')), e = t.length; e--;) { var n = i.default(t[e]); ce._jQueryInterface.call(n, n.data()) } })), i.default.fn[le] = ce._jQueryInterface, i.default.fn[le].Constructor = ce, i.default.fn[le].noConflict = function () { return i.default.fn[le] = ue, ce._jQueryInterface }; var he = i.default.fn.tab, pe = function () { function t(t) { this._element = t } var e = t.prototype; return e.show = function () { var t = this; if (!(this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && i.default(this._element).hasClass("active") || i.default(this._element).hasClass("disabled"))) { var e, n, o = i.default(this._element).closest(".nav, .list-group")[0], r = l.getSelectorFromElement(this._element); if (o) { var a = "UL" === o.nodeName || "OL" === o.nodeName ? "> li > .active" : ".active"; n = (n = i.default.makeArray(i.default(o).find(a)))[n.length - 1] } var s = i.default.Event("hide.bs.tab", { relatedTarget: this._element }), u = i.default.Event("show.bs.tab", { relatedTarget: n }); if (n && i.default(n).trigger(s), i.default(this._element).trigger(u), !u.isDefaultPrevented() && !s.isDefaultPrevented()) { r && (e = document.querySelector(r)), this._activate(this._element, o); var f = function () { var e = i.default.Event("hidden.bs.tab", { relatedTarget: t._element }), o = i.default.Event("shown.bs.tab", { relatedTarget: n }); i.default(n).trigger(e), i.default(t._element).trigger(o) }; e ? this._activate(e, e.parentNode, f) : f() } } }, e.dispose = function () { i.default.removeData(this._element, "bs.tab"), this._element = null }, e._activate = function (t, e, n) { var o = this, r = (!e || "UL" !== e.nodeName && "OL" !== e.nodeName ? i.default(e).children(".active") : i.default(e).find("> li > .active"))[0], a = n && r && i.default(r).hasClass("fade"), s = function () { return o._transitionComplete(t, r, n) }; if (r && a) { var u = l.getTransitionDurationFromElement(r); i.default(r).removeClass("show").one(l.TRANSITION_END, s).emulateTransitionEnd(u) } else s() }, e._transitionComplete = function (t, e, n) { if (e) { i.default(e).removeClass("active"); var o = i.default(e.parentNode).find("> .dropdown-menu .active")[0]; o && i.default(o).removeClass("active"), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !1) } if (i.default(t).addClass("active"), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), l.reflow(t), t.classList.contains("fade") && t.classList.add("show"), t.parentNode && i.default(t.parentNode).hasClass("dropdown-menu")) { var r = i.default(t).closest(".dropdown")[0]; if (r) { var a = [].slice.call(r.querySelectorAll(".dropdown-toggle")); i.default(a).addClass("active") } t.setAttribute("aria-expanded", !0) } n && n() }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this), o = n.data("bs.tab"); if (o || (o = new t(this), n.data("bs.tab", o)), "string" == typeof e) { if ("undefined" == typeof o[e]) throw new TypeError('No method named "' + e + '"'); o[e]() } })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }]), t }(); i.default(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', (function (t) { t.preventDefault(), pe._jQueryInterface.call(i.default(this), "show") })), i.default.fn.tab = pe._jQueryInterface, i.default.fn.tab.Constructor = pe, i.default.fn.tab.noConflict = function () { return i.default.fn.tab = he, pe._jQueryInterface }; var me = i.default.fn.toast, ge = { animation: "boolean", autohide: "boolean", delay: "number" }, ve = { animation: !0, autohide: !0, delay: 500 }, _e = function () { function t(t, e) { this._element = t, this._config = this._getConfig(e), this._timeout = null, this._setListeners() } var e = t.prototype; return e.show = function () { var t = this, e = i.default.Event("show.bs.toast"); if (i.default(this._element).trigger(e), !e.isDefaultPrevented()) { this._clearTimeout(), this._config.animation && this._element.classList.add("fade"); var n = function () { t._element.classList.remove("showing"), t._element.classList.add("show"), i.default(t._element).trigger("shown.bs.toast"), t._config.autohide && (t._timeout = setTimeout((function () { t.hide() }), t._config.delay)) }; if (this._element.classList.remove("hide"), l.reflow(this._element), this._element.classList.add("showing"), this._config.animation) { var o = l.getTransitionDurationFromElement(this._element); i.default(this._element).one(l.TRANSITION_END, n).emulateTransitionEnd(o) } else n() } }, e.hide = function () { if (this._element.classList.contains("show")) { var t = i.default.Event("hide.bs.toast"); i.default(this._element).trigger(t), t.isDefaultPrevented() || this._close() } }, e.dispose = function () { this._clearTimeout(), this._element.classList.contains("show") && this._element.classList.remove("show"), i.default(this._element).off("click.dismiss.bs.toast"), i.default.removeData(this._element, "bs.toast"), this._element = null, this._config = null }, e._getConfig = function (t) { return t = a({}, ve, i.default(this._element).data(), "object" == typeof t && t ? t : {}), l.typeCheckConfig("toast", t, this.constructor.DefaultType), t }, e._setListeners = function () { var t = this; i.default(this._element).on("click.dismiss.bs.toast", '[data-dismiss="toast"]', (function () { return t.hide() })) }, e._close = function () { var t = this, e = function () { t._element.classList.add("hide"), i.default(t._element).trigger("hidden.bs.toast") }; if (this._element.classList.remove("show"), this._config.animation) { var n = l.getTransitionDurationFromElement(this._element); i.default(this._element).one(l.TRANSITION_END, e).emulateTransitionEnd(n) } else e() }, e._clearTimeout = function () { clearTimeout(this._timeout), this._timeout = null }, t._jQueryInterface = function (e) { return this.each((function () { var n = i.default(this), o = n.data("bs.toast"); if (o || (o = new t(this, "object" == typeof e && e), n.data("bs.toast", o)), "string" == typeof e) { if ("undefined" == typeof o[e]) throw new TypeError('No method named "' + e + '"'); o[e](this) } })) }, r(t, null, [{ key: "VERSION", get: function () { return "4.5.3" } }, { key: "DefaultType", get: function () { return ge } }, { key: "Default", get: function () { return ve } }]), t }(); i.default.fn.toast = _e._jQueryInterface, i.default.fn.toast.Constructor = _e, i.default.fn.toast.noConflict = function () { return i.default.fn.toast = me, _e._jQueryInterface }, t.Alert = d, t.Button = h, t.Carousel = y, t.Collapse = S, t.Dropdown = Ft, t.Modal = Bt, t.Popover = se, t.Scrollspy = ce, t.Tab = pe, t.Toast = _e, t.Tooltip = te, t.Util = l, Object.defineProperty(t, "__esModule", { value: !0 }) }));
;
/*! modernizr 3.6.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-webp-setclasses !*/
!function (e, n, A) { function o(e, n) { return typeof e === n } function t() { var e, n, A, t, a, i, l; for (var f in r) if (r.hasOwnProperty(f)) { if (e = [], n = r[f], n.name && (e.push(n.name.toLowerCase()), n.options && n.options.aliases && n.options.aliases.length)) for (A = 0; A < n.options.aliases.length; A++)e.push(n.options.aliases[A].toLowerCase()); for (t = o(n.fn, "function") ? n.fn() : n.fn, a = 0; a < e.length; a++)i = e[a], l = i.split("."), 1 === l.length ? Modernizr[l[0]] = t : (!Modernizr[l[0]] || Modernizr[l[0]] instanceof Boolean || (Modernizr[l[0]] = new Boolean(Modernizr[l[0]])), Modernizr[l[0]][l[1]] = t), s.push((t ? "" : "no-") + l.join("-")) } } function a(e) { var n = u.className, A = Modernizr._config.classPrefix || ""; if (c && (n = n.baseVal), Modernizr._config.enableJSClass) { var o = new RegExp("(^|\\s)" + A + "no-js(\\s|$)"); n = n.replace(o, "$1" + A + "js$2") } Modernizr._config.enableClasses && (n += " " + A + e.join(" " + A), c ? u.className.baseVal = n : u.className = n) } function i(e, n) { if ("object" == typeof e) for (var A in e) f(e, A) && i(A, e[A]); else { e = e.toLowerCase(); var o = e.split("."), t = Modernizr[o[0]]; if (2 == o.length && (t = t[o[1]]), "undefined" != typeof t) return Modernizr; n = "function" == typeof n ? n() : n, 1 == o.length ? Modernizr[o[0]] = n : (!Modernizr[o[0]] || Modernizr[o[0]] instanceof Boolean || (Modernizr[o[0]] = new Boolean(Modernizr[o[0]])), Modernizr[o[0]][o[1]] = n), a([(n && 0 != n ? "" : "no-") + o.join("-")]), Modernizr._trigger(e, n) } return Modernizr } var s = [], r = [], l = { _version: "3.6.0", _config: { classPrefix: "", enableClasses: !0, enableJSClass: !0, usePrefixes: !0 }, _q: [], on: function (e, n) { var A = this; setTimeout(function () { n(A[e]) }, 0) }, addTest: function (e, n, A) { r.push({ name: e, fn: n, options: A }) }, addAsyncTest: function (e) { r.push({ name: null, fn: e }) } }, Modernizr = function () { }; Modernizr.prototype = l, Modernizr = new Modernizr; var f, u = n.documentElement, c = "svg" === u.nodeName.toLowerCase(); !function () { var e = {}.hasOwnProperty; f = o(e, "undefined") || o(e.call, "undefined") ? function (e, n) { return n in e && o(e.constructor.prototype[n], "undefined") } : function (n, A) { return e.call(n, A) } }(), l._l = {}, l.on = function (e, n) { this._l[e] || (this._l[e] = []), this._l[e].push(n), Modernizr.hasOwnProperty(e) && setTimeout(function () { Modernizr._trigger(e, Modernizr[e]) }, 0) }, l._trigger = function (e, n) { if (this._l[e]) { var A = this._l[e]; setTimeout(function () { var e, o; for (e = 0; e < A.length; e++)(o = A[e])(n) }, 0), delete this._l[e] } }, Modernizr._q.push(function () { l.addTest = i }), Modernizr.addAsyncTest(function () { function e(e, n, A) { function o(n) { var o = n && "load" === n.type ? 1 == t.width : !1, a = "webp" === e; i(e, a && o ? new Boolean(o) : o), A && A(n) } var t = new Image; t.onerror = o, t.onload = o, t.src = n } var n = [{ uri: "data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=", name: "webp" }, { uri: "data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==", name: "webp.alpha" }, { uri: "data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA", name: "webp.animation" }, { uri: "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=", name: "webp.lossless" }], A = n.shift(); e(A.name, A.uri, function (A) { if (A && "load" === A.type) for (var o = 0; o < n.length; o++)e(n[o].name, n[o].uri) }) }), t(), a(s), delete l.addTest, delete l.addAsyncTest; for (var p = 0; p < Modernizr._q.length; p++)Modernizr._q[p](); e.Modernizr = Modernizr }(window, document);
(function (AKSLazyload) {
    AKSLazyload.AKSLazyload = function () { this.init(); }; AKSLazyload.AKSLazyload.prototype = {
        init: function () {
            var nativeLazyloadSupport = ('loading' in HTMLImageElement.prototype); var intersectionObserverSupport = ('IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'isIntersecting' in window.IntersectionObserverEntry.prototype); if (nativeLazyloadSupport)
                this.lazyloadNative(); if (intersectionObserverSupport)
                this.lazyloadOnIntersectionObserver(); else
                this.lazyloadOnEventTrigger();
        }, lazyloadNative: function () {
            var imgs = document.querySelectorAll('.aks-lazy[loading=lazy]'); var len = imgs.length; var i = 0; for (; i < len; i++) { this.loadImg(imgs[i]); this.updateClass(imgs[i]); }
        }, lazyloadOnIntersectionObserver: function () {
            var options = { rootMargin: '100px' }; var observer = new IntersectionObserver(handleIntersection.bind(this), options); observeImages(observer); function handleIntersection(entries, self) {
                var len = entries.length; var i = 0; for (; i < len; i++) {
                    if (entries[i].isIntersecting) { var img = entries[i].target; this.loadImg(img); this.updateClass(img); self.unobserve(img); }
                }
            }
            function observeImages(observer) {
                var imgs = document.querySelectorAll('.aks-lazy'); var len = imgs.length; var i = 0; for (; i < len; i++)
                    observer.observe(imgs[i]);
            }
        }, lazyloadOnEventTrigger: function () {
            function isInViewport(el) {
                if (!el)
                    return; var rect = el.getBoundingClientRect(); var viewHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; return (rect.top <= viewHeight && rect.bottom >= 0);
            }
            var imgs = [].slice.call(document.querySelectorAll(".aks-lazy")); var lazyloadThrottleTimeout; var that = this; var lazyLoad = function () {
                if (lazyloadThrottleTimeout)
                    clearTimeout(lazyloadThrottleTimeout)
                lazyloadThrottleTimeout = setTimeout(function () {
                    for (var i = 0; i < imgs.length; i++) {
                        if (isInViewport(imgs[i])) {
                            that.loadImg(imgs[i]); that.updateClass(imgs[i]); imgs = imgs.filter(function (image) { return image !== imgs[i]; }); if (imgs.length === 0) { document.removeEventListener("load", lazyLoad); document.removeEventListener("scroll", lazyLoad); window.removeEventListener("resize", lazyLoad); window.removeEventListener("orientationchange", lazyLoad); }
                        }
                    }
                }, 50);
            }; document.addEventListener("load", lazyLoad); document.addEventListener("scroll", lazyLoad); window.addEventListener("resize", lazyLoad); window.addEventListener("orientationchange", lazyLoad);
        }, nodeNameMatches: function (selector, tagName) {
            if (selector && tagName && selector.nodeName.toLowerCase() == tagName)
                return true;
        }, loadImg: function (img) {
            if (!this.nodeNameMatches(img, 'img'))
                return; var imgAtt = img.getAttribute('data-src'); if (imgAtt)
                img.setAttribute('src', imgAtt); var imgParent = img.parentNode; if (this.nodeNameMatches(imgParent, 'picture')) {
                var pictureSourceTags = imgParent.querySelectorAll('source'); for (var i = 0; i < pictureSourceTags.length; i++) {
                    var att = pictureSourceTags[i].getAttribute('data-srcset'); if (att)
                        pictureSourceTags[i].setAttribute('srcset', att);
                }
            }
        }, hasClass: function (el, className) { return (el.className.search(className) !== -1); }, addClass: function (el, className) { el.className += " " + className; }, removeClass: function (el, className) { el.className = el.className.replace(className, ""); }, updateClass: function (img) {
            if (this.hasClass(img, 'aks-lazy'))
                this.removeClass(img, 'aks-lazy'); this.addClass(img, 'aks-lazyloaded');
        }
    };
})(window.AKSLazyload = window.AKSLazyload || {}); document.addEventListener("DOMContentLoaded", function () { new AKSLazyload.AKSLazyload(); });
function CondensedHeader() { this.$banner = jQuery("[data-header]"); this.onScroll(); }
CondensedHeader.prototype = {
    bind: function () { jQuery(document).on("scroll", this.onScroll.bind(this)); }, onScroll: function (e) {
        var y = jQuery(document).scrollTop(); var hasClass = this.$banner[0].classList.contains('condensed'); if (y < 20 && hasClass) { this.$banner[0].classList.remove("condensed"); }
        else if (y > 20 && !hasClass) { this.$banner[0].classList.add("condensed"); }
    },
}; jQuery(function ($) {
    if (jQuery('#wpadminbar')[0])
        jQuery('.banner').css('top', '32px'); new CondensedHeader().bind();
});
function LiveSearch() { this.$form = jQuery("[data-live-search-form]"); this.$resultsWrapper = jQuery("[data-live-search]"); this.$results = jQuery("[data-live-search-results]"); this.fetchingDelay = null; this.currentQuery = null; this.ui = { $text: this.$form.find("input[type='text']"), }; this.bind(); }
LiveSearch.prototype = {
    bind: function () {
        jQuery(document).click(this.onDocumentClick.bind(this)); this.$form.find("input").bind("input", this.onInput.bind(this)); if (this.isOnHomepage())
            this.ui.$text.focus();
    }, isOnHomepage: function () { var homeUrls = ["/", "/blog/"]; var a = document.createElement("a"); a.href = window.location.href; return (homeUrls.indexOf(a.pathname) !== -1); }, onDocumentClick: function (e) {
        var inResults = jQuery.contains(this.$resultsWrapper[0], e.target); var inInput = (e.target === this.ui.$text[0]); if (!inResults && !inInput)
            this.$resultsWrapper.hide();
    }, onInput: function (e) {
        this.showNotice(); if (this.fetchingDelay)
            this.resetFetchingDelay(); var query = this.getQueryData(); var self = this; if (query.search.length === 0)
            return this.$resultsWrapper.hide(); if (query.search.length < 3)
            return; this.fetchingDelay = setTimeout(function () { self.fetchResults(query); }, 1200);
    }, resetFetchingDelay: function () { clearInterval(this.fetchingDelay); this.fetchingDelay = null; }, getQueryData: function () { var data = this.$form.serializeArray(); var query = {}; data.forEach(function (row) { query[row.name] = row.value; }); query['productsPerPage'] = 16; return query; }, fetchResults: function (query) {
        this.showLoading(); if (this.currentQuery)
            this.currentQuery.abort(); query = JSON.parse(JSON.stringify(query)); query.currency = __site.currency; query.locale = __site.i18n.better_locale; this.currentQuery = jQuery.get({ url: __site.ajaxUrl + "?action=catalogue_query&template=live-search", data: { query: query, }, dataType: "json", }).done(this.onResultsReceived.bind(this)).fail(this.onFetchingError.bind(this));
    }, onResultsReceived: function (response) { this.showContent(response.results); }, onFetchingError: function (response) { this.$resultsWrapper.hide(); }, showLoading: function () { var html = jQuery("#template-live-search-loading").html(); this.showContent(html); }, showNotice: function () { var html = jQuery("#template-live-search-notice").html(); this.showContent(html); }, showContent: function (content) { this.$resultsWrapper.show(); this.$results.empty().append(content); },
}; jQuery(function ($) { new LiveSearch(); });
Number.prototype.formatMoney = function (decimals, decimalSeparator, thousandSeparator) { var n = this, c = isNaN(decimals = Math.abs(decimals)) ? 2 : decimals, d = (typeof decimalSeparator === "undefined") ? "." : decimalSeparator, t = (typeof thousandSeparator === "undefined") ? "," : thousandSeparator, s = n < 0 ? "-" : "", i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "", j = (j = i.length) > 3 ? j % 3 : 0; return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : ""); };
function instantiateTooltip() {
    var $this = jQuery(this); var options = { html: true, }; if ($this.data("content")) { var selector = $this.data("content"); options.title = jQuery(selector).html(); }
    const trigger = $this.data("trigger"); if ($this.data("trigger")) {
        if (trigger === "click") { options = Object.assign(options, { trigger: "custom", triggerOpen: { click: true, }, triggerClose: { click: true, scroll: true, mouseleave: true, }, }); }
        else
            options.trigger = $this.data("trigger");
    }
    $this.tooltip(options);
}
jQuery(".offers-edition").each(instantiateTooltip); jQuery(".help-btn").each(instantiateTooltip); jQuery(".offers-edition a").on('click', function (event) { event.preventDefault(); });
jQuery(function ($) {
    $("[data-nav-dropdown]").each(function () {
        var $this = $(this); var windowWidth = $(window).width(); $this.css("display", "block"); var box = this.getBoundingClientRect(); if (box.right > windowWidth) { $this.css({ position: "absolute", right: "0", }); }
        if (this.style.removeProperty)
            this.style.removeProperty("display"); else
            this.style.removeAttribute("display");
    });
});
if (typeof FormData === 'undefined' || !FormData.prototype.keys) {
    const global = typeof window === 'object' ? window : typeof self === 'object' ? self : this
    const _FormData = global.FormData
    const _send = global.XMLHttpRequest && global.XMLHttpRequest.prototype.send
    const _fetch = global.Request && global.fetch
    const stringTag = global.Symbol && Symbol.toStringTag
    const map = new WeakMap
    const wm = o => map.get(o)
    const arrayFrom = Array.from || (obj => [].slice.call(obj))
    if (stringTag) {
        if (!Blob.prototype[stringTag]) { Blob.prototype[stringTag] = 'Blob' }
        if ('File' in global && !File.prototype[stringTag]) { File.prototype[stringTag] = 'File' }
    }
    try { new File([], '') } catch (a) {
        global.File = function (b, d, c) {
            const blob = new Blob(b, c)
            const t = c && void 0 !== c.lastModified ? new Date(c.lastModified) : new Date
            Object.defineProperties(blob, { name: { value: d }, lastModifiedDate: { value: t }, lastModified: { value: +t }, toString: { value() { return '[object File]' } } })
            if (stringTag) { Object.defineProperty(blob, stringTag, { value: 'File' }) }
            return blob
        }
    }
    function normalizeValue([value, filename]) {
        if (value instanceof Blob)
            value = new File([value], filename, { type: value.type, lastModified: value.lastModified })
        return value
    }
    function stringify(name) {
        if (!arguments.length)
            throw new TypeError('1 argument required, but only 0 present.')
        return [name + '']
    }
    function normalizeArgs(name, value, filename) {
        if (arguments.length < 2)
            throw new TypeError(`2 arguments required, but only ${arguments.length} present.`)
        return value instanceof Blob ? [name + '', value, filename !== undefined ? filename + '' : typeof value.name === 'string' ? value.name : 'Blob'] : [name + '', value + '']
    }
    class FormDataPolyfill {
        constructor(form) {
            map.set(this, Object.create(null))
            if (!form)
                return this
            for (let elm of arrayFrom(form.elements)) {
                if (!elm.name || elm.disabled) continue
                if (elm.type === 'file')
                    for (let file of elm.files)
                        this.append(elm.name, file)
                else if (elm.type === 'select-multiple' || elm.type === 'select-one')
                    for (let opt of arrayFrom(elm.options))
                        opt.selected && this.append(elm.name, opt.value)
                else if (elm.type === 'checkbox' || elm.type === 'radio') { if (elm.checked) this.append(elm.name, elm.value) } else
                    this.append(elm.name, elm.value)
            }
        }
        append(name, value, filename) {
            const map = wm(this)
            if (!map[name])
                map[name] = []
            map[name].push([value, filename])
        }
        delete(name) { delete wm(this)[name] } *entries() {
            const map = wm(this)
            for (let name in map)
                for (let value of map[name])
                    yield [name, normalizeValue(value)]
        }
        forEach(callback, thisArg) {
            for (let [name, value] of this)
                callback.call(thisArg, value, name, this)
        }
        get(name) {
            const map = wm(this)
            return map[name] ? normalizeValue(map[name][0]) : null
        }
        getAll(name) { return (wm(this)[name] || []).map(normalizeValue) }
        has(name) { return name in wm(this) } *keys() {
            for (let [name] of this)
                yield name
        }
        set(name, value, filename) { wm(this)[name] = [[value, filename]] } *values() {
            for (let [name, value] of this)
                yield value
        }
        ['_asNative']() {
            const fd = new _FormData
            for (let [name, value] of this)
                fd.append(name, value)
            return fd
        }
        ['_blob']() {
            const boundary = '----formdata-polyfill-' + Math.random()
            const chunks = []
            for (let [name, value] of this) {
                chunks.push(`--${boundary}\r\n`)
                if (value instanceof Blob) { chunks.push(`Content-Disposition: form-data; name="${name}"; filename="${value.name}"\r\n`, `Content-Type: ${value.type || 'application/octet-stream'}\r\n\r\n`, value, '\r\n') } else { chunks.push(`Content-Disposition: form-data; name="${name}"\r\n\r\n${value}\r\n`) }
            }
            chunks.push(`--${boundary}--`)
            return new Blob(chunks, { type: 'multipart/form-data; boundary=' + boundary })
        }
        [Symbol.iterator]() { return this.entries() }
        toString() { return '[object FormData]' }
    }
    if (stringTag) { FormDataPolyfill.prototype[stringTag] = 'FormData' }
    const decorations = [['append', normalizeArgs], ['delete', stringify], ['get', stringify], ['getAll', stringify], ['has', stringify], ['set', normalizeArgs]]
    decorations.forEach(arr => {
        const orig = FormDataPolyfill.prototype[arr[0]]
        FormDataPolyfill.prototype[arr[0]] = function () { return orig.apply(this, arr[1].apply(this, arrayFrom(arguments))) }
    })
    if (_send) {
        XMLHttpRequest.prototype.send = function (data) {
            if (data instanceof FormDataPolyfill) {
                const blob = data['_blob']()
                this.setRequestHeader('Content-Type', blob.type)
                _send.call(this, blob)
            } else { _send.call(this, data) }
        }
    }
    if (_fetch) {
        const _fetch = global.fetch
        global.fetch = function (input, init) {
            if (init && init.body && init.body instanceof FormDataPolyfill) { init.body = init.body['_blob']() }
            return _fetch(input, init)
        }
    }
    global['FormData'] = FormDataPolyfill
};
function Countdown(params) {
    this.loop = this.loop.bind(this); this.endTimestamp = params.endTimestamp; this.onEnded = params.onEnded; this.onTick = params.onTick; this.format = params.format || "__DAYS__d __HOURS__h __MINUTES__m __SECONDS__s"; this.timer = null; if (params.autostart)
        this.start();
}
Countdown.prototype = {
    start: function () { this.loop(); }, stop: function () { clearInterval(this.timer); }, loop: function () {
        var now = (new Date()).getTime(); var data = this.getCountdownData(now); var line = this.renderLine(data); !this.onTick || this.onTick(line, data); if (data.interval > 0)
            this.timer = setTimeout(this.loop, 1000); else
            !this.onEnded || this.onEnded();
    }, renderLine: function (data) {
        const vars = { __SECONDS__: (data.seconds < 10) ? "0" + data.seconds : data.seconds, __MINUTES__: (data.minutes < 10) ? "0" + data.minutes : data.minutes, __HOURS__: data.hours, __DAYS__: data.days, }; let line = this.format; for (const name in vars)
            line = line.replace(name, vars[name]); return line;
    }, getCountdownData: function (now) { var interval = this.endTimestamp * 1000 - now; interval = Math.max(interval, 0); return { interval: interval, days: Math.floor(interval / (1000 * 60 * 60 * 24)), hours: Math.floor((interval % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)), minutes: Math.floor((interval % (1000 * 60 * 60)) / (1000 * 60)), seconds: Math.floor((interval % (1000 * 60)) / 1000), }; },
}; Countdown.autostart = function () { jQuery("[data-countdown]").each(function () { var self = this; new Countdown({ autostart: true, endTimestamp: this.dataset.countdown, format: self.dataset.countdownFormat, onTick: function (line, data) { self.innerText = line; }, }); }); }; jQuery(document).ready(function ($) { Countdown.autostart(); });
jQuery(function ($) { $(document).on('click', '.pagination-comment', function () { var button = $(this); var cpage = button.data("paged"); var post_id = $('.pagination').data("post"); var oldData = $('.comment-list').html(); var loading = '<div class="loader"></div>'; $.ajax({ url: __site.ajaxUrl, data: { 'action': 'cloadpage', 'ID': parseInt(post_id, 10), 'cpage': parseInt(cpage, 10), }, type: 'GET', beforeSend: function (xhr) { $('.comment-list').html(loading); }, success: function (data) { if (data) { $('.comment-list').html(data); $('div.rateit, span.rateit').rateit(); } else { $('.comment-list').html(oldData); } } }); }); });
jQuery.extend(jQuery.fn, { validate: function () { if (jQuery(this).val().length < 3) { jQuery(this).addClass('error'); return false } else { jQuery(this).removeClass('error'); return true } }, validateEmail: function () { var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/, emailToValidate = jQuery(this).val(); if (!emailReg.test(emailToValidate) || emailToValidate == "") { jQuery(this).addClass('error'); return false } else { jQuery(this).removeClass('error'); return true } }, }); jQuery(function ($) {
    $('#commentform').on('submit', function () {
        var button = $('#submit'), respond = $('#respond'), commentlist = $('.comment-list'), cancelreplylink = $('#cancel-comment-reply-link'); if ($('#author').length)
            $('#author').validate(); if ($('#email').length)
            $('#email').validateEmail(); $('#comment').validate(); if (!button.hasClass('loadingform') && !$('#author').hasClass('error') && !$('#email').hasClass('error') && !$('#comment').hasClass('error')) {
                $.ajax({
                    type: 'POST', url: __site.ajaxUrl, data: $(this).serialize() + '&action=ajaxcomments', beforeSend: function (xhr) { button.addClass('loadingform').val('Loading...'); }, error: function (request, status, error) { if (status == 500) { alert('Error while adding comment'); } else if (status == 'timeout') { alert('Error: Server doesn\'t respond.'); } else { var wpErrorHtml = request.responseText.split("<p>"), wpErrorStr = wpErrorHtml[1].split("</p>"); alert(wpErrorStr[0]); } }, success: function (addedCommentHTML) {
                        if (commentlist.length > 0) {
                            if (respond.prev().hasClass('comment')) {
                                if (respond.prev().children('.children').length) { $(addedCommentHTML).insertAfter(respond.prev().children('.children')); } else { $(addedCommentHTML).insertAfter(respond.prev()); }
                                cancelreplylink.trigger("click");
                            } else { commentlist.append(addedCommentHTML); }
                        } else { respond.before($(addedCommentHTML)); }
                        $('#comment').val('');
                    }, complete: function () { button.removeClass('loadingform').val('Post Comment'); }
                });
            }
        return false;
    });
});
function GameReviewCollapser() { this.reviews = document.querySelectorAll('.review__content'); this.collapsedHeight = 160; }
GameReviewCollapser.prototype = {
    trigger: function () {
        if (!this.reviews)
            return; var self = this; var len = this.reviews.length; var i = 0; for (; i < len; i++)
            this.reviews[i].addEventListener('click', self.toggle.bind(this, this.reviews[i]));
    }, toggle: function (el) { this.isExpanded(el) ? this.collapse(el) : this.expand(el); el.classList.toggle('expanded'); }, isExpanded: function (el) {
        if (el && el.classList.contains('expanded'))
            return true;
    }, expand: function (el) { el.style.height = el.scrollHeight + "px"; }, collapse: function (el) { el.style.height = this.collapsedHeight + 'px'; }
}; new GameReviewCollapser().trigger();
(function () {
    function MenuMobile() { this.bodyContainer = document.querySelector('.body__container'); this.overlay = document.querySelector('.body__overlay'); this.menu = document.querySelector('.menu__container'); this.menuTrigger = document.querySelectorAll('.menu__trigger'); this.menuItem = document.querySelectorAll('.menu-item-has-children'); this.submenuState = 'close'; this.lastMenuItemOpened = undefined; this.lastSubmenuItemOpened = undefined; this.lastSettingsDropdownOpened = undefined; this.btnCloseMenu = document.querySelector('.button--close'); this.btnCloseDropdown = document.querySelector('.button--previous'); this.btnSettings = document.querySelectorAll('.settings__container--outer'); this.init(); }
    MenuMobile.prototype = {
        init: function () { this.toggleMenu(this.menuTrigger); }, toggleMenu: function (trigger) {
            if (!trigger)
                return; var self = this; var triggerLen = trigger.length; for (var i = 0; i < triggerLen; i++) { trigger[i].addEventListener('click', self.onMenuTriggerPressed.bind(this)); }
        }, onMenuTriggerPressed: function () { this.resetState(); this.overlay.classList.toggle('visible'); this.menu.classList.toggle('visible'); this.bodyContainer.classList.toggle('overflow--hidden'); this.openDropdown(this.menuItem); this.closeDropdown(this.btnCloseDropdown); this.toggleSettingsDropdown(this.btnSettings); }, openDropdown: function (menuItem) {
            if (!menuItem)
                return; var self = this; var menuItemLen = menuItem.length; for (var i = 0; i < menuItemLen; i++) { menuItem[i].addEventListener('click', self.onMenuItemPressed.bind(this, menuItem[i])); }
        }, onMenuItemPressed: function (menuItemClicked) {
            if (!menuItemClicked && !menuItemClicked.classList.contains('menu-item-has-children'))
                return; this.scrollToTop(this.menu); this.updateState(menuItemClicked); this.btnCloseMenu.classList.remove('visible'); this.btnCloseDropdown.classList.add('visible'); menuItemClicked.classList.add('menu--open'); if (this.lastSettingsDropdownOpened) { this.lastSettingsDropdownOpened.classList.remove('active'); }
        }, closeDropdown: function (btnClose) {
            if (!btnClose)
                return; var self = this; btnClose.addEventListener('click', self.resetState.bind(this));
        }, updateState: function (menuItemClicked) {
            var isSubmenu = menuItemClicked.classList.contains('menu__dropdown-item'); if (isSubmenu) { this.lastSubmenuItemOpened = menuItemClicked; this.submenuState = 'open'; }
            else { this.lastMenuItemOpened = menuItemClicked; }
        }, resetState: function () {
            if (this.submenuState == 'open') { this.submenuState = 'close'; this.lastSubmenuItemOpened.classList.remove('menu--open'); }
            else {
                this.btnCloseMenu.classList.add('visible'); this.btnCloseDropdown.classList.remove('visible'); if (this.lastMenuItemOpened) { this.lastMenuItemOpened.classList.remove('menu--open'); }
                if (this.lastSettingsDropdownOpened) { this.lastSettingsDropdownOpened.classList.remove('active'); }
            }
        }, scrollToTop: function (item) {
            if (!item)
                return; item.scrollTop = 0;
        }, toggleSettingsDropdown: function (btnSettings) {
            if (!btnSettings)
                return; var self = this; var btnSettingsLen = btnSettings.length; for (var i = 0; i < btnSettingsLen; i++) {
                btnSettings[i].addEventListener('click', function () {
                    if (self.lastSettingsDropdownOpened && self.lastSettingsDropdownOpened != this) { self.lastSettingsDropdownOpened.classList.remove('active'); }
                    self.lastSettingsDropdownOpened = this; this.classList.toggle('active');
                });
            }
        },
    }; new MenuMobile();
})();
(function () {
    function LoginDropdown() { this.loginContainer = document.querySelector('.login__wrapper--mobile'); this.init(); }
    LoginDropdown.prototype = {
        init: function () { this.toggle(this.loginContainer); }, toggle: function (loginContainer) {
            if (!loginContainer)
                return; var self = this; loginContainer.addEventListener('click', function () { self.loginContainer.classList.toggle('visible'); });
        },
    }; new LoginDropdown();
})();
(function () {
    function replaceTooltip() {
        const tooltip = document.querySelector("[data-social-btn-tooltip]"); tooltip.classList.remove("right"); const box = tooltip.getBoundingClientRect(); if (box.left < 0)
            tooltip.classList.add("right"); else
            tooltip.classList.remove("right");
    }
    function replaceBtns() { const btnContainer = document.querySelector("[data-social-btns]"); const container = document.querySelector("body > .container"); const box = container.getBoundingClientRect(); btnContainer.style.left = `${box.left - 36}px`; }
    function onLoad() { replaceBtns(); replaceTooltip(); document.querySelector("[data-social-btns]").classList.remove("loading"); }
    function recordShare(platform) { jQuery.post({ url: `${__site.ajaxUrl}?action=social_share`, data: { "platform": platform, }, }); }
    function openSharePopup(platform) { const urls = { fb: "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(location.href), twitter: "https://twitter.com/intent/tweet?url=" + encodeURIComponent(location.href) }; window.open(urls[platform], platform + "SharePopup", "width=630,height=450"); recordShare(platform); }
    document.addEventListener("DOMContentLoaded", onLoad); window.addEventListener("resize", onLoad); const buttons = document.querySelectorAll("[data-social-btn]"); buttons.forEach((btn) => { btn.addEventListener("click", (e) => { e.preventDefault(); openSharePopup(btn.dataset.socialBtn); }); });
})();
(function (b, c) { var $ = b.jQuery || b.Cowboy || (b.Cowboy = {}), a; $.throttle = a = function (e, f, j, i) { var h, d = 0; if (typeof f !== "boolean") { i = j; j = f; f = c } function g() { var o = this, m = +new Date() - d, n = arguments; function l() { d = +new Date(); j.apply(o, n) } function k() { h = c } if (i && !h) { l() } h && clearTimeout(h); if (i === c && m > e) { l() } else { if (f !== true) { h = setTimeout(i ? k : l, i === c ? e - m : e) } } } if ($.guid) { g.guid = j.guid = j.guid || $.guid++ } return g }; $.debounce = function (d, e, f) { return f === c ? a(d, e, false) : a(d, f, e !== false) } })(this);
window.addEventListener('DOMContentLoaded', () => {
    class BannerDropdown {
        constructor(container, dropdown, handle) {
            if (!dropdown) { dropdown = container.getElementsByClassName('x-dropdown')[0]; }
            if (!handle) { handle = container.getElementsByClassName('x-dropdown-handle')[0]; }
            this.ui = { container, dropdown, handle, }; this.isVisible = this.ui.container.classList.contains(BannerDropdown.ACTIVE_CLASS); this.bind();
        }
        bind() { document.body.addEventListener('mousedown', this.onClickAwayFromPopup.bind(this)); this.ui.handle.addEventListener('click', this.togglePopup.bind(this)); }
        onClickAwayFromPopup(e) {
            if (this.ui.dropdown.contains(e.target)) { return; }
            if (this.ui.handle.contains(e.target)) { return; }
            this.isVisible = false; this.render();
        }
        togglePopup(e) { e.preventDefault(); this.isVisible = !this.isVisible; this.render(); }
        render() { if (this.isVisible) { this.ui.container.classList.add(BannerDropdown.ACTIVE_CLASS); } else { this.ui.container.classList.remove(BannerDropdown.ACTIVE_CLASS); } }
    }
    BannerDropdown.ACTIVE_CLASS = 'banner__dropdown-container--active'; ScriptManager.loaded('BannerDropdown', BannerDropdown);
});
ScriptManager.on(['BannerDropdown'], ({ BannerDropdown }) => { const containers = Array.from(document.getElementsByClassName('x-banner-dropdown')); containers.forEach((container) => new BannerDropdown(container)); });
class AKS_GoogleCampaign {
        constructor(campaign) { this.campaign = campaign; }
    setup() {
        return new Promise((resolve, reject) => {
            const delay = 500; let tries = 6; const check = () => {
                if (--tries < 0) { return void reject(); }
                switch (window.__site.loadedGoogleCampaigns[this.campaign.id]) { case 'loaded': return void resolve(); case 'error': return void reject(); default: setTimeout(check, delay); }
            }; check();
        });
    }
};
class AKS_NormalCampaign {
        constructor(campaign) { this.campaign = campaign; }
    setup() { return new Promise((resolve, reject) => { const options = this.campaign.options; this.setupBackground(options); this.setupLink('right', options); this.setupLink('left', options); resolve(); }); }
    async setupBackground(options) {
        if (options.backgroundColor) { document.body.style.backgroundColor = options.backgroundColor; }
        const webpSupported = await this.isWebpSupported(); if (webpSupported) { const loaded = await this.loadImage(options.backgroundImageUrl); if (loaded) { this.setBackground(options.backgroundImageUrl); } else if (options.backgroundImageUrlBackup) { this.setBackground(options.backgroundImageUrlBackup); } } else { this.setBackground(options.backgroundImageUrlBackup); }
    }
    setupLink(side, options) {
        options = (side === 'right') ? options.backgroundRight : options.backgroundLeft; if (!options.linkUrl) { return; }
        const container = document.createElement('div'); container.innerHTML = `
            <a
                class="bg-link-${side}"
                href="${options.linkUrl}"
                target="${options.linkTarget || '_blank'}"
                rel="noopener"
                aria-label="background link ${side}"
           ></a>
        `; document.body.appendChild(container.querySelector('a'));
    }
    async isWebpSupported() {
        return new Promise((resolve, reject) => {
            if (window.Modernizr) { Modernizr.on('webp', (supported) => resolve(supported)); return; }
            const elem = document.createElement('canvas'); if (elem.getContext && elem.getContext('2d')) { return resolve(elem.toDataURL('image/webp').indexOf('data:image/webp') === 0); }
            resolve(false);
        });
    }
    setBackground(url) { document.body.style.backgroundImage = 'url(' + url + ')'; }
    loadImage(url) { return new Promise((resolve, reject) => { const img = document.createElement('img'); img.addEventListener('load', () => resolve(true)); img.addEventListener('error', () => resolve(false)); img.src = url; }); }
};
class AKS_CampaignManager {
        constructor(campaigns) { this.setupCampaigns(campaigns) }
    async setupCampaigns(campaigns) { for (const i in campaigns) { try { await this.setupCampaign(campaigns[i]); break; } catch (e) { } } }
    setupCampaign(campaignData) {
        return new Promise(async (resolve, reject) => {
            const campaign = this.instantiateCampaign(campaignData); if (!campaign) { reject(); }
            try { await campaign.setup(); resolve(); } catch (e) { reject(); }
        });
    }
    instantiateCampaign(campaign) {
        switch (campaign.type) { case 'normalCampaign': return new AKS_NormalCampaign(campaign); case 'googleCampaign': return new AKS_GoogleCampaign(campaign); }
        return null;
    }
}
window.addEventListener('DOMContentLoaded', async () => {
    const cookieName = 'aks_campaigns'; function setCookie(value) { value = encodeURIComponent(JSON.stringify(value)); document.cookie = `${cookieName}=${value}; path=/; max-age=${3600 * 6};`; }
    function getCookie() {
        let campaigns = null; document.cookie.split(';').every((cookie) => {
            const [key, value] = cookie.split('='); if (key.trim() === cookieName) { campaigns = JSON.parse(decodeURIComponent(value.trim())); return false; }
            return true;
        }); return campaigns;
    }
    function getUserLanguage() { return navigator.language.substr(0, 2).toLowerCase(); }
    if (!__site.currentUser.id) { const campaigns = getCookie(); if (campaigns) { window.__campaigns = campaigns; } else { const request = await fetch(__site.ajaxUrl + '?action=background_get_campaigns&language=' + getUserLanguage()); const response = await request.json(); if (typeof response === 'object' && response.campaigns) { window.__campaigns = response.campaigns; setCookie(response.campaigns); } } }
    new AKS_CampaignManager(window.__campaigns);
});
!function () { if ("function" == typeof window.CustomEvent) return !1; function e(e, t) { t = t || { bubbles: !1, cancelable: !1, detail: void 0 }; var n = document.createEvent("CustomEvent"); return n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n } e.prototype = window.Event.prototype, window.CustomEvent = e }(), function () { var e = function (e) { return new RegExp("(^| )" + e + "( |$)") }, t = function (e, t, n) { for (var i = 0; i < e.length; i++)t.call(n, e[i]) }; function n(e) { this.element = e } n.prototype = { add: function () { t(arguments, function (e) { this.contains(e) || (this.element.className += this.element.className.length > 0 ? " " + e : e) }, this) }, remove: function () { t(arguments, function (t) { this.element.className = this.element.className.replace(e(t), "") }, this) }, toggle: function (e) { return this.contains(e) ? (this.remove(e), !1) : (this.add(e), !0) }, contains: function (t) { return e(t).test(this.element.className) }, replace: function (e, t) { this.remove(e), this.add(t) } }, "classList" in Element.prototype || Object.defineProperty(Element.prototype, "classList", { get: function () { return new n(this) } }), window.DOMTokenList && null == DOMTokenList.prototype.replace && (DOMTokenList.prototype.replace = n.prototype.replace) }(), function (e, t, n) { var i = new function () { this.cookiesAccepted = null, this.noticeContainer = null, this.setStatus = function (n) { var i = this; "1" === cnArgs.onScroll && e.removeEventListener("scroll", this.handleScroll); var o = new Date, s = new Date; "accept" === n ? (n = "true", s.setTime(parseInt(o.getTime()) + 1e3 * parseInt(cnArgs.cookieTime))) : (n = "false", s.setTime(parseInt(o.getTime()) + 1e3 * parseInt(cnArgs.cookieTimeRejected))), t.cookie = cnArgs.cookieName + "=" + n + ";expires=" + s.toUTCString() + ";" + (cnArgs.cookieDomain ? "domain=" + cnArgs.cookieDomain + ";" : "") + (cnArgs.cookiePath ? "path=" + cnArgs.cookiePath + ";" : "") + ("1" === cnArgs.secure ? "secure;" : ""), this.cookiesAccepted = "true" === n; var c = new CustomEvent("setCookieNotice", { detail: { value: n, time: o, expires: s, data: cnArgs } }); if (t.dispatchEvent(c), this.setBodyClass(["cookies-set", "true" === n ? "cookies-accepted" : "cookies-refused"]), this.hideCookieNotice(), "automatic" === cnArgs.revokeCookiesOpt && (this.noticeContainer.addEventListener("animationend", function e() { i.noticeContainer.removeEventListener("animationend", e), i.showRevokeNotice() }), this.noticeContainer.addEventListener("webkitAnimationEnd", function e() { i.noticeContainer.removeEventListener("webkitAnimationEnd", e), i.showRevokeNotice() })), "1" === cnArgs.redirection && ("true" === n && null === this.cookiesAccepted || n !== this.cookiesAccepted && null !== this.cookiesAccepted)) { var a = e.location.protocol + "//", r = e.location.host + "/" + e.location.pathname; "1" === cnArgs.cache ? (a = a + r.replace("//", "/") + ("" === e.location.search ? "?" : e.location.search + "&") + "cn-reloaded=1" + e.location.hash, e.location.href = a) : (a = a + r.replace("//", "/") + e.location.search + e.location.hash, e.location.reload(!0)) } else; }, this.getStatus = function (e) { var n = ("; " + t.cookie).split("; cookie_notice_accepted="); if (2 === n.length) { var i = n.pop().split(";").shift(); return e ? "true" === i : i } return null }, this.showCookieNotice = function () { var e = this, n = new CustomEvent("showCookieNotice", { detail: { data: cnArgs } }); t.dispatchEvent(n), this.noticeContainer.classList.remove("cookie-notice-hidden"), this.noticeContainer.classList.add("cn-animated"), this.noticeContainer.classList.add("cookie-notice-visible"), this.noticeContainer.addEventListener("animationend", function t() { e.noticeContainer.removeEventListener("animationend", t), e.noticeContainer.classList.remove("cn-animated") }), this.noticeContainer.addEventListener("webkitAnimationEnd", function t() { e.noticeContainer.removeEventListener("webkitAnimationEnd", t), e.noticeContainer.classList.remove("cn-animated") }) }, this.hideCookieNotice = function () { var e = this, n = new CustomEvent("hideCookieNotice", { detail: { data: cnArgs } }); t.dispatchEvent(n), this.noticeContainer.classList.add("cn-animated"), this.noticeContainer.classList.remove("cookie-notice-visible"), this.noticeContainer.addEventListener("animationend", function t() { e.noticeContainer.removeEventListener("animationend", t), e.noticeContainer.classList.remove("cn-animated"), e.noticeContainer.classList.add("cookie-notice-hidden") }), this.noticeContainer.addEventListener("webkitAnimationEnd", function t() { e.noticeContainer.removeEventListener("webkitAnimationEnd", t), e.noticeContainer.classList.remove("cn-animated"), e.noticeContainer.classList.add("cookie-notice-hidden") }) }, this.showRevokeNotice = function () { var e = this, n = new CustomEvent("showRevokeNotice", { detail: { data: cnArgs } }); t.dispatchEvent(n), this.noticeContainer.classList.remove("cookie-revoke-hidden"), this.noticeContainer.classList.add("cn-animated"), this.noticeContainer.classList.add("cookie-revoke-visible"), this.noticeContainer.addEventListener("animationend", function t() { e.noticeContainer.removeEventListener("animationend", t), e.noticeContainer.classList.remove("cn-animated") }), this.noticeContainer.addEventListener("webkitAnimationEnd", function t() { e.noticeContainer.removeEventListener("webkitAnimationEnd", t), e.noticeContainer.classList.remove("cn-animated") }) }, this.hideRevokeNotice = function () { var e = this, n = new CustomEvent("hideRevokeNotice", { detail: { data: cnArgs } }); t.dispatchEvent(n), this.noticeContainer.classList.add("cn-animated"), this.noticeContainer.classList.remove("cookie-revoke-visible"), this.noticeContainer.addEventListener("animationend", function t() { e.noticeContainer.removeEventListener("animationend", t), e.noticeContainer.classList.remove("cn-animated"), e.noticeContainer.classList.add("cookie-revoke-hidden") }), this.noticeContainer.addEventListener("webkitAnimationEnd", function t() { e.noticeContainer.removeEventListener("webkitAnimationEnd", t), e.noticeContainer.classList.remove("cn-animated"), e.noticeContainer.classList.add("cookie-revoke-hidden") }) }, this.setBodyClass = function (e) { t.body.classList.remove("cookies-revoke"), t.body.classList.remove("cookies-accepted"), t.body.classList.remove("cookies-refused"), t.body.classList.remove("cookies-set"), t.body.classList.remove("cookies-not-set"); for (var n = 0; n < e.length; n++)t.body.classList.add(e[n]) }, this.handleScroll = function () { (e.pageYOffset || (t.documentElement || t.body.parentNode || t.body).scrollTop) > parseInt(cnArgs.onScrollOffset) && this.setStatus("accept") }, this.getClosest = function (e, n) { for (Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (e) { for (var t = (this.document || this.ownerDocument).querySelectorAll(e), n = t.length; --n >= 0 && t.item(n) !== this;); return n > -1 }); e && e !== t; e = e.parentNode)if (e.matches(n)) return e; return null }, this.init = function () { var n = this; this.cookiesAccepted = this.getStatus(!0), this.noticeContainer = t.getElementById("cookie-notice"); var i = t.getElementsByClassName("cn-set-cookie"), o = t.getElementsByClassName("cn-revoke-cookie"), s = t.getElementById("cn-close-notice"); this.noticeContainer.classList.add("cn-effect-" + cnArgs.hideEffect), null === this.cookiesAccepted ? ("1" === cnArgs.onScroll && e.addEventListener("scroll", function (e) { n.handleScroll() }), "1" === cnArgs.onClick && e.addEventListener("click", function (e) { null === n.getClosest(e.target, "#cookie-notice") && n.setStatus("accept") }, !0), this.setBodyClass(["cookies-not-set"]), this.showCookieNotice()) : (this.setBodyClass(["cookies-set", !0 === this.cookiesAccepted ? "cookies-accepted" : "cookies-refused"]), "1" === cnArgs.revokeCookies && "automatic" === cnArgs.revokeCookiesOpt && this.showRevokeNotice()); for (var c = 0; c < i.length; c++)i[c].addEventListener("click", function (e) { e.preventDefault(), e.stopPropagation(), n.setStatus(this.dataset.cookieSet) }); "null" !== s && s.addEventListener("click", function (e) { e.preventDefault(), e.stopPropagation(), n.setStatus("reject") }); for (c = 0; c < o.length; c++)o[c].addEventListener("click", function (e) { e.preventDefault(), n.noticeContainer.classList.contains("cookie-revoke-visible") ? (n.hideRevokeNotice(), n.noticeContainer.addEventListener("animationend", function e() { n.noticeContainer.removeEventListener("animationend", e), n.showCookieNotice() }), n.noticeContainer.addEventListener("webkitAnimationEnd", function e() { n.noticeContainer.removeEventListener("webkitAnimationEnd", e), n.showCookieNotice() })) : n.noticeContainer.classList.contains("cookie-notice-hidden") && n.noticeContainer.classList.contains("cookie-revoke-hidden") && n.showCookieNotice() }) } }; e.addEventListener("load", function () { i.init() }, !1) }(window, document);
function theChampPopup(e) { window.open(e, "_blank", "height=420,width=620,left=390,top=105,resizable,scrollbars,toolbar=0,personalbar=0,menubar=no,location=no,directories=no,status") } function theChampStrReplace(e, t, n) { for (var r = 0; r < e.length; r++) { n = n.replace(new RegExp(e[r], "g"), t[r]) } return n } function theChampCallAjax(e) { if (typeof jQuery != "undefined") { e() } else { theChampGetScript("https://code.jquery.com/jquery-latest.min.js", e) } } function theChampGetScript(e, t) { var n = document.createElement("script"); n.src = e; var r = document.getElementsByTagName("head")[0], i = false; n.onload = n.onreadystatechange = function () { if (!i && (!this.readyState || this.readyState == "loaded" || this.readyState == "complete")) { i = true; t(); n.onload = n.onreadystatechange = null; r.removeChild(n) } }; r.appendChild(n) } function theChampGetElementsByClass(e, t) { if (e.getElementsByClassName) { return e.getElementsByClassName(t) } else { return function (e, t) { if (t == null) { t = document } var n = [], r = t.getElementsByTagName("*"), i = r.length, s = new RegExp("(^|\\s)" + e + "(\\s|$)"), o, u; for (o = 0, u = 0; o < i; o++) { if (s.test(r[o].className)) { n[u] = r[o]; u++ } } return n }(t, e) } } if (typeof String.prototype.trim !== "function") { String.prototype.trim = function () { return this.replace(/^\s+|\s+$/g, "") } }
function theChampGetCookie(e) { for (var t = e + "=", a = document.cookie.split(";"), h = 0; h < a.length; h++) { for (var i = a[h]; " " == i.charAt(0);)i = i.substring(1, i.length); if (0 == i.indexOf(t)) return i.substring(t.length, i.length) } return null };
function theChampLoginPopup(e) { if ("undefined" != typeof theChampSameTabLogin && theChampSameTabLogin == 1) { location.href = e } else { window.open(e, "_blank", "height=520,width=770,left=315,top=80,resizable,scrollbars,toolbar=0,personalbar=0,menubar=no,location=no,directories=no,status") } } function theChampLoadingIcon() { jQuery(".the_champ_login_container").html('<img id="the_champ_loading_image" src="' + theChampLoadingImgPath + '" />') } function theChampInitiateLogin(e, a) { var t = jQuery(e).parents("div.the_champ_login_container").find(".heateor_ss_social_login_optin"); if (0 == t.length || jQuery(t).is(":checked")) { "facebook" == a ? theChampLoginPopup(theChampFacebookAuthUrl) : "foursquare" == a ? theChampLoginPopup(theChampFoursquareAuthUrl) : "dropbox" == a ? theChampLoginPopup(theChampDropboxAuthUrl) : "amazon" == a ? theChampLoginPopup(theChampAmazonAuthUrl) : "disqus" == a ? theChampLoginPopup(theChampDisqusAuthUrl) : "stackoverflow" == a ? theChampLoginPopup(theChampStackoverflowAuthUrl) : "discord" == a ? theChampLoginPopup(theChampDiscordAuthUrl) : "reddit" == a ? theChampLoginPopup(theChampRedditAuthUrl) : "github" == a ? theChampLoginPopup(theChampGithubAuthUrl) : "twitch" == a ? theChampLoginPopup(theChampTwitchAuthUrl) : "spotify" == a ? theChampLoginPopup(theChampSpotifyAuthUrl) : "mailru" == a ? theChampLoginPopup(theChampMailruAuthUrl) : "dribbble" == a ? theChampLoginPopup(theChampDribbbleAuthUrl) : "kakao" == a ? theChampLoginPopup(theChampKakaoAuthUrl) : "line" == a ? theChampLoginPopup(theChampLineAuthUrl) : "microsoft" == a ? theChampLoginPopup(theChampLiveAuthUrl) : "steam" == a ? theChampLoginPopup(theChampSteamAuthUrl) : "twitter" == a ? theChampLoginPopup(theChampTwitterAuthUrl) : ("linkedin" == a && theChampLoginPopup(theChampLinkedinAuthUrl), "google" == a ? theChampLoginPopup(theChampGoogleAuthUrl) : "vkontakte" == a ? theChampLoginPopup(theChampVkontakteAuthUrl) : "yahoo" == a ? theChampLoginPopup(theChampYahooAuthUrl) : "wordpress" == a ? theChampLoginPopup(theChampWordpressAuthUrl) : "instagram" == a && theChampLoginPopup(theChampInstagramAuthUrl)) } else t.length > 0 && jQuery(t).parent().css("color", "red") } function theChampDisplayLoginIcon(e, t) { if ("undefined" != typeof jQuery) for (var a = 0; a < t.length; a++)jQuery("." + t[a]).css("display", "block"); else for (a = 0; a < t.length; a++)for (var h = theChampGetElementsByClass(e, t[a]), i = 0; i < h.length; i++)h[i].style.display = "block" } function theChampValidateEmail(e) { return /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e) } function the_champ_save_email(e) { var t = document.getElementById("the_champ_email").value.trim(), a = document.getElementById("the_champ_confirm_email").value.trim(); return "save" != e.id || theChampValidateEmail(t) ? t != a ? (document.getElementById("the_champ_error").innerHTML = "Email addresses do not match", void jQuery("#TB_ajaxContent").css("height", "auto")) : void theChampCallAjax(function () { theChampSaveEmail(e.id, t) }) : (document.getElementById("the_champ_error").innerHTML = theChampEmailPopupErrorMsg, void jQuery("#TB_ajaxContent").css("height", "auto")) } function theChampSaveEmail(e, t) { document.getElementById("the_champ_error").innerHTML = '<img src="' + theChampLoadingImgPath + '" />', jQuery.ajax({ type: "POST", dataType: "json", url: theChampAjaxUrl, data: { action: "the_champ_save_email", elemId: e, email: t, id: theChampEmailPopupUniqueId }, success: function (e) { window.history.pushState({ html: "html", pageTitle: "page title" }, "", "?done=1"), 1 == e.status && e.message.response && "success" == e.message.response ? location.href = e.message.url : 1 == e.status && "success" == e.message ? location.href = theChampRegRedirectionUrl : 1 == e.status && "cancelled" == e.message ? tb_remove() : 1 == e.status && "verify" == e.message ? document.getElementById("TB_ajaxContent").innerHTML = "<strong>" + theChampEmailPopupVerifyMessage + "</strong>" : 0 == e.status && (document.getElementById("the_champ_error").innerHTML = e.message, jQuery("#TB_ajaxContent").css("height", "auto")) }, error: function (e, t, a) { location.href = decodeURIComponent(theChampRedirectionUrl) } }) } function theChampCapitaliseFirstLetter2(e) { return e.charAt(0).toUpperCase() + e.slice(1) } if (void 0 === theChampLinkingRedirection) var theChampLinkingRedirection = ""; theChampVerified && theChampLoadEvent(function () { tb_show(theChampPopupTitle, theChampAjaxUrl) }), theChampEmailPopup && theChampLoadEvent(function () { tb_show(theChampEmailPopupTitle, theChampEmailAjaxUrl) }); var theChampCommentFormLogin = !1;
if (typeof tb_pathToImage != 'string') { var tb_pathToImage = thickboxL10n.loadingAnimation; }
/*!!!!!!!!!!!!!!!!! edit below this line at your own risk !!!!!!!!!!!!!!!!!!!!!!!*/
jQuery(document).ready(function () { tb_init('a.thickbox, area.thickbox, input.thickbox'); imgLoader = new Image(); imgLoader.src = tb_pathToImage; }); function tb_init(domChunk) { jQuery('body').on('click', domChunk, tb_click).on('thickbox:iframe:loaded', function () { jQuery('#TB_window').removeClass('thickbox-loading'); }); }
function tb_click() { var t = this.title || this.name || null; var a = this.href || this.alt; var g = this.rel || false; tb_show(t, a, g); this.blur(); return false; }
function tb_show(caption, url, imageGroup) {
    var $closeBtn; try {
        if (typeof document.body.style.maxHeight === "undefined") { jQuery("body", "html").css({ height: "100%", width: "100%" }); jQuery("html").css("overflow", "hidden"); if (document.getElementById("TB_HideSelect") === null) { jQuery("body").append("<iframe id='TB_HideSelect'>" + thickboxL10n.noiframes + "</iframe><div id='TB_overlay'></div><div id='TB_window' class='thickbox-loading'></div>"); jQuery("#TB_overlay").on('click', tb_remove); } } else { if (document.getElementById("TB_overlay") === null) { jQuery("body").append("<div id='TB_overlay'></div><div id='TB_window' class='thickbox-loading'></div>"); jQuery("#TB_overlay").on('click', tb_remove); jQuery('body').addClass('modal-open'); } }
        if (tb_detectMacXFF()) { jQuery("#TB_overlay").addClass("TB_overlayMacFFBGHack"); } else { jQuery("#TB_overlay").addClass("TB_overlayBG"); }
        if (caption === null) { caption = ""; }
        jQuery("body").append("<div id='TB_load'><img src='" + imgLoader.src + "' width='208' /></div>"); jQuery('#TB_load').show(); var baseURL; if (url.indexOf("?") !== -1) { baseURL = url.substr(0, url.indexOf("?")); } else { baseURL = url; }
        var urlString = /\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/; var urlType = baseURL.toLowerCase().match(urlString); if (urlType == '.jpg' || urlType == '.jpeg' || urlType == '.png' || urlType == '.gif' || urlType == '.bmp') {
            TB_PrevCaption = ""; TB_PrevURL = ""; TB_PrevHTML = ""; TB_NextCaption = ""; TB_NextURL = ""; TB_NextHTML = ""; TB_imageCount = ""; TB_FoundURL = false; if (imageGroup) { TB_TempArray = jQuery("a[rel=" + imageGroup + "]").get(); for (TB_Counter = 0; ((TB_Counter < TB_TempArray.length) && (TB_NextHTML === "")); TB_Counter++) { var urlTypeTemp = TB_TempArray[TB_Counter].href.toLowerCase().match(urlString); if (!(TB_TempArray[TB_Counter].href == url)) { if (TB_FoundURL) { TB_NextCaption = TB_TempArray[TB_Counter].title; TB_NextURL = TB_TempArray[TB_Counter].href; TB_NextHTML = "<span id='TB_next'>&nbsp;&nbsp;<a href='#'>" + thickboxL10n.next + "</a></span>"; } else { TB_PrevCaption = TB_TempArray[TB_Counter].title; TB_PrevURL = TB_TempArray[TB_Counter].href; TB_PrevHTML = "<span id='TB_prev'>&nbsp;&nbsp;<a href='#'>" + thickboxL10n.prev + "</a></span>"; } } else { TB_FoundURL = true; TB_imageCount = thickboxL10n.image + ' ' + (TB_Counter + 1) + ' ' + thickboxL10n.of + ' ' + (TB_TempArray.length); } } }
            imgPreloader = new Image(); imgPreloader.onload = function () {
                imgPreloader.onload = null; var pagesize = tb_getPageSize(); var x = pagesize[0] - 150; var y = pagesize[1] - 150; var imageWidth = imgPreloader.width; var imageHeight = imgPreloader.height; if (imageWidth > x) { imageHeight = imageHeight * (x / imageWidth); imageWidth = x; if (imageHeight > y) { imageWidth = imageWidth * (y / imageHeight); imageHeight = y; } } else if (imageHeight > y) { imageWidth = imageWidth * (y / imageHeight); imageHeight = y; if (imageWidth > x) { imageHeight = imageHeight * (x / imageWidth); imageWidth = x; } }
                TB_WIDTH = imageWidth + 30; TB_HEIGHT = imageHeight + 60; jQuery("#TB_window").append("<a href='' id='TB_ImageOff'><span class='screen-reader-text'>" + thickboxL10n.close + "</span><img id='TB_Image' src='" + url + "' width='" + imageWidth + "' height='" + imageHeight + "' alt='" + caption + "'/></a>" + "<div id='TB_caption'>" + caption + "<div id='TB_secondLine'>" + TB_imageCount + TB_PrevHTML + TB_NextHTML + "</div></div><div id='TB_closeWindow'><button type='button' id='TB_closeWindowButton'><span class='screen-reader-text'>" + thickboxL10n.close + "</span><span class='tb-close-icon'></span></button></div>"); jQuery("#TB_closeWindowButton").on('click', tb_remove); if (!(TB_PrevHTML === "")) {
                    function goPrev() {
                        if (jQuery(document).off("click", goPrev)) { jQuery(document).off("click", goPrev); }
                        jQuery("#TB_window").remove(); jQuery("body").append("<div id='TB_window'></div>"); tb_show(TB_PrevCaption, TB_PrevURL, imageGroup); return false;
                    }
                    jQuery("#TB_prev").on('click', goPrev);
                }
                if (!(TB_NextHTML === "")) {
                    function goNext() { jQuery("#TB_window").remove(); jQuery("body").append("<div id='TB_window'></div>"); tb_show(TB_NextCaption, TB_NextURL, imageGroup); return false; }
                    jQuery("#TB_next").on('click', goNext);
                }
                jQuery(document).on('keydown.thickbox', function (e) {
                    if (e.which == 27) { tb_remove(); } else if (e.which == 190) { if (!(TB_NextHTML == "")) { jQuery(document).off('thickbox'); goNext(); } } else if (e.which == 188) { if (!(TB_PrevHTML == "")) { jQuery(document).off('thickbox'); goPrev(); } }
                    return false;
                }); tb_position(); jQuery("#TB_load").remove(); jQuery("#TB_ImageOff").on('click', tb_remove); jQuery("#TB_window").css({ 'visibility': 'visible' });
            }; imgPreloader.src = url;
        } else {
            var queryString = url.replace(/^[^\?]+\??/, ''); var params = tb_parseQuery(queryString); TB_WIDTH = (params['width'] * 1) + 30 || 630; TB_HEIGHT = (params['height'] * 1) + 40 || 440; ajaxContentW = TB_WIDTH - 30; ajaxContentH = TB_HEIGHT - 45; if (url.indexOf('TB_iframe') != -1) { urlNoQuery = url.split('TB_'); jQuery("#TB_iframeContent").remove(); if (params['modal'] != "true") { jQuery("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>" + caption + "</div><div id='TB_closeAjaxWindow'><button type='button' id='TB_closeWindowButton'><span class='screen-reader-text'>" + thickboxL10n.close + "</span><span class='tb-close-icon'></span></button></div></div><iframe frameborder='0' hspace='0' allowtransparency='true' src='" + urlNoQuery[0] + "' id='TB_iframeContent' name='TB_iframeContent" + Math.round(Math.random() * 1000) + "' onload='tb_showIframe()' style='width:" + (ajaxContentW + 29) + "px;height:" + (ajaxContentH + 17) + "px;' >" + thickboxL10n.noiframes + "</iframe>"); } else { jQuery("#TB_overlay").off(); jQuery("#TB_window").append("<iframe frameborder='0' hspace='0' allowtransparency='true' src='" + urlNoQuery[0] + "' id='TB_iframeContent' name='TB_iframeContent" + Math.round(Math.random() * 1000) + "' onload='tb_showIframe()' style='width:" + (ajaxContentW + 29) + "px;height:" + (ajaxContentH + 17) + "px;'>" + thickboxL10n.noiframes + "</iframe>"); } } else { if (jQuery("#TB_window").css("visibility") != "visible") { if (params['modal'] != "true") { jQuery("#TB_window").append("<div id='TB_title'><div id='TB_ajaxWindowTitle'>" + caption + "</div><div id='TB_closeAjaxWindow'><button type='button' id='TB_closeWindowButton'><span class='screen-reader-text'>" + thickboxL10n.close + "</span><span class='tb-close-icon'></span></button></div></div><div id='TB_ajaxContent' style='width:" + ajaxContentW + "px;height:" + ajaxContentH + "px'></div>"); } else { jQuery("#TB_overlay").off(); jQuery("#TB_window").append("<div id='TB_ajaxContent' class='TB_modal' style='width:" + ajaxContentW + "px;height:" + ajaxContentH + "px;'></div>"); } } else { jQuery("#TB_ajaxContent")[0].style.width = ajaxContentW + "px"; jQuery("#TB_ajaxContent")[0].style.height = ajaxContentH + "px"; jQuery("#TB_ajaxContent")[0].scrollTop = 0; jQuery("#TB_ajaxWindowTitle").html(caption); } }
            jQuery("#TB_closeWindowButton").on('click', tb_remove); if (url.indexOf('TB_inline') != -1) { jQuery("#TB_ajaxContent").append(jQuery('#' + params['inlineId']).children()); jQuery("#TB_window").on('tb_unload', function () { jQuery('#' + params['inlineId']).append(jQuery("#TB_ajaxContent").children()); }); tb_position(); jQuery("#TB_load").remove(); jQuery("#TB_window").css({ 'visibility': 'visible' }); } else if (url.indexOf('TB_iframe') != -1) { tb_position(); jQuery("#TB_load").remove(); jQuery("#TB_window").css({ 'visibility': 'visible' }); } else { var load_url = url; load_url += -1 === url.indexOf('?') ? '?' : '&'; jQuery("#TB_ajaxContent").load(load_url += "random=" + (new Date().getTime()), function () { tb_position(); jQuery("#TB_load").remove(); tb_init("#TB_ajaxContent a.thickbox"); jQuery("#TB_window").css({ 'visibility': 'visible' }); }); }
        }
        if (!params['modal']) { jQuery(document).on('keydown.thickbox', function (e) { if (e.which == 27) { tb_remove(); return false; } }); }
        $closeBtn = jQuery('#TB_closeWindowButton'); if ($closeBtn.find('.tb-close-icon').is(':visible')) { $closeBtn.trigger('focus'); }
    } catch (e) { }
}
function tb_showIframe() { jQuery("#TB_load").remove(); jQuery("#TB_window").css({ 'visibility': 'visible' }).trigger('thickbox:iframe:loaded'); }
function tb_remove() {
    jQuery("#TB_imageOff").off("click"); jQuery("#TB_closeWindowButton").off("click"); jQuery('#TB_window').fadeOut('fast', function () { jQuery('#TB_window, #TB_overlay, #TB_HideSelect').trigger('tb_unload').off().remove(); jQuery('body').trigger('thickbox:removed'); }); jQuery('body').removeClass('modal-open'); jQuery("#TB_load").remove(); if (typeof document.body.style.maxHeight == "undefined") { jQuery("body", "html").css({ height: "auto", width: "auto" }); jQuery("html").css("overflow", ""); }
    jQuery(document).off('.thickbox'); return false;
}
function tb_position() { var isIE6 = typeof document.body.style.maxHeight === "undefined"; jQuery("#TB_window").css({ marginLeft: '-' + parseInt((TB_WIDTH / 2), 10) + 'px', width: TB_WIDTH + 'px' }); if (!isIE6) { jQuery("#TB_window").css({ marginTop: '-' + parseInt((TB_HEIGHT / 2), 10) + 'px' }); } }
function tb_parseQuery(query) {
    var Params = {}; if (!query) { return Params; }
    var Pairs = query.split(/[;&]/); for (var i = 0; i < Pairs.length; i++) {
        var KeyVal = Pairs[i].split('='); if (!KeyVal || KeyVal.length != 2) { continue; }
        var key = unescape(KeyVal[0]); var val = unescape(KeyVal[1]); val = val.replace(/\+/g, ' '); Params[key] = val;
    }
    return Params;
}
function tb_getPageSize() { var de = document.documentElement; var w = window.innerWidth || self.innerWidth || (de && de.clientWidth) || document.body.clientWidth; var h = window.innerHeight || self.innerHeight || (de && de.clientHeight) || document.body.clientHeight; arrayPageSize = [w, h]; return arrayPageSize; }
function tb_detectMacXFF() { var userAgent = navigator.userAgent.toLowerCase(); if (userAgent.indexOf('mac') != -1 && userAgent.indexOf('firefox') != -1) { return true; } };
/*! This file is auto-generated */
!function (c, d) { "use strict"; var e = !1, n = !1; if (d.querySelector) if (c.addEventListener) e = !0; if (c.wp = c.wp || {}, !c.wp.receiveEmbedMessage) if (c.wp.receiveEmbedMessage = function (e) { var t = e.data; if (t) if (t.secret || t.message || t.value) if (!/[^a-zA-Z0-9]/.test(t.secret)) { for (var r, a, i, s = d.querySelectorAll('iframe[data-secret="' + t.secret + '"]'), n = d.querySelectorAll('blockquote[data-secret="' + t.secret + '"]'), o = 0; o < n.length; o++)n[o].style.display = "none"; for (o = 0; o < s.length; o++)if (r = s[o], e.source === r.contentWindow) { if (r.removeAttribute("style"), "height" === t.message) { if (1e3 < (i = parseInt(t.value, 10))) i = 1e3; else if (~~i < 200) i = 200; r.height = i } if ("link" === t.message) if (a = d.createElement("a"), i = d.createElement("a"), a.href = r.getAttribute("src"), i.href = t.value, i.host === a.host) if (d.activeElement === r) c.top.location.href = t.value } } }, e) c.addEventListener("message", c.wp.receiveEmbedMessage, !1), d.addEventListener("DOMContentLoaded", t, !1), c.addEventListener("load", t, !1); function t() { if (!n) { n = !0; for (var e, t, r = -1 !== navigator.appVersion.indexOf("MSIE 10"), a = !!navigator.userAgent.match(/Trident.*rv:11\./), i = d.querySelectorAll("iframe.wp-embedded-content"), s = 0; s < i.length; s++) { if (!(e = i[s]).getAttribute("data-secret")) t = Math.random().toString(36).substr(2, 10), e.src += "#?secret=" + t, e.setAttribute("data-secret", t); if (r || a) (t = e.cloneNode(!0)).removeAttribute("security"), e.parentNode.replaceChild(t, e) } } } }(window, document);
jQuery(function ($) {
    function FollowPopover(button) { this.ui = { banner: document.querySelector(".banner"), $popover: null, $layer: null, $bannerLayer: null, $content: null, $arrow: null, $arrowMask: null, }; this.onDestroy = new AksEvent(); this.button = button; this.modules = {}; this.mustReplacePopover = false; this.mustReplacePopoverOnce = false; this.destroy = this.destroy.bind(this); this.loadModule = this.loadModule.bind(this); this.replacePopover = this.replacePopover.bind(this); this.init(); }
    FollowPopover.registeredModules = []; FollowPopover.registerModule = function (name, moduleClass, priority) { FollowPopover.registeredModules[priority] = { name: name, class: moduleClass, }; }; FollowPopover.prototype = {
        init: function () { this.buildPopover(); var that = this; setTimeout(function () { that.ui.$layer.add(that.ui.$popover).add(that.ui.$bannerLayer).addClass("animate-in"); }); }, buildPopover: function () { this.ui.$popover = $($("#aks-follow-popover-tpl").html()); this.ui.$arrow = this.ui.$popover.find("[data-popover-arrow]"); this.ui.$arrowMask = this.ui.$popover.find("[data-popover-arrow-mask]"); this.mustReplacePopoverOnce = true; this.replacePopover(); $(document.body).append(this.ui.$popover); this.ui.$content = this.ui.$popover.find("[data-popover-content]"); this.loadModules(); this.ui.$layer = $("<div>").addClass("aks-follow-popover-shade").click(this.destroy); this.ui.$bannerLayer = this.ui.$layer.clone(true, false).css("position", "absolute"); $(".banner").append(this.ui.$bannerLayer); $(document.body).append(this.ui.$layer); $(document).scroll(this.onScroll.bind(this)); var that = this; $(window).resize(function () { that.mustReplacePopoverOnce = true; }); this.mustReplacePopoverOnce = true; this.replacePopover(); }, schedulePopupReplacing: function () { requestAnimationFrame(this.replacePopover); }, replacePopover: function () {
            var mustReplacePopover = this.mustReplacePopover; if (this.mustReplacePopoverOnce) { mustReplacePopover = true; this.mustReplacePopoverOnce = false; }
            if (mustReplacePopover) { var buttonBox = this.button.ui.$dataBtn[0].getBoundingClientRect(); var bannerBox = this.ui.banner.getBoundingClientRect(); var popoverBox = this.ui.$popover[0].getBoundingClientRect(); this.ui.$popover.css({ top: bannerBox.bottom + 20 + window.scrollY, left: buttonBox.right, }); var arrowTop = buttonBox.top - popoverBox.top + 10; this.ui.$arrow.css("top", arrowTop); this.ui.$arrowMask.css("top", arrowTop - 3); }
            this.schedulePopupReplacing();
        }, onScroll: function (e) {
            var popover = this.ui.$popover[0]; if (popover.offsetHeight + popover.offsetTop - 100 < document.scrollingElement.scrollTop)
                this.destroy();
        }, loadModules: function () { FollowPopover.registeredModules.forEach(this.loadModule); }, loadModule: function (config) { var $container = $("<div></div>"); this.ui.$content.append($container); var module = new config.class($container, this.button); this.modules[config.name] = module; module.render(); }, renderModules: function () {
            for (var name in this.modules)
                this.modules[name].render();
        }, destroy: function () {
            var destroyEventTriggered = false; var that = this; this.ui.$layer.add(this.ui.$popover).add(this.ui.$bannerLayer).on("transitionend webkitTransitionEnd oTransitionEnd", function () {
                $(this).remove(); if (!destroyEventTriggered) { destroyEventTriggered = true; that.onDestroy.trigger(); }
            }).removeClass("animate-in");
        }
    }; window.__site.FollowPopover = FollowPopover;
});
jQuery(function ($) {
    function Component() { }
    Component.prototype = {
        state: {}, setState: function (modifier) {
            if (typeof modifier === "function")
                this.state = modifier(this.state); else
                this.state = Object.assign(this.state, modifier); this.render();
        },
    }; window.__site.FollowPopover.Component = Component;
}); function callbackize(callback) {
    var args = Object.values(arguments).slice(1); var fn = function () { return callback.apply(null, args); }; fn.preventDefault = function (e) {
        if (e && e.preventDefault)
            e.preventDefault(); return fn();
    }; return fn;
};
jQuery(function ($) {
    var WishlistUtility = {
        addProduct: function (listId, productId) { return WishlistUtility.toggleProduct(listId, productId, true); }, removeProduct: function (listId, productId) { return WishlistUtility.toggleProduct(listId, productId, false); }, toggleProduct: function (listId, productId, enabled) { var action = enabled ? "akswl_add_game" : "akswl_delete_game_from_list"; return $.post({ url: __site.ajaxUrl + "?action=" + action, dataType: "json", data: { id: listId, normalisedName: productId, }, }); }, getFollowingList: function (lists) { return lists.find(function (list) { return (list.type === "followed"); }); }, createList: function (name) { return $.post({ url: __site.ajaxUrl + "?action=akswl_create_new_list", dataType: "json", data: { listName: name, }, }); }, deleteList: function (listId) { return $.post({ url: __site.ajaxUrl + "?action=akswl_delete_list", dataType: "json", data: { id: listId, }, }); },
    }; window.__site.FollowPopover.WishlistUtility = WishlistUtility;
});
jQuery(function ($) {
    function Wishlists($container, button) { this.__proto__ = Object.assign({}, __site.FollowPopover.Component.prototype, this.__proto__); this.ui = { $container: $container, $createContainer: null, $createForm: null, $createLabel: null, $createFormFields: null, }; this.button = button; this.nameInputValue = ""; this.state = { loadingStatus: "ready", lists: followBtnTrans.lists, showCreateForm: false, formLoading: false, pendingListDeletion: null, }; }
    Wishlists.prototype = {
        render: function () {
            var $html = $($("#aks-follow-popover-wishlists-tpl").html()); var $loading = $html.find("[data-loading]"); if (this.state.loadingStatus === "loading")
                $loading.show(); else
                $loading.hide(); this.renderLists($html, this.state.lists); this.ui.$container.empty().append($html);
        }, toggleList: function (list, checkbox) {
            var enabled = checkbox.checked; var that = this; list.loading = true; this.render(); __site.FollowPopover.WishlistUtility.toggleProduct(list.id, this.button.data.gameId, enabled).then(function () {
                if (enabled) { list.games.push({ normalised_name: that.button.data.gameId, }); }
                else {
                    list.games.forEach(function (game, i) {
                        if (game.normalised_name == that.button.data.gameId)
                            list.games.splice(i, 1);
                    });
                }
            }).always(function () { list.loading = false; that.render(); });
        }, isGameInList: function (gameId, list) { var found = list.games.find(function (game) { return (game.normalised_name === gameId); }); return !!found; }, renderLists: function ($html, lists) {
            var $lists = $html.find("[data-follow-lists]"); var $container = $("<div></div>"); var that = this; lists.forEach(function (list) {
                if (list.type === followBtnTrans.followedGamesList)
                    return; var $html = that.renderListRow(list); $container.append($html);
            }); $lists.append($container); this.renderCreateForm($lists);
        }, renderListRow: function (list) {
            if (list === this.state.pendingListDeletion)
                return this.renderDeleteConfirm(list); else
                return this.renderListItem(list);
        }, renderListItem: function (list) {
            var template = $("#aks-follow-popover-wishlists-item-tpl").html(); var $html = $(template); var checked = this.isGameInList(this.button.data.gameId, list); $html.find("[data-list-name]").text(list.name); var $checkbox = $html.find("[data-list-checkbox]"); var $loading = $html.find("[data-list-loading]"); var $deleteBtn = $html.find("[data-list-delete]"); if (list.loading) { $checkbox.hide(); $deleteBtn.hide(); }
            else {
                var that = this; $loading.hide(); $html.find("[data-list-checkbox]").attr("checked", checked).change(function () { that.toggleList(list, this); }); if (list.type === "user_defined") { $deleteBtn.click(function (e) { e.preventDefault(); that.setState({ pendingListDeletion: list, }); }); }
                else
                    $deleteBtn.html("");
            }
            return $html;
        }, renderDeleteConfirm: function (list) {
            var template = $("#aks-follow-popover-wishlists-delete-item-tpl").html(); var $html = $(template); var that = this; var $cancel = $html.find("[data-cancel]"); var $confirm = $html.find("[data-confirm]"); var $confirmDeletion = $html.find("[data-confirm-deletion]"); var $deleting = $html.find("[data-deleting]"); $html.find("[data-list-name]").text(list.name); if (list.loading) { $confirmDeletion.hide(); $cancel.hide(); $confirm.hide(); }
            else { $deleting.hide(); $cancel.click(function (e) { e.preventDefault(); that.setState({ pendingListDeletion: null, }); }); $confirm.click(callbackize(that.deleteList.bind(that), list).preventDefault); }
            return $html;
        }, deleteList: function (list) {
            list.loading = true; this.render(); var that = this; __site.FollowPopover.WishlistUtility.deleteList(list.id).then(function (response) {
                if (response.type !== "success")
                    return; var index = followBtnTrans.lists.indexOf(list); followBtnTrans.lists.splice(index, 1);
            }).catch(function () { }).always(function () { list.loading = false; that.render(); });
        }, renderCreateForm: function ($lists) {
            var $html = $($("#aks-follow-popover-wishlists-create-tpl").html()); this.ui.$createContainer = $html; this.ui.$createForm = $html.find("[data-create-form]"); this.ui.$createFormFields = $html.find("[data-create-form-fields]"); this.ui.$createLabel = $html.find("[data-create-label]"); if (this.state.showCreateForm) {
                $html.addClass("editing").find("[data-icon]").click(callbackize(this.toggleCreateForm.bind(this), false).preventDefault)
                this.ui.$createLabel.hide(); this.ui.$createFormFields.show(); this.ui.$createForm.submit(this.onCreateFormSubmit.bind(this)); if (this.state.formLoading) { $html.addClass("loading").removeClass("editing"); this.ui.$createForm.find("button, input").attr("disabled", true); }
                else { $html.removeClass("loading").addClass("editing"); }
            }
            else { $html.click(callbackize(this.toggleCreateForm.bind(this), true).preventDefault); this.ui.$createLabel.show(); this.ui.$createFormFields.hide(); }
            $lists.append($html); var that = this; var $name = that.ui.$createFormFields.find("input").val(this.nameInputValue).change(function () { that.nameInputValue = this.value; }); setTimeout(function () { $name.focus(); });
        }, toggleCreateForm: function (enabled) { this.setState({ showCreateForm: enabled, }); }, onCreateFormSubmit: function (e) { e.preventDefault(); var that = this; this.setState({ formLoading: true, }); __site.FollowPopover.WishlistUtility.createList(e.target.name.value).then(function (response) { var $html = $(response.html); var name = $html.find(".akswl-name").text(); var id = parseInt($html.data("id")); that.setState(function (state) { state.showCreateForm = false; state.lists.push({ id: id, name: name, description: "", type: "user_defined", public: true, games: [], }); return state; }); }).catch(function () { }).always(function () { that.nameInputValue = ""; that.setState({ formLoading: false, }); }); },
    }; if (__site.currentUser.id)
        window.__site.FollowPopover.registerModule("wishlist", Wishlists, 2);
});
jQuery(function ($) {
    function PriceAlert($container, button) { this.__proto__ = Object.assign({}, __site.FollowPopover.Component.prototype, this.__proto__); this.ui = { $container: $container, $form: null, $submit: null, $error: null, $success: null, choices: null, }; this.button = button; this.messageAnimationSpeed = 300; this.submit = this.submit.bind(this); this.onSubmitSuccess = this.onSubmitSuccess.bind(this); this.onSubmitError = this.onSubmitError.bind(this); this.onSubmitDone = this.onSubmitDone.bind(this); this.onEmailChange = this.onEmailChange.bind(this); }
    PriceAlert.prototype = {
        render: function () { var $html = $($("#aks-follow-popover-price-alert-tpl").html()); this.ui.$submit = $html.find("[data-submit]"); this.ui.$error = $html.find("[data-error]"); this.ui.$success = $html.find("[data-success]"); this.ui.$form = $html.find("[data-form]").submit(this.submit); var form = this.ui.$form[0]; form.priceThreshold.value = this.getSuggestedPriceThreshold(); $(form.email).on("input", this.onEmailChange); form.isFree.addEventListener('change', () => { if (form.isFree.checked) { form.priceThreshold.setAttribute('disabled', true); } else { form.priceThreshold.removeAttribute('disabled'); } }); this.ui.$container.empty().append($html); $html.find("[data-toggle='tooltip']").each(instantiateTooltip); this.buildMerchantsSelect(); }, buildMerchantsSelect: function () {
            var that = this; var select = this.ui.$form[0].merchantIds; $.getJSON(__site.themeUrl + "/assets/json/merchantsname.json", function (data) {
                select.innerHTML = ""; var ids = {}; for (var id in data) {
                    var name = data[id]; if (typeof ids[name] === "undefined")
                        ids[name] = []; ids[name].push(id);
                }
                var choiceList = []; for (var name in ids) { choiceList.push({ value: ids[name], label: name, }); }
                that.ui.choices = new Choices(select, { removeItemButton: true, duplicateItemsAllowed: true, maxItemCount: 10, choices: choiceList, });
            });
        }, onEmailChange: function (e) {
            var email = this.ui.$form.get(0).email.value; var $notice = this.ui.$form.find("[data-email-notice]"); if (__site.currentUser.email && email !== __site.currentUser.email)
                $notice.slideDown(); else
                $notice.slideUp();
        }, getSuggestedPriceThreshold: function () {
            var bestPrice = $("[itemprop='price']").attr("content"); if (!bestPrice)
                return null; var priceThreshold = bestPrice - bestPrice * 0.20; var roundValue; if (priceThreshold > 10)
                roundValue = 1; else if (priceThreshold > 1)
                roundValue = 0.5; else
                roundValue = 0.1; priceThreshold -= priceThreshold % roundValue; return priceThreshold;
        }, submit: function (e) { e.preventDefault(); var form = this.ui.$form.get(0); var rawMerchantIds = this.ui.choices.getValue(true); var merchantIds = []; rawMerchantIds.forEach(function (ids) { ids.forEach(function (id) { merchantIds.push(id); }); }); var data = { game_id: this.button.data.gameId, alert_price_threshold: form.isFree.checked ? 0.01 : parseFloat(form.priceThreshold.value), alert_stock_availability: 1, alert_email_address: $(form.email).val(), alert_auto_expiration: $(form.expiresIn).val(), alert_price_stability: $(form.priceStability).val(), alert_price_merchant_ids: merchantIds, price_currency: __site.currency, }; this.ui.$submit.attr("disabled", true).addClass("loading"); this.ui.$success.slideUp(this.messageAnimationSpeed); this.ui.$error.slideUp(this.messageAnimationSpeed); setTimeout(() => { $.post({ url: __site.themeUrl + "/price-toolbox/price-toolbox-alert.php", data: { data: JSON.stringify(data), } }).then(this.onSubmitSuccess).catch(this.onSubmitError).always(this.onSubmitDone); }, 1000); }, onSubmitSuccess: function (response) {
            if (response !== "0" && response !== "1")
                return this.onSubmitError(response); this.ui.$success.slideDown(this.messageAnimationSpeed);
        }, onSubmitError: function () { this.ui.$error.slideDown(this.messageAnimationSpeed); }, onSubmitDone: function () { this.ui.$submit.attr("disabled", false).removeClass("loading"); },
    }; window.__site.FollowPopover.registerModule("priceAlert", PriceAlert, 3);
});
jQuery(function ($) {
    function PriceGraph($container, button) { this.__proto__ = Object.assign({}, __site.FollowPopover.Component.prototype, this.__proto__); this.ui = { $container: $container, }; }
    PriceGraph.prototype = {
        render: function () { var $html = $($("#aks-follow-popover-price-graph-tpl").html()); this.ui.$container.empty().append($html); new __site.ProductPriceGraph($html.find("canvas")[0], { type: "line", data: { labels: [], datasets: [{ backgroundColor: "#67c1f5", borderColor: "#67c1f5", data: [], fill: false, lineTension: 0, }] }, options: { maintainAspectRatio: false, responsive: true, tooltips: { intersect: false, mode: "nearest", }, legend: { display: false, }, scales: { xAxes: [{ display: false, }], yAxes: [{ display: false, }], }, layout: { padding: { top: 5, right: 0, bottom: 5, left: 0, }, }, }, }); },
    }; window.__site.FollowPopover.registerModule("priceGraph", PriceGraph, 1);
});
jQuery(function ($) {
    function FollowButton($container) { this.ui = { $container: $container, $followBtn: $container.find("[data-follow-btn]"), $dataBtn: $container.find("[data-data-btn]"), $count: $container.find("[data-counter-count]"), $counterBtn: $container.find("[data-counter-btn]"), $counterLabel: $container.find("[data-counter-label]"), }; this.data = window["followBtn" + this.ui.$container.data("followContainer")]; this.popover = null; this.loadingStatus = "ready"; this.animationDuration = 400; this.toggleFollowing = this.toggleFollowing.bind(this); this.init(); }
    FollowButton.prototype = {
        init: function () { var callback = callbackize(this.toggleFollowing).preventDefault.bind(this); this.ui.$followBtn.click(callback); this.ui.$counterBtn.click(callback); this.ui.$dataBtn.click(this.togglePopover.bind(this)); this.render(); }, render: function () {
            if (this.data.isFollowing) { this.ui.$container.addClass("following"); }
            else { this.ui.$container.removeClass("following"); }
            this.ui.$count.text(__site.i18n.formatNumber(this.data.followCount)); if (this.loadingStatus === "loading") { this.ui.$followBtn.addClass("loading"); this.ui.$counterBtn.addClass("loading"); }
            else { this.ui.$followBtn.removeClass("loading"); this.ui.$counterBtn.removeClass("loading"); }
            if (this.popover) {
                if (!this.popover.mustReplacePopover) { this.popover.mustReplacePopover = true; var that = this; setTimeout(function () { that.popover.mustReplacePopover = false; }, this.animationDuration); }
                this.popover.renderModules();
            }
        }, togglePopover: function (e) {
            if (e)
                e.preventDefault(); if (this.popover)
                this.popover.destroy(); else { var that = this; this.popover = new window.__site.FollowPopover(this); this.popover.onDestroy.add(function () { that.popover = null; }); }
        }, toggleFollowing: function (isFollowing) {
            if (!__site.currentUser.id)
                return $("#login-modal").modal(); if (this.loadingStatus === "loading")
                return; if (isFollowing === undefined)
                return this.toggleFollowing(!this.data.isFollowing); this.saveFollowing(isFollowing);
        }, setLoadingStatus: function (status) { this.loadingStatus = status; this.render(); }, saveFollowing: function (isFollowing) {
            this.setLoadingStatus("loading"); var followingList = __site.FollowPopover.WishlistUtility.getFollowingList(followBtnTrans.lists); var that = this; __site.FollowPopover.WishlistUtility.toggleProduct(followingList.id, this.data.gameId, isFollowing).then(function (response) {
                that.data.isFollowing = isFollowing; that.data.followCount = response.followCount; if (isFollowing && !that.popover)
                    that.togglePopover();
            }).always(function () { that.setLoadingStatus("ready"); });
        },
    }; $("[data-follow-container]").each(function () { new FollowButton($(this)); });
});
/*!
 * Chart.js v2.8.0
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e(function () { try { return require("moment") } catch (t) { } }()) : "function" == typeof define && define.amd ? define(["require"], function (t) { return e(function () { try { return t("moment") } catch (t) { } }()) }) : t.Chart = e(t.moment) }(this, function (t) { "use strict"; t = t && t.hasOwnProperty("default") ? t.default : t; var e = { rgb2hsl: i, rgb2hsv: n, rgb2hwb: a, rgb2cmyk: o, rgb2keyword: s, rgb2xyz: l, rgb2lab: d, rgb2lch: function (t) { return x(d(t)) }, hsl2rgb: u, hsl2hsv: function (t) { var e = t[0], i = t[1] / 100, n = t[2] / 100; if (0 === n) return [0, 0, 0]; return [e, 100 * (2 * (i *= (n *= 2) <= 1 ? n : 2 - n) / (n + i)), 100 * ((n + i) / 2)] }, hsl2hwb: function (t) { return a(u(t)) }, hsl2cmyk: function (t) { return o(u(t)) }, hsl2keyword: function (t) { return s(u(t)) }, hsv2rgb: h, hsv2hsl: function (t) { var e, i, n = t[0], a = t[1] / 100, o = t[2] / 100; return e = a * o, [n, 100 * (e = (e /= (i = (2 - a) * o) <= 1 ? i : 2 - i) || 0), 100 * (i /= 2)] }, hsv2hwb: function (t) { return a(h(t)) }, hsv2cmyk: function (t) { return o(h(t)) }, hsv2keyword: function (t) { return s(h(t)) }, hwb2rgb: c, hwb2hsl: function (t) { return i(c(t)) }, hwb2hsv: function (t) { return n(c(t)) }, hwb2cmyk: function (t) { return o(c(t)) }, hwb2keyword: function (t) { return s(c(t)) }, cmyk2rgb: f, cmyk2hsl: function (t) { return i(f(t)) }, cmyk2hsv: function (t) { return n(f(t)) }, cmyk2hwb: function (t) { return a(f(t)) }, cmyk2keyword: function (t) { return s(f(t)) }, keyword2rgb: w, keyword2hsl: function (t) { return i(w(t)) }, keyword2hsv: function (t) { return n(w(t)) }, keyword2hwb: function (t) { return a(w(t)) }, keyword2cmyk: function (t) { return o(w(t)) }, keyword2lab: function (t) { return d(w(t)) }, keyword2xyz: function (t) { return l(w(t)) }, xyz2rgb: p, xyz2lab: m, xyz2lch: function (t) { return x(m(t)) }, lab2xyz: v, lab2rgb: y, lab2lch: x, lch2lab: k, lch2xyz: function (t) { return v(k(t)) }, lch2rgb: function (t) { return y(k(t)) } }; function i(t) { var e, i, n = t[0] / 255, a = t[1] / 255, o = t[2] / 255, r = Math.min(n, a, o), s = Math.max(n, a, o), l = s - r; return s == r ? e = 0 : n == s ? e = (a - o) / l : a == s ? e = 2 + (o - n) / l : o == s && (e = 4 + (n - a) / l), (e = Math.min(60 * e, 360)) < 0 && (e += 360), i = (r + s) / 2, [e, 100 * (s == r ? 0 : i <= .5 ? l / (s + r) : l / (2 - s - r)), 100 * i] } function n(t) { var e, i, n = t[0], a = t[1], o = t[2], r = Math.min(n, a, o), s = Math.max(n, a, o), l = s - r; return i = 0 == s ? 0 : l / s * 1e3 / 10, s == r ? e = 0 : n == s ? e = (a - o) / l : a == s ? e = 2 + (o - n) / l : o == s && (e = 4 + (n - a) / l), (e = Math.min(60 * e, 360)) < 0 && (e += 360), [e, i, s / 255 * 1e3 / 10] } function a(t) { var e = t[0], n = t[1], a = t[2]; return [i(t)[0], 100 * (1 / 255 * Math.min(e, Math.min(n, a))), 100 * (a = 1 - 1 / 255 * Math.max(e, Math.max(n, a)))] } function o(t) { var e, i = t[0] / 255, n = t[1] / 255, a = t[2] / 255; return [100 * ((1 - i - (e = Math.min(1 - i, 1 - n, 1 - a))) / (1 - e) || 0), 100 * ((1 - n - e) / (1 - e) || 0), 100 * ((1 - a - e) / (1 - e) || 0), 100 * e] } function s(t) { return _[JSON.stringify(t)] } function l(t) { var e = t[0] / 255, i = t[1] / 255, n = t[2] / 255; return [100 * (.4124 * (e = e > .04045 ? Math.pow((e + .055) / 1.055, 2.4) : e / 12.92) + .3576 * (i = i > .04045 ? Math.pow((i + .055) / 1.055, 2.4) : i / 12.92) + .1805 * (n = n > .04045 ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92)), 100 * (.2126 * e + .7152 * i + .0722 * n), 100 * (.0193 * e + .1192 * i + .9505 * n)] } function d(t) { var e = l(t), i = e[0], n = e[1], a = e[2]; return n /= 100, a /= 108.883, i = (i /= 95.047) > .008856 ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116, [116 * (n = n > .008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116) - 16, 500 * (i - n), 200 * (n - (a = a > .008856 ? Math.pow(a, 1 / 3) : 7.787 * a + 16 / 116))] } function u(t) { var e, i, n, a, o, r = t[0] / 360, s = t[1] / 100, l = t[2] / 100; if (0 == s) return [o = 255 * l, o, o]; e = 2 * l - (i = l < .5 ? l * (1 + s) : l + s - l * s), a = [0, 0, 0]; for (var d = 0; d < 3; d++)(n = r + 1 / 3 * -(d - 1)) < 0 && n++, n > 1 && n--, o = 6 * n < 1 ? e + 6 * (i - e) * n : 2 * n < 1 ? i : 3 * n < 2 ? e + (i - e) * (2 / 3 - n) * 6 : e, a[d] = 255 * o; return a } function h(t) { var e = t[0] / 60, i = t[1] / 100, n = t[2] / 100, a = Math.floor(e) % 6, o = e - Math.floor(e), r = 255 * n * (1 - i), s = 255 * n * (1 - i * o), l = 255 * n * (1 - i * (1 - o)); n *= 255; switch (a) { case 0: return [n, l, r]; case 1: return [s, n, r]; case 2: return [r, n, l]; case 3: return [r, s, n]; case 4: return [l, r, n]; case 5: return [n, r, s] } } function c(t) { var e, i, n, a, o = t[0] / 360, s = t[1] / 100, l = t[2] / 100, d = s + l; switch (d > 1 && (s /= d, l /= d), n = 6 * o - (e = Math.floor(6 * o)), 0 != (1 & e) && (n = 1 - n), a = s + n * ((i = 1 - l) - s), e) { default: case 6: case 0: r = i, g = a, b = s; break; case 1: r = a, g = i, b = s; break; case 2: r = s, g = i, b = a; break; case 3: r = s, g = a, b = i; break; case 4: r = a, g = s, b = i; break; case 5: r = i, g = s, b = a }return [255 * r, 255 * g, 255 * b] } function f(t) { var e = t[0] / 100, i = t[1] / 100, n = t[2] / 100, a = t[3] / 100; return [255 * (1 - Math.min(1, e * (1 - a) + a)), 255 * (1 - Math.min(1, i * (1 - a) + a)), 255 * (1 - Math.min(1, n * (1 - a) + a))] } function p(t) { var e, i, n, a = t[0] / 100, o = t[1] / 100, r = t[2] / 100; return i = -.9689 * a + 1.8758 * o + .0415 * r, n = .0557 * a + -.204 * o + 1.057 * r, e = (e = 3.2406 * a + -1.5372 * o + -.4986 * r) > .0031308 ? 1.055 * Math.pow(e, 1 / 2.4) - .055 : e *= 12.92, i = i > .0031308 ? 1.055 * Math.pow(i, 1 / 2.4) - .055 : i *= 12.92, n = n > .0031308 ? 1.055 * Math.pow(n, 1 / 2.4) - .055 : n *= 12.92, [255 * (e = Math.min(Math.max(0, e), 1)), 255 * (i = Math.min(Math.max(0, i), 1)), 255 * (n = Math.min(Math.max(0, n), 1))] } function m(t) { var e = t[0], i = t[1], n = t[2]; return i /= 100, n /= 108.883, e = (e /= 95.047) > .008856 ? Math.pow(e, 1 / 3) : 7.787 * e + 16 / 116, [116 * (i = i > .008856 ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116) - 16, 500 * (e - i), 200 * (i - (n = n > .008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116))] } function v(t) { var e, i, n, a, o = t[0], r = t[1], s = t[2]; return o <= 8 ? a = (i = 100 * o / 903.3) / 100 * 7.787 + 16 / 116 : (i = 100 * Math.pow((o + 16) / 116, 3), a = Math.pow(i / 100, 1 / 3)), [e = e / 95.047 <= .008856 ? e = 95.047 * (r / 500 + a - 16 / 116) / 7.787 : 95.047 * Math.pow(r / 500 + a, 3), i, n = n / 108.883 <= .008859 ? n = 108.883 * (a - s / 200 - 16 / 116) / 7.787 : 108.883 * Math.pow(a - s / 200, 3)] } function x(t) { var e, i = t[0], n = t[1], a = t[2]; return (e = 360 * Math.atan2(a, n) / 2 / Math.PI) < 0 && (e += 360), [i, Math.sqrt(n * n + a * a), e] } function y(t) { return p(v(t)) } function k(t) { var e, i = t[0], n = t[1]; return e = t[2] / 360 * 2 * Math.PI, [i, n * Math.cos(e), n * Math.sin(e)] } function w(t) { return M[t] } var M = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, _ = {}; for (var C in M) _[JSON.stringify(M[C])] = C; var S = function () { return new T }; for (var P in e) { S[P + "Raw"] = function (t) { return function (i) { return "number" == typeof i && (i = Array.prototype.slice.call(arguments)), e[t](i) } }(P); var I = /(\w+)2(\w+)/.exec(P), A = I[1], D = I[2]; (S[A] = S[A] || {})[D] = S[P] = function (t) { return function (i) { "number" == typeof i && (i = Array.prototype.slice.call(arguments)); var n = e[t](i); if ("string" == typeof n || void 0 === n) return n; for (var a = 0; a < n.length; a++)n[a] = Math.round(n[a]); return n } }(P) } var T = function () { this.convs = {} }; T.prototype.routeSpace = function (t, e) { var i = e[0]; return void 0 === i ? this.getValues(t) : ("number" == typeof i && (i = Array.prototype.slice.call(e)), this.setValues(t, i)) }, T.prototype.setValues = function (t, e) { return this.space = t, this.convs = {}, this.convs[t] = e, this }, T.prototype.getValues = function (t) { var e = this.convs[t]; if (!e) { var i = this.space, n = this.convs[i]; e = S[i][t](n), this.convs[t] = e } return e }, ["rgb", "hsl", "hsv", "cmyk", "keyword"].forEach(function (t) { T.prototype[t] = function (e) { return this.routeSpace(t, arguments) } }); var F = S, L = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, R = { getRgba: O, getHsla: z, getRgb: function (t) { var e = O(t); return e && e.slice(0, 3) }, getHsl: function (t) { var e = z(t); return e && e.slice(0, 3) }, getHwb: B, getAlpha: function (t) { var e = O(t); if (e) return e[3]; if (e = z(t)) return e[3]; if (e = B(t)) return e[3] }, hexString: function (t, e) { var e = void 0 !== e && 3 === t.length ? e : t[3]; return "#" + H(t[0]) + H(t[1]) + H(t[2]) + (e >= 0 && e < 1 ? H(Math.round(255 * e)) : "") }, rgbString: function (t, e) { if (e < 1 || t[3] && t[3] < 1) return N(t, e); return "rgb(" + t[0] + ", " + t[1] + ", " + t[2] + ")" }, rgbaString: N, percentString: function (t, e) { if (e < 1 || t[3] && t[3] < 1) return W(t, e); var i = Math.round(t[0] / 255 * 100), n = Math.round(t[1] / 255 * 100), a = Math.round(t[2] / 255 * 100); return "rgb(" + i + "%, " + n + "%, " + a + "%)" }, percentaString: W, hslString: function (t, e) { if (e < 1 || t[3] && t[3] < 1) return V(t, e); return "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)" }, hslaString: V, hwbString: function (t, e) { void 0 === e && (e = void 0 !== t[3] ? t[3] : 1); return "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + (void 0 !== e && 1 !== e ? ", " + e : "") + ")" }, keyword: function (t) { return j[t.slice(0, 3)] } }; function O(t) { if (t) { var e = [0, 0, 0], i = 1, n = t.match(/^#([a-fA-F0-9]{3,4})$/i), a = ""; if (n) { a = (n = n[1])[3]; for (var o = 0; o < e.length; o++)e[o] = parseInt(n[o] + n[o], 16); a && (i = Math.round(parseInt(a + a, 16) / 255 * 100) / 100) } else if (n = t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)) { a = n[2], n = n[1]; for (o = 0; o < e.length; o++)e[o] = parseInt(n.slice(2 * o, 2 * o + 2), 16); a && (i = Math.round(parseInt(a, 16) / 255 * 100) / 100) } else if (n = t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) { for (o = 0; o < e.length; o++)e[o] = parseInt(n[o + 1]); i = parseFloat(n[4]) } else if (n = t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) { for (o = 0; o < e.length; o++)e[o] = Math.round(2.55 * parseFloat(n[o + 1])); i = parseFloat(n[4]) } else if (n = t.match(/(\w+)/)) { if ("transparent" == n[1]) return [0, 0, 0, 0]; if (!(e = L[n[1]])) return } for (o = 0; o < e.length; o++)e[o] = E(e[o], 0, 255); return i = i || 0 == i ? E(i, 0, 1) : 1, e[3] = i, e } } function z(t) { if (t) { var e = t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/); if (e) { var i = parseFloat(e[4]); return [E(parseInt(e[1]), 0, 360), E(parseFloat(e[2]), 0, 100), E(parseFloat(e[3]), 0, 100), E(isNaN(i) ? 1 : i, 0, 1)] } } } function B(t) { if (t) { var e = t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/); if (e) { var i = parseFloat(e[4]); return [E(parseInt(e[1]), 0, 360), E(parseFloat(e[2]), 0, 100), E(parseFloat(e[3]), 0, 100), E(isNaN(i) ? 1 : i, 0, 1)] } } } function N(t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "rgba(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + e + ")" } function W(t, e) { return "rgba(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%, " + (e || t[3] || 1) + ")" } function V(t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + e + ")" } function E(t, e, i) { return Math.min(Math.max(e, t), i) } function H(t) { var e = t.toString(16).toUpperCase(); return e.length < 2 ? "0" + e : e } var j = {}; for (var q in L) j[L[q]] = q; var Y = function (t) { return t instanceof Y ? t : this instanceof Y ? (this.valid = !1, this.values = { rgb: [0, 0, 0], hsl: [0, 0, 0], hsv: [0, 0, 0], hwb: [0, 0, 0], cmyk: [0, 0, 0, 0], alpha: 1 }, void ("string" == typeof t ? (e = R.getRgba(t)) ? this.setValues("rgb", e) : (e = R.getHsla(t)) ? this.setValues("hsl", e) : (e = R.getHwb(t)) && this.setValues("hwb", e) : "object" == typeof t && (void 0 !== (e = t).r || void 0 !== e.red ? this.setValues("rgb", e) : void 0 !== e.l || void 0 !== e.lightness ? this.setValues("hsl", e) : void 0 !== e.v || void 0 !== e.value ? this.setValues("hsv", e) : void 0 !== e.w || void 0 !== e.whiteness ? this.setValues("hwb", e) : void 0 === e.c && void 0 === e.cyan || this.setValues("cmyk", e)))) : new Y(t); var e }; Y.prototype = { isValid: function () { return this.valid }, rgb: function () { return this.setSpace("rgb", arguments) }, hsl: function () { return this.setSpace("hsl", arguments) }, hsv: function () { return this.setSpace("hsv", arguments) }, hwb: function () { return this.setSpace("hwb", arguments) }, cmyk: function () { return this.setSpace("cmyk", arguments) }, rgbArray: function () { return this.values.rgb }, hslArray: function () { return this.values.hsl }, hsvArray: function () { return this.values.hsv }, hwbArray: function () { var t = this.values; return 1 !== t.alpha ? t.hwb.concat([t.alpha]) : t.hwb }, cmykArray: function () { return this.values.cmyk }, rgbaArray: function () { var t = this.values; return t.rgb.concat([t.alpha]) }, hslaArray: function () { var t = this.values; return t.hsl.concat([t.alpha]) }, alpha: function (t) { return void 0 === t ? this.values.alpha : (this.setValues("alpha", t), this) }, red: function (t) { return this.setChannel("rgb", 0, t) }, green: function (t) { return this.setChannel("rgb", 1, t) }, blue: function (t) { return this.setChannel("rgb", 2, t) }, hue: function (t) { return t && (t = (t %= 360) < 0 ? 360 + t : t), this.setChannel("hsl", 0, t) }, saturation: function (t) { return this.setChannel("hsl", 1, t) }, lightness: function (t) { return this.setChannel("hsl", 2, t) }, saturationv: function (t) { return this.setChannel("hsv", 1, t) }, whiteness: function (t) { return this.setChannel("hwb", 1, t) }, blackness: function (t) { return this.setChannel("hwb", 2, t) }, value: function (t) { return this.setChannel("hsv", 2, t) }, cyan: function (t) { return this.setChannel("cmyk", 0, t) }, magenta: function (t) { return this.setChannel("cmyk", 1, t) }, yellow: function (t) { return this.setChannel("cmyk", 2, t) }, black: function (t) { return this.setChannel("cmyk", 3, t) }, hexString: function () { return R.hexString(this.values.rgb) }, rgbString: function () { return R.rgbString(this.values.rgb, this.values.alpha) }, rgbaString: function () { return R.rgbaString(this.values.rgb, this.values.alpha) }, percentString: function () { return R.percentString(this.values.rgb, this.values.alpha) }, hslString: function () { return R.hslString(this.values.hsl, this.values.alpha) }, hslaString: function () { return R.hslaString(this.values.hsl, this.values.alpha) }, hwbString: function () { return R.hwbString(this.values.hwb, this.values.alpha) }, keyword: function () { return R.keyword(this.values.rgb, this.values.alpha) }, rgbNumber: function () { var t = this.values.rgb; return t[0] << 16 | t[1] << 8 | t[2] }, luminosity: function () { for (var t = this.values.rgb, e = [], i = 0; i < t.length; i++) { var n = t[i] / 255; e[i] = n <= .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4) } return .2126 * e[0] + .7152 * e[1] + .0722 * e[2] }, contrast: function (t) { var e = this.luminosity(), i = t.luminosity(); return e > i ? (e + .05) / (i + .05) : (i + .05) / (e + .05) }, level: function (t) { var e = this.contrast(t); return e >= 7.1 ? "AAA" : e >= 4.5 ? "AA" : "" }, dark: function () { var t = this.values.rgb; return (299 * t[0] + 587 * t[1] + 114 * t[2]) / 1e3 < 128 }, light: function () { return !this.dark() }, negate: function () { for (var t = [], e = 0; e < 3; e++)t[e] = 255 - this.values.rgb[e]; return this.setValues("rgb", t), this }, lighten: function (t) { var e = this.values.hsl; return e[2] += e[2] * t, this.setValues("hsl", e), this }, darken: function (t) { var e = this.values.hsl; return e[2] -= e[2] * t, this.setValues("hsl", e), this }, saturate: function (t) { var e = this.values.hsl; return e[1] += e[1] * t, this.setValues("hsl", e), this }, desaturate: function (t) { var e = this.values.hsl; return e[1] -= e[1] * t, this.setValues("hsl", e), this }, whiten: function (t) { var e = this.values.hwb; return e[1] += e[1] * t, this.setValues("hwb", e), this }, blacken: function (t) { var e = this.values.hwb; return e[2] += e[2] * t, this.setValues("hwb", e), this }, greyscale: function () { var t = this.values.rgb, e = .3 * t[0] + .59 * t[1] + .11 * t[2]; return this.setValues("rgb", [e, e, e]), this }, clearer: function (t) { var e = this.values.alpha; return this.setValues("alpha", e - e * t), this }, opaquer: function (t) { var e = this.values.alpha; return this.setValues("alpha", e + e * t), this }, rotate: function (t) { var e = this.values.hsl, i = (e[0] + t) % 360; return e[0] = i < 0 ? 360 + i : i, this.setValues("hsl", e), this }, mix: function (t, e) { var i = t, n = void 0 === e ? .5 : e, a = 2 * n - 1, o = this.alpha() - i.alpha(), r = ((a * o == -1 ? a : (a + o) / (1 + a * o)) + 1) / 2, s = 1 - r; return this.rgb(r * this.red() + s * i.red(), r * this.green() + s * i.green(), r * this.blue() + s * i.blue()).alpha(this.alpha() * n + i.alpha() * (1 - n)) }, toJSON: function () { return this.rgb() }, clone: function () { var t, e, i = new Y, n = this.values, a = i.values; for (var o in n) n.hasOwnProperty(o) && (t = n[o], "[object Array]" === (e = {}.toString.call(t)) ? a[o] = t.slice(0) : "[object Number]" === e ? a[o] = t : console.error("unexpected color value:", t)); return i } }, Y.prototype.spaces = { rgb: ["red", "green", "blue"], hsl: ["hue", "saturation", "lightness"], hsv: ["hue", "saturation", "value"], hwb: ["hue", "whiteness", "blackness"], cmyk: ["cyan", "magenta", "yellow", "black"] }, Y.prototype.maxes = { rgb: [255, 255, 255], hsl: [360, 100, 100], hsv: [360, 100, 100], hwb: [360, 100, 100], cmyk: [100, 100, 100, 100] }, Y.prototype.getValues = function (t) { for (var e = this.values, i = {}, n = 0; n < t.length; n++)i[t.charAt(n)] = e[t][n]; return 1 !== e.alpha && (i.a = e.alpha), i }, Y.prototype.setValues = function (t, e) { var i, n, a = this.values, o = this.spaces, r = this.maxes, s = 1; if (this.valid = !0, "alpha" === t) s = e; else if (e.length) a[t] = e.slice(0, t.length), s = e[t.length]; else if (void 0 !== e[t.charAt(0)]) { for (i = 0; i < t.length; i++)a[t][i] = e[t.charAt(i)]; s = e.a } else if (void 0 !== e[o[t][0]]) { var l = o[t]; for (i = 0; i < t.length; i++)a[t][i] = e[l[i]]; s = e.alpha } if (a.alpha = Math.max(0, Math.min(1, void 0 === s ? a.alpha : s)), "alpha" === t) return !1; for (i = 0; i < t.length; i++)n = Math.max(0, Math.min(r[t][i], a[t][i])), a[t][i] = Math.round(n); for (var d in o) d !== t && (a[d] = F[t][d](a[t])); return !0 }, Y.prototype.setSpace = function (t, e) { var i = e[0]; return void 0 === i ? this.getValues(t) : ("number" == typeof i && (i = Array.prototype.slice.call(e)), this.setValues(t, i), this) }, Y.prototype.setChannel = function (t, e, i) { var n = this.values[t]; return void 0 === i ? n[e] : i === n[e] ? this : (n[e] = i, this.setValues(t, n), this) }, "undefined" != typeof window && (window.Color = Y); var U, X = Y, K = { noop: function () { }, uid: (U = 0, function () { return U++ }), isNullOrUndef: function (t) { return null == t }, isArray: function (t) { if (Array.isArray && Array.isArray(t)) return !0; var e = Object.prototype.toString.call(t); return "[object" === e.substr(0, 7) && "Array]" === e.substr(-6) }, isObject: function (t) { return null !== t && "[object Object]" === Object.prototype.toString.call(t) }, isFinite: function (t) { return ("number" == typeof t || t instanceof Number) && isFinite(t) }, valueOrDefault: function (t, e) { return void 0 === t ? e : t }, valueAtIndexOrDefault: function (t, e, i) { return K.valueOrDefault(K.isArray(t) ? t[e] : t, i) }, callback: function (t, e, i) { if (t && "function" == typeof t.call) return t.apply(i, e) }, each: function (t, e, i, n) { var a, o, r; if (K.isArray(t)) if (o = t.length, n) for (a = o - 1; a >= 0; a--)e.call(i, t[a], a); else for (a = 0; a < o; a++)e.call(i, t[a], a); else if (K.isObject(t)) for (o = (r = Object.keys(t)).length, a = 0; a < o; a++)e.call(i, t[r[a]], r[a]) }, arrayEquals: function (t, e) { var i, n, a, o; if (!t || !e || t.length !== e.length) return !1; for (i = 0, n = t.length; i < n; ++i)if (a = t[i], o = e[i], a instanceof Array && o instanceof Array) { if (!K.arrayEquals(a, o)) return !1 } else if (a !== o) return !1; return !0 }, clone: function (t) { if (K.isArray(t)) return t.map(K.clone); if (K.isObject(t)) { for (var e = {}, i = Object.keys(t), n = i.length, a = 0; a < n; ++a)e[i[a]] = K.clone(t[i[a]]); return e } return t }, _merger: function (t, e, i, n) { var a = e[t], o = i[t]; K.isObject(a) && K.isObject(o) ? K.merge(a, o, n) : e[t] = K.clone(o) }, _mergerIf: function (t, e, i) { var n = e[t], a = i[t]; K.isObject(n) && K.isObject(a) ? K.mergeIf(n, a) : e.hasOwnProperty(t) || (e[t] = K.clone(a)) }, merge: function (t, e, i) { var n, a, o, r, s, l = K.isArray(e) ? e : [e], d = l.length; if (!K.isObject(t)) return t; for (n = (i = i || {}).merger || K._merger, a = 0; a < d; ++a)if (e = l[a], K.isObject(e)) for (s = 0, r = (o = Object.keys(e)).length; s < r; ++s)n(o[s], t, e, i); return t }, mergeIf: function (t, e) { return K.merge(t, e, { merger: K._mergerIf }) }, extend: function (t) { for (var e = function (e, i) { t[i] = e }, i = 1, n = arguments.length; i < n; ++i)K.each(arguments[i], e); return t }, inherits: function (t) { var e = this, i = t && t.hasOwnProperty("constructor") ? t.constructor : function () { return e.apply(this, arguments) }, n = function () { this.constructor = i }; return n.prototype = e.prototype, i.prototype = new n, i.extend = K.inherits, t && K.extend(i.prototype, t), i.__super__ = e.prototype, i } }, G = K; K.callCallback = K.callback, K.indexOf = function (t, e, i) { return Array.prototype.indexOf.call(t, e, i) }, K.getValueOrDefault = K.valueOrDefault, K.getValueAtIndexOrDefault = K.valueAtIndexOrDefault; var Z = { linear: function (t) { return t }, easeInQuad: function (t) { return t * t }, easeOutQuad: function (t) { return -t * (t - 2) }, easeInOutQuad: function (t) { return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1) }, easeInCubic: function (t) { return t * t * t }, easeOutCubic: function (t) { return (t -= 1) * t * t + 1 }, easeInOutCubic: function (t) { return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2) }, easeInQuart: function (t) { return t * t * t * t }, easeOutQuart: function (t) { return -((t -= 1) * t * t * t - 1) }, easeInOutQuart: function (t) { return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2) }, easeInQuint: function (t) { return t * t * t * t * t }, easeOutQuint: function (t) { return (t -= 1) * t * t * t * t + 1 }, easeInOutQuint: function (t) { return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2) }, easeInSine: function (t) { return 1 - Math.cos(t * (Math.PI / 2)) }, easeOutSine: function (t) { return Math.sin(t * (Math.PI / 2)) }, easeInOutSine: function (t) { return -.5 * (Math.cos(Math.PI * t) - 1) }, easeInExpo: function (t) { return 0 === t ? 0 : Math.pow(2, 10 * (t - 1)) }, easeOutExpo: function (t) { return 1 === t ? 1 : 1 - Math.pow(2, -10 * t) }, easeInOutExpo: function (t) { return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t)) }, easeInCirc: function (t) { return t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1) }, easeOutCirc: function (t) { return Math.sqrt(1 - (t -= 1) * t) }, easeInOutCirc: function (t) { return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) }, easeInElastic: function (t) { var e = 1.70158, i = 0, n = 1; return 0 === t ? 0 : 1 === t ? 1 : (i || (i = .3), n < 1 ? (n = 1, e = i / 4) : e = i / (2 * Math.PI) * Math.asin(1 / n), -n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i)) }, easeOutElastic: function (t) { var e = 1.70158, i = 0, n = 1; return 0 === t ? 0 : 1 === t ? 1 : (i || (i = .3), n < 1 ? (n = 1, e = i / 4) : e = i / (2 * Math.PI) * Math.asin(1 / n), n * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / i) + 1) }, easeInOutElastic: function (t) { var e = 1.70158, i = 0, n = 1; return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (i || (i = .45), n < 1 ? (n = 1, e = i / 4) : e = i / (2 * Math.PI) * Math.asin(1 / n), t < 1 ? n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i) * -.5 : n * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / i) * .5 + 1) }, easeInBack: function (t) { var e = 1.70158; return t * t * ((e + 1) * t - e) }, easeOutBack: function (t) { var e = 1.70158; return (t -= 1) * t * ((e + 1) * t + e) + 1 }, easeInOutBack: function (t) { var e = 1.70158; return (t /= .5) < 1 ? t * t * ((1 + (e *= 1.525)) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + (e *= 1.525)) * t + e) + 2) }, easeInBounce: function (t) { return 1 - Z.easeOutBounce(1 - t) }, easeOutBounce: function (t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }, easeInOutBounce: function (t) { return t < .5 ? .5 * Z.easeInBounce(2 * t) : .5 * Z.easeOutBounce(2 * t - 1) + .5 } }, $ = { effects: Z }; G.easingEffects = Z; var J = Math.PI, Q = J / 180, tt = 2 * J, et = J / 2, it = J / 4, nt = 2 * J / 3, at = { clear: function (t) { t.ctx.clearRect(0, 0, t.width, t.height) }, roundedRect: function (t, e, i, n, a, o) { if (o) { var r = Math.min(o, a / 2, n / 2), s = e + r, l = i + r, d = e + n - r, u = i + a - r; t.moveTo(e, l), s < d && l < u ? (t.arc(s, l, r, -J, -et), t.arc(d, l, r, -et, 0), t.arc(d, u, r, 0, et), t.arc(s, u, r, et, J)) : s < d ? (t.moveTo(s, i), t.arc(d, l, r, -et, et), t.arc(s, l, r, et, J + et)) : l < u ? (t.arc(s, l, r, -J, 0), t.arc(s, u, r, 0, J)) : t.arc(s, l, r, -J, J), t.closePath(), t.moveTo(e, i) } else t.rect(e, i, n, a) }, drawPoint: function (t, e, i, n, a, o) { var r, s, l, d, u, h = (o || 0) * Q; if (!e || "object" != typeof e || "[object HTMLImageElement]" !== (r = e.toString()) && "[object HTMLCanvasElement]" !== r) { if (!(isNaN(i) || i <= 0)) { switch (t.beginPath(), e) { default: t.arc(n, a, i, 0, tt), t.closePath(); break; case "triangle": t.moveTo(n + Math.sin(h) * i, a - Math.cos(h) * i), h += nt, t.lineTo(n + Math.sin(h) * i, a - Math.cos(h) * i), h += nt, t.lineTo(n + Math.sin(h) * i, a - Math.cos(h) * i), t.closePath(); break; case "rectRounded": d = i - (u = .516 * i), s = Math.cos(h + it) * d, l = Math.sin(h + it) * d, t.arc(n - s, a - l, u, h - J, h - et), t.arc(n + l, a - s, u, h - et, h), t.arc(n + s, a + l, u, h, h + et), t.arc(n - l, a + s, u, h + et, h + J), t.closePath(); break; case "rect": if (!o) { d = Math.SQRT1_2 * i, t.rect(n - d, a - d, 2 * d, 2 * d); break } h += it; case "rectRot": s = Math.cos(h) * i, l = Math.sin(h) * i, t.moveTo(n - s, a - l), t.lineTo(n + l, a - s), t.lineTo(n + s, a + l), t.lineTo(n - l, a + s), t.closePath(); break; case "crossRot": h += it; case "cross": s = Math.cos(h) * i, l = Math.sin(h) * i, t.moveTo(n - s, a - l), t.lineTo(n + s, a + l), t.moveTo(n + l, a - s), t.lineTo(n - l, a + s); break; case "star": s = Math.cos(h) * i, l = Math.sin(h) * i, t.moveTo(n - s, a - l), t.lineTo(n + s, a + l), t.moveTo(n + l, a - s), t.lineTo(n - l, a + s), h += it, s = Math.cos(h) * i, l = Math.sin(h) * i, t.moveTo(n - s, a - l), t.lineTo(n + s, a + l), t.moveTo(n + l, a - s), t.lineTo(n - l, a + s); break; case "line": s = Math.cos(h) * i, l = Math.sin(h) * i, t.moveTo(n - s, a - l), t.lineTo(n + s, a + l); break; case "dash": t.moveTo(n, a), t.lineTo(n + Math.cos(h) * i, a + Math.sin(h) * i) }t.fill(), t.stroke() } } else t.drawImage(e, n - e.width / 2, a - e.height / 2, e.width, e.height) }, _isPointInArea: function (t, e) { return t.x > e.left - 1e-6 && t.x < e.right + 1e-6 && t.y > e.top - 1e-6 && t.y < e.bottom + 1e-6 }, clipArea: function (t, e) { t.save(), t.beginPath(), t.rect(e.left, e.top, e.right - e.left, e.bottom - e.top), t.clip() }, unclipArea: function (t) { t.restore() }, lineTo: function (t, e, i, n) { var a = i.steppedLine; if (a) { if ("middle" === a) { var o = (e.x + i.x) / 2; t.lineTo(o, n ? i.y : e.y), t.lineTo(o, n ? e.y : i.y) } else "after" === a && !n || "after" !== a && n ? t.lineTo(e.x, i.y) : t.lineTo(i.x, e.y); t.lineTo(i.x, i.y) } else i.tension ? t.bezierCurveTo(n ? e.controlPointPreviousX : e.controlPointNextX, n ? e.controlPointPreviousY : e.controlPointNextY, n ? i.controlPointNextX : i.controlPointPreviousX, n ? i.controlPointNextY : i.controlPointPreviousY, i.x, i.y) : t.lineTo(i.x, i.y) } }, ot = at; G.clear = at.clear, G.drawRoundedRectangle = function (t) { t.beginPath(), at.roundedRect.apply(at, arguments) }; var rt = { _set: function (t, e) { return G.merge(this[t] || (this[t] = {}), e) } }; rt._set("global", { defaultColor: "rgba(0,0,0,0.1)", defaultFontColor: "#666", defaultFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", defaultFontSize: 12, defaultFontStyle: "normal", defaultLineHeight: 1.2, showLines: !0 }); var st = rt, lt = G.valueOrDefault; var dt = { toLineHeight: function (t, e) { var i = ("" + t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/); if (!i || "normal" === i[1]) return 1.2 * e; switch (t = +i[2], i[3]) { case "px": return t; case "%": t /= 100 }return e * t }, toPadding: function (t) { var e, i, n, a; return G.isObject(t) ? (e = +t.top || 0, i = +t.right || 0, n = +t.bottom || 0, a = +t.left || 0) : e = i = n = a = +t || 0, { top: e, right: i, bottom: n, left: a, height: e + n, width: a + i } }, _parseFont: function (t) { var e = st.global, i = lt(t.fontSize, e.defaultFontSize), n = { family: lt(t.fontFamily, e.defaultFontFamily), lineHeight: G.options.toLineHeight(lt(t.lineHeight, e.defaultLineHeight), i), size: i, style: lt(t.fontStyle, e.defaultFontStyle), weight: null, string: "" }; return n.string = function (t) { return !t || G.isNullOrUndef(t.size) || G.isNullOrUndef(t.family) ? null : (t.style ? t.style + " " : "") + (t.weight ? t.weight + " " : "") + t.size + "px " + t.family }(n), n }, resolve: function (t, e, i) { var n, a, o; for (n = 0, a = t.length; n < a; ++n)if (void 0 !== (o = t[n]) && (void 0 !== e && "function" == typeof o && (o = o(e)), void 0 !== i && G.isArray(o) && (o = o[i]), void 0 !== o)) return o } }, ut = G, ht = $, ct = ot, ft = dt; ut.easing = ht, ut.canvas = ct, ut.options = ft; var gt = function (t) { ut.extend(this, t), this.initialize.apply(this, arguments) }; ut.extend(gt.prototype, { initialize: function () { this.hidden = !1 }, pivot: function () { var t = this; return t._view || (t._view = ut.clone(t._model)), t._start = {}, t }, transition: function (t) { var e = this, i = e._model, n = e._start, a = e._view; return i && 1 !== t ? (a || (a = e._view = {}), n || (n = e._start = {}), function (t, e, i, n) { var a, o, r, s, l, d, u, h, c, f = Object.keys(i); for (a = 0, o = f.length; a < o; ++a)if (d = i[r = f[a]], e.hasOwnProperty(r) || (e[r] = d), (s = e[r]) !== d && "_" !== r[0]) { if (t.hasOwnProperty(r) || (t[r] = s), (u = typeof d) == typeof (l = t[r])) if ("string" === u) { if ((h = X(l)).valid && (c = X(d)).valid) { e[r] = c.mix(h, n).rgbString(); continue } } else if (ut.isFinite(l) && ut.isFinite(d)) { e[r] = l + (d - l) * n; continue } e[r] = d } }(n, a, i, t), e) : (e._view = i, e._start = null, e) }, tooltipPosition: function () { return { x: this._model.x, y: this._model.y } }, hasValue: function () { return ut.isNumber(this._model.x) && ut.isNumber(this._model.y) } }), gt.extend = ut.inherits; var pt = gt, mt = pt.extend({ chart: null, currentStep: 0, numSteps: 60, easing: "", render: null, onAnimationProgress: null, onAnimationComplete: null }), vt = mt; Object.defineProperty(mt.prototype, "animationObject", { get: function () { return this } }), Object.defineProperty(mt.prototype, "chartInstance", { get: function () { return this.chart }, set: function (t) { this.chart = t } }), st._set("global", { animation: { duration: 1e3, easing: "easeOutQuart", onProgress: ut.noop, onComplete: ut.noop } }); var bt = { animations: [], request: null, addAnimation: function (t, e, i, n) { var a, o, r = this.animations; for (e.chart = t, e.startTime = Date.now(), e.duration = i, n || (t.animating = !0), a = 0, o = r.length; a < o; ++a)if (r[a].chart === t) return void (r[a] = e); r.push(e), 1 === r.length && this.requestAnimationFrame() }, cancelAnimation: function (t) { var e = ut.findIndex(this.animations, function (e) { return e.chart === t }); -1 !== e && (this.animations.splice(e, 1), t.animating = !1) }, requestAnimationFrame: function () { var t = this; null === t.request && (t.request = ut.requestAnimFrame.call(window, function () { t.request = null, t.startDigest() })) }, startDigest: function () { this.advance(), this.animations.length > 0 && this.requestAnimationFrame() }, advance: function () { for (var t, e, i, n, a = this.animations, o = 0; o < a.length;)e = (t = a[o]).chart, i = t.numSteps, n = Math.floor((Date.now() - t.startTime) / t.duration * i) + 1, t.currentStep = Math.min(n, i), ut.callback(t.render, [e, t], e), ut.callback(t.onAnimationProgress, [t], e), t.currentStep >= i ? (ut.callback(t.onAnimationComplete, [t], e), e.animating = !1, a.splice(o, 1)) : ++o } }, xt = ut.options.resolve, yt = ["push", "pop", "shift", "splice", "unshift"]; function kt(t, e) { var i = t._chartjs; if (i) { var n = i.listeners, a = n.indexOf(e); -1 !== a && n.splice(a, 1), n.length > 0 || (yt.forEach(function (e) { delete t[e] }), delete t._chartjs) } } var wt = function (t, e) { this.initialize(t, e) }; ut.extend(wt.prototype, { datasetElementType: null, dataElementType: null, initialize: function (t, e) { this.chart = t, this.index = e, this.linkScales(), this.addElements() }, updateIndex: function (t) { this.index = t }, linkScales: function () { var t = this, e = t.getMeta(), i = t.getDataset(); null !== e.xAxisID && e.xAxisID in t.chart.scales || (e.xAxisID = i.xAxisID || t.chart.options.scales.xAxes[0].id), null !== e.yAxisID && e.yAxisID in t.chart.scales || (e.yAxisID = i.yAxisID || t.chart.options.scales.yAxes[0].id) }, getDataset: function () { return this.chart.data.datasets[this.index] }, getMeta: function () { return this.chart.getDatasetMeta(this.index) }, getScaleForId: function (t) { return this.chart.scales[t] }, _getValueScaleId: function () { return this.getMeta().yAxisID }, _getIndexScaleId: function () { return this.getMeta().xAxisID }, _getValueScale: function () { return this.getScaleForId(this._getValueScaleId()) }, _getIndexScale: function () { return this.getScaleForId(this._getIndexScaleId()) }, reset: function () { this.update(!0) }, destroy: function () { this._data && kt(this._data, this) }, createMetaDataset: function () { var t = this.datasetElementType; return t && new t({ _chart: this.chart, _datasetIndex: this.index }) }, createMetaData: function (t) { var e = this.dataElementType; return e && new e({ _chart: this.chart, _datasetIndex: this.index, _index: t }) }, addElements: function () { var t, e, i = this.getMeta(), n = this.getDataset().data || [], a = i.data; for (t = 0, e = n.length; t < e; ++t)a[t] = a[t] || this.createMetaData(t); i.dataset = i.dataset || this.createMetaDataset() }, addElementAndReset: function (t) { var e = this.createMetaData(t); this.getMeta().data.splice(t, 0, e), this.updateElement(e, t, !0) }, buildOrUpdateElements: function () { var t, e, i = this, n = i.getDataset(), a = n.data || (n.data = []); i._data !== a && (i._data && kt(i._data, i), a && Object.isExtensible(a) && (e = i, (t = a)._chartjs ? t._chartjs.listeners.push(e) : (Object.defineProperty(t, "_chartjs", { configurable: !0, enumerable: !1, value: { listeners: [e] } }), yt.forEach(function (e) { var i = "onData" + e.charAt(0).toUpperCase() + e.slice(1), n = t[e]; Object.defineProperty(t, e, { configurable: !0, enumerable: !1, value: function () { var e = Array.prototype.slice.call(arguments), a = n.apply(this, e); return ut.each(t._chartjs.listeners, function (t) { "function" == typeof t[i] && t[i].apply(t, e) }), a } }) }))), i._data = a), i.resyncElements() }, update: ut.noop, transition: function (t) { for (var e = this.getMeta(), i = e.data || [], n = i.length, a = 0; a < n; ++a)i[a].transition(t); e.dataset && e.dataset.transition(t) }, draw: function () { var t = this.getMeta(), e = t.data || [], i = e.length, n = 0; for (t.dataset && t.dataset.draw(); n < i; ++n)e[n].draw() }, removeHoverStyle: function (t) { ut.merge(t._model, t.$previousStyle || {}), delete t.$previousStyle }, setHoverStyle: function (t) { var e = this.chart.data.datasets[t._datasetIndex], i = t._index, n = t.custom || {}, a = t._model, o = ut.getHoverColor; t.$previousStyle = { backgroundColor: a.backgroundColor, borderColor: a.borderColor, borderWidth: a.borderWidth }, a.backgroundColor = xt([n.hoverBackgroundColor, e.hoverBackgroundColor, o(a.backgroundColor)], void 0, i), a.borderColor = xt([n.hoverBorderColor, e.hoverBorderColor, o(a.borderColor)], void 0, i), a.borderWidth = xt([n.hoverBorderWidth, e.hoverBorderWidth, a.borderWidth], void 0, i) }, resyncElements: function () { var t = this.getMeta(), e = this.getDataset().data, i = t.data.length, n = e.length; n < i ? t.data.splice(n, i - n) : n > i && this.insertElements(i, n - i) }, insertElements: function (t, e) { for (var i = 0; i < e; ++i)this.addElementAndReset(t + i) }, onDataPush: function () { var t = arguments.length; this.insertElements(this.getDataset().data.length - t, t) }, onDataPop: function () { this.getMeta().data.pop() }, onDataShift: function () { this.getMeta().data.shift() }, onDataSplice: function (t, e) { this.getMeta().data.splice(t, e), this.insertElements(t, arguments.length - 2) }, onDataUnshift: function () { this.insertElements(0, arguments.length) } }), wt.extend = ut.inherits; var Mt = wt; st._set("global", { elements: { arc: { backgroundColor: st.global.defaultColor, borderColor: "#fff", borderWidth: 2, borderAlign: "center" } } }); var _t = pt.extend({ inLabelRange: function (t) { var e = this._view; return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hoverRadius, 2) }, inRange: function (t, e) { var i = this._view; if (i) { for (var n = ut.getAngleFromPoint(i, { x: t, y: e }), a = n.angle, o = n.distance, r = i.startAngle, s = i.endAngle; s < r;)s += 2 * Math.PI; for (; a > s;)a -= 2 * Math.PI; for (; a < r;)a += 2 * Math.PI; var l = a >= r && a <= s, d = o >= i.innerRadius && o <= i.outerRadius; return l && d } return !1 }, getCenterPoint: function () { var t = this._view, e = (t.startAngle + t.endAngle) / 2, i = (t.innerRadius + t.outerRadius) / 2; return { x: t.x + Math.cos(e) * i, y: t.y + Math.sin(e) * i } }, getArea: function () { var t = this._view; return Math.PI * ((t.endAngle - t.startAngle) / (2 * Math.PI)) * (Math.pow(t.outerRadius, 2) - Math.pow(t.innerRadius, 2)) }, tooltipPosition: function () { var t = this._view, e = t.startAngle + (t.endAngle - t.startAngle) / 2, i = (t.outerRadius - t.innerRadius) / 2 + t.innerRadius; return { x: t.x + Math.cos(e) * i, y: t.y + Math.sin(e) * i } }, draw: function () { var t, e = this._chart.ctx, i = this._view, n = i.startAngle, a = i.endAngle, o = "inner" === i.borderAlign ? .33 : 0; e.save(), e.beginPath(), e.arc(i.x, i.y, Math.max(i.outerRadius - o, 0), n, a), e.arc(i.x, i.y, i.innerRadius, a, n, !0), e.closePath(), e.fillStyle = i.backgroundColor, e.fill(), i.borderWidth && ("inner" === i.borderAlign ? (e.beginPath(), t = o / i.outerRadius, e.arc(i.x, i.y, i.outerRadius, n - t, a + t), i.innerRadius > o ? (t = o / i.innerRadius, e.arc(i.x, i.y, i.innerRadius - o, a + t, n - t, !0)) : e.arc(i.x, i.y, o, a + Math.PI / 2, n - Math.PI / 2), e.closePath(), e.clip(), e.beginPath(), e.arc(i.x, i.y, i.outerRadius, n, a), e.arc(i.x, i.y, i.innerRadius, a, n, !0), e.closePath(), e.lineWidth = 2 * i.borderWidth, e.lineJoin = "round") : (e.lineWidth = i.borderWidth, e.lineJoin = "bevel"), e.strokeStyle = i.borderColor, e.stroke()), e.restore() } }), Ct = ut.valueOrDefault, St = st.global.defaultColor; st._set("global", { elements: { line: { tension: .4, backgroundColor: St, borderWidth: 3, borderColor: St, borderCapStyle: "butt", borderDash: [], borderDashOffset: 0, borderJoinStyle: "miter", capBezierPoints: !0, fill: !0 } } }); var Pt = pt.extend({ draw: function () { var t, e, i, n, a = this._view, o = this._chart.ctx, r = a.spanGaps, s = this._children.slice(), l = st.global, d = l.elements.line, u = -1; for (this._loop && s.length && s.push(s[0]), o.save(), o.lineCap = a.borderCapStyle || d.borderCapStyle, o.setLineDash && o.setLineDash(a.borderDash || d.borderDash), o.lineDashOffset = Ct(a.borderDashOffset, d.borderDashOffset), o.lineJoin = a.borderJoinStyle || d.borderJoinStyle, o.lineWidth = Ct(a.borderWidth, d.borderWidth), o.strokeStyle = a.borderColor || l.defaultColor, o.beginPath(), u = -1, t = 0; t < s.length; ++t)e = s[t], i = ut.previousItem(s, t), n = e._view, 0 === t ? n.skip || (o.moveTo(n.x, n.y), u = t) : (i = -1 === u ? i : s[u], n.skip || (u !== t - 1 && !r || -1 === u ? o.moveTo(n.x, n.y) : ut.canvas.lineTo(o, i._view, e._view), u = t)); o.stroke(), o.restore() } }), It = ut.valueOrDefault, At = st.global.defaultColor; function Dt(t) { var e = this._view; return !!e && Math.abs(t - e.x) < e.radius + e.hitRadius } st._set("global", { elements: { point: { radius: 3, pointStyle: "circle", backgroundColor: At, borderColor: At, borderWidth: 1, hitRadius: 1, hoverRadius: 4, hoverBorderWidth: 1 } } }); var Tt = pt.extend({ inRange: function (t, e) { var i = this._view; return !!i && Math.pow(t - i.x, 2) + Math.pow(e - i.y, 2) < Math.pow(i.hitRadius + i.radius, 2) }, inLabelRange: Dt, inXRange: Dt, inYRange: function (t) { var e = this._view; return !!e && Math.abs(t - e.y) < e.radius + e.hitRadius }, getCenterPoint: function () { var t = this._view; return { x: t.x, y: t.y } }, getArea: function () { return Math.PI * Math.pow(this._view.radius, 2) }, tooltipPosition: function () { var t = this._view; return { x: t.x, y: t.y, padding: t.radius + t.borderWidth } }, draw: function (t) { var e = this._view, i = this._chart.ctx, n = e.pointStyle, a = e.rotation, o = e.radius, r = e.x, s = e.y, l = st.global, d = l.defaultColor; e.skip || (void 0 === t || ut.canvas._isPointInArea(e, t)) && (i.strokeStyle = e.borderColor || d, i.lineWidth = It(e.borderWidth, l.elements.point.borderWidth), i.fillStyle = e.backgroundColor || d, ut.canvas.drawPoint(i, n, o, r, s, a)) } }), Ft = st.global.defaultColor; function Lt(t) { return t && void 0 !== t.width } function Rt(t) { var e, i, n, a, o; return Lt(t) ? (o = t.width / 2, e = t.x - o, i = t.x + o, n = Math.min(t.y, t.base), a = Math.max(t.y, t.base)) : (o = t.height / 2, e = Math.min(t.x, t.base), i = Math.max(t.x, t.base), n = t.y - o, a = t.y + o), { left: e, top: n, right: i, bottom: a } } function Ot(t, e, i) { return t === e ? i : t === i ? e : t } function zt(t, e, i) { var n, a, o, r, s = t.borderWidth, l = function (t) { var e = t.borderSkipped, i = {}; return e ? (t.horizontal ? t.base > t.x && (e = Ot(e, "left", "right")) : t.base < t.y && (e = Ot(e, "bottom", "top")), i[e] = !0, i) : i }(t); return ut.isObject(s) ? (n = +s.top || 0, a = +s.right || 0, o = +s.bottom || 0, r = +s.left || 0) : n = a = o = r = +s || 0, { t: l.top || n < 0 ? 0 : n > i ? i : n, r: l.right || a < 0 ? 0 : a > e ? e : a, b: l.bottom || o < 0 ? 0 : o > i ? i : o, l: l.left || r < 0 ? 0 : r > e ? e : r } } function Bt(t, e, i) { var n = null === e, a = null === i, o = !(!t || n && a) && Rt(t); return o && (n || e >= o.left && e <= o.right) && (a || i >= o.top && i <= o.bottom) } st._set("global", { elements: { rectangle: { backgroundColor: Ft, borderColor: Ft, borderSkipped: "bottom", borderWidth: 0 } } }); var Nt = pt.extend({ draw: function () { var t = this._chart.ctx, e = this._view, i = function (t) { var e = Rt(t), i = e.right - e.left, n = e.bottom - e.top, a = zt(t, i / 2, n / 2); return { outer: { x: e.left, y: e.top, w: i, h: n }, inner: { x: e.left + a.l, y: e.top + a.t, w: i - a.l - a.r, h: n - a.t - a.b } } }(e), n = i.outer, a = i.inner; t.fillStyle = e.backgroundColor, t.fillRect(n.x, n.y, n.w, n.h), n.w === a.w && n.h === a.h || (t.save(), t.beginPath(), t.rect(n.x, n.y, n.w, n.h), t.clip(), t.fillStyle = e.borderColor, t.rect(a.x, a.y, a.w, a.h), t.fill("evenodd"), t.restore()) }, height: function () { var t = this._view; return t.base - t.y }, inRange: function (t, e) { return Bt(this._view, t, e) }, inLabelRange: function (t, e) { var i = this._view; return Lt(i) ? Bt(i, t, null) : Bt(i, null, e) }, inXRange: function (t) { return Bt(this._view, t, null) }, inYRange: function (t) { return Bt(this._view, null, t) }, getCenterPoint: function () { var t, e, i = this._view; return Lt(i) ? (t = i.x, e = (i.y + i.base) / 2) : (t = (i.x + i.base) / 2, e = i.y), { x: t, y: e } }, getArea: function () { var t = this._view; return Lt(t) ? t.width * Math.abs(t.y - t.base) : t.height * Math.abs(t.x - t.base) }, tooltipPosition: function () { var t = this._view; return { x: t.x, y: t.y } } }), Wt = {}, Vt = _t, Et = Pt, Ht = Tt, jt = Nt; Wt.Arc = Vt, Wt.Line = Et, Wt.Point = Ht, Wt.Rectangle = jt; var qt = ut.options.resolve; st._set("bar", { hover: { mode: "label" }, scales: { xAxes: [{ type: "category", categoryPercentage: .8, barPercentage: .9, offset: !0, gridLines: { offsetGridLines: !0 } }], yAxes: [{ type: "linear" }] } }); var Yt = Mt.extend({ dataElementType: Wt.Rectangle, initialize: function () { var t; Mt.prototype.initialize.apply(this, arguments), (t = this.getMeta()).stack = this.getDataset().stack, t.bar = !0 }, update: function (t) { var e, i, n = this.getMeta().data; for (this._ruler = this.getRuler(), e = 0, i = n.length; e < i; ++e)this.updateElement(n[e], e, t) }, updateElement: function (t, e, i) { var n = this, a = n.getMeta(), o = n.getDataset(), r = n._resolveElementOptions(t, e); t._xScale = n.getScaleForId(a.xAxisID), t._yScale = n.getScaleForId(a.yAxisID), t._datasetIndex = n.index, t._index = e, t._model = { backgroundColor: r.backgroundColor, borderColor: r.borderColor, borderSkipped: r.borderSkipped, borderWidth: r.borderWidth, datasetLabel: o.label, label: n.chart.data.labels[e] }, n._updateElementGeometry(t, e, i), t.pivot() }, _updateElementGeometry: function (t, e, i) { var n = this, a = t._model, o = n._getValueScale(), r = o.getBasePixel(), s = o.isHorizontal(), l = n._ruler || n.getRuler(), d = n.calculateBarValuePixels(n.index, e), u = n.calculateBarIndexPixels(n.index, e, l); a.horizontal = s, a.base = i ? r : d.base, a.x = s ? i ? r : d.head : u.center, a.y = s ? u.center : i ? r : d.head, a.height = s ? u.size : void 0, a.width = s ? void 0 : u.size }, _getStacks: function (t) { var e, i, n = this.chart, a = this._getIndexScale().options.stacked, o = void 0 === t ? n.data.datasets.length : t + 1, r = []; for (e = 0; e < o; ++e)(i = n.getDatasetMeta(e)).bar && n.isDatasetVisible(e) && (!1 === a || !0 === a && -1 === r.indexOf(i.stack) || void 0 === a && (void 0 === i.stack || -1 === r.indexOf(i.stack))) && r.push(i.stack); return r }, getStackCount: function () { return this._getStacks().length }, getStackIndex: function (t, e) { var i = this._getStacks(t), n = void 0 !== e ? i.indexOf(e) : -1; return -1 === n ? i.length - 1 : n }, getRuler: function () { var t, e, i = this._getIndexScale(), n = this.getStackCount(), a = this.index, o = i.isHorizontal(), r = o ? i.left : i.top, s = r + (o ? i.width : i.height), l = []; for (t = 0, e = this.getMeta().data.length; t < e; ++t)l.push(i.getPixelForValue(null, t, a)); return { min: ut.isNullOrUndef(i.options.barThickness) ? function (t, e) { var i, n, a, o, r = t.isHorizontal() ? t.width : t.height, s = t.getTicks(); for (a = 1, o = e.length; a < o; ++a)r = Math.min(r, Math.abs(e[a] - e[a - 1])); for (a = 0, o = s.length; a < o; ++a)n = t.getPixelForTick(a), r = a > 0 ? Math.min(r, n - i) : r, i = n; return r }(i, l) : -1, pixels: l, start: r, end: s, stackCount: n, scale: i } }, calculateBarValuePixels: function (t, e) { var i, n, a, o, r, s, l = this.chart, d = this.getMeta(), u = this._getValueScale(), h = u.isHorizontal(), c = l.data.datasets, f = +u.getRightValue(c[t].data[e]), g = u.options.minBarLength, p = u.options.stacked, m = d.stack, v = 0; if (p || void 0 === p && void 0 !== m) for (i = 0; i < t; ++i)(n = l.getDatasetMeta(i)).bar && n.stack === m && n.controller._getValueScaleId() === u.id && l.isDatasetVisible(i) && (a = +u.getRightValue(c[i].data[e]), (f < 0 && a < 0 || f >= 0 && a > 0) && (v += a)); return o = u.getPixelForValue(v), s = (r = u.getPixelForValue(v + f)) - o, void 0 !== g && Math.abs(s) < g && (s = g, r = f >= 0 && !h || f < 0 && h ? o - g : o + g), { size: s, base: o, head: r, center: r + s / 2 } }, calculateBarIndexPixels: function (t, e, i) { var n = i.scale.options, a = "flex" === n.barThickness ? function (t, e, i) { var n, a = e.pixels, o = a[t], r = t > 0 ? a[t - 1] : null, s = t < a.length - 1 ? a[t + 1] : null, l = i.categoryPercentage; return null === r && (r = o - (null === s ? e.end - e.start : s - o)), null === s && (s = o + o - r), n = o - (o - Math.min(r, s)) / 2 * l, { chunk: Math.abs(s - r) / 2 * l / e.stackCount, ratio: i.barPercentage, start: n } }(e, i, n) : function (t, e, i) { var n, a, o = i.barThickness, r = e.stackCount, s = e.pixels[t]; return ut.isNullOrUndef(o) ? (n = e.min * i.categoryPercentage, a = i.barPercentage) : (n = o * r, a = 1), { chunk: n / r, ratio: a, start: s - n / 2 } }(e, i, n), o = this.getStackIndex(t, this.getMeta().stack), r = a.start + a.chunk * o + a.chunk / 2, s = Math.min(ut.valueOrDefault(n.maxBarThickness, 1 / 0), a.chunk * a.ratio); return { base: r - s / 2, head: r + s / 2, center: r, size: s } }, draw: function () { var t = this.chart, e = this._getValueScale(), i = this.getMeta().data, n = this.getDataset(), a = i.length, o = 0; for (ut.canvas.clipArea(t.ctx, t.chartArea); o < a; ++o)isNaN(e.getRightValue(n.data[o])) || i[o].draw(); ut.canvas.unclipArea(t.ctx) }, _resolveElementOptions: function (t, e) { var i, n, a, o = this.chart, r = o.data.datasets[this.index], s = t.custom || {}, l = o.options.elements.rectangle, d = {}, u = { chart: o, dataIndex: e, dataset: r, datasetIndex: this.index }, h = ["backgroundColor", "borderColor", "borderSkipped", "borderWidth"]; for (i = 0, n = h.length; i < n; ++i)d[a = h[i]] = qt([s[a], r[a], l[a]], u, e); return d } }), Ut = ut.valueOrDefault, Xt = ut.options.resolve; st._set("bubble", { hover: { mode: "single" }, scales: { xAxes: [{ type: "linear", position: "bottom", id: "x-axis-0" }], yAxes: [{ type: "linear", position: "left", id: "y-axis-0" }] }, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { var i = e.datasets[t.datasetIndex].label || "", n = e.datasets[t.datasetIndex].data[t.index]; return i + ": (" + t.xLabel + ", " + t.yLabel + ", " + n.r + ")" } } } }); var Kt = Mt.extend({ dataElementType: Wt.Point, update: function (t) { var e = this, i = e.getMeta().data; ut.each(i, function (i, n) { e.updateElement(i, n, t) }) }, updateElement: function (t, e, i) { var n = this, a = n.getMeta(), o = t.custom || {}, r = n.getScaleForId(a.xAxisID), s = n.getScaleForId(a.yAxisID), l = n._resolveElementOptions(t, e), d = n.getDataset().data[e], u = n.index, h = i ? r.getPixelForDecimal(.5) : r.getPixelForValue("object" == typeof d ? d : NaN, e, u), c = i ? s.getBasePixel() : s.getPixelForValue(d, e, u); t._xScale = r, t._yScale = s, t._options = l, t._datasetIndex = u, t._index = e, t._model = { backgroundColor: l.backgroundColor, borderColor: l.borderColor, borderWidth: l.borderWidth, hitRadius: l.hitRadius, pointStyle: l.pointStyle, rotation: l.rotation, radius: i ? 0 : l.radius, skip: o.skip || isNaN(h) || isNaN(c), x: h, y: c }, t.pivot() }, setHoverStyle: function (t) { var e = t._model, i = t._options, n = ut.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = Ut(i.hoverBackgroundColor, n(i.backgroundColor)), e.borderColor = Ut(i.hoverBorderColor, n(i.borderColor)), e.borderWidth = Ut(i.hoverBorderWidth, i.borderWidth), e.radius = i.radius + i.hoverRadius }, _resolveElementOptions: function (t, e) { var i, n, a, o = this.chart, r = o.data.datasets[this.index], s = t.custom || {}, l = o.options.elements.point, d = r.data[e], u = {}, h = { chart: o, dataIndex: e, dataset: r, datasetIndex: this.index }, c = ["backgroundColor", "borderColor", "borderWidth", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth", "hoverRadius", "hitRadius", "pointStyle", "rotation"]; for (i = 0, n = c.length; i < n; ++i)u[a = c[i]] = Xt([s[a], r[a], l[a]], h, e); return u.radius = Xt([s.radius, d ? d.r : void 0, r.radius, l.radius], h, e), u } }), Gt = ut.options.resolve, Zt = ut.valueOrDefault; st._set("doughnut", { animation: { animateRotate: !0, animateScale: !1 }, hover: { mode: "single" }, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); var i = t.data, n = i.datasets, a = i.labels; if (n.length) for (var o = 0; o < n[0].data.length; ++o)e.push('<li><span style="background-color:' + n[0].backgroundColor[o] + '"></span>'), a[o] && e.push(a[o]), e.push("</li>"); return e.push("</ul>"), e.join("") }, legend: { labels: { generateLabels: function (t) { var e = t.data; return e.labels.length && e.datasets.length ? e.labels.map(function (i, n) { var a = t.getDatasetMeta(0), o = e.datasets[0], r = a.data[n], s = r && r.custom || {}, l = t.options.elements.arc; return { text: i, fillStyle: Gt([s.backgroundColor, o.backgroundColor, l.backgroundColor], void 0, n), strokeStyle: Gt([s.borderColor, o.borderColor, l.borderColor], void 0, n), lineWidth: Gt([s.borderWidth, o.borderWidth, l.borderWidth], void 0, n), hidden: isNaN(o.data[n]) || a.data[n].hidden, index: n } }) : [] } }, onClick: function (t, e) { var i, n, a, o = e.index, r = this.chart; for (i = 0, n = (r.data.datasets || []).length; i < n; ++i)(a = r.getDatasetMeta(i)).data[o] && (a.data[o].hidden = !a.data[o].hidden); r.update() } }, cutoutPercentage: 50, rotation: -.5 * Math.PI, circumference: 2 * Math.PI, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { var i = e.labels[t.index], n = ": " + e.datasets[t.datasetIndex].data[t.index]; return ut.isArray(i) ? (i = i.slice())[0] += n : i += n, i } } } }); var $t = Mt.extend({ dataElementType: Wt.Arc, linkScales: ut.noop, getRingIndex: function (t) { for (var e = 0, i = 0; i < t; ++i)this.chart.isDatasetVisible(i) && ++e; return e }, update: function (t) { var e, i, n = this, a = n.chart, o = a.chartArea, r = a.options, s = o.right - o.left, l = o.bottom - o.top, d = Math.min(s, l), u = { x: 0, y: 0 }, h = n.getMeta(), c = h.data, f = r.cutoutPercentage, g = r.circumference, p = n._getRingWeight(n.index); if (g < 2 * Math.PI) { var m = r.rotation % (2 * Math.PI), v = (m += 2 * Math.PI * (m >= Math.PI ? -1 : m < -Math.PI ? 1 : 0)) + g, b = { x: Math.cos(m), y: Math.sin(m) }, x = { x: Math.cos(v), y: Math.sin(v) }, y = m <= 0 && v >= 0 || m <= 2 * Math.PI && 2 * Math.PI <= v, k = m <= .5 * Math.PI && .5 * Math.PI <= v || m <= 2.5 * Math.PI && 2.5 * Math.PI <= v, w = m <= -Math.PI && -Math.PI <= v || m <= Math.PI && Math.PI <= v, M = m <= .5 * -Math.PI && .5 * -Math.PI <= v || m <= 1.5 * Math.PI && 1.5 * Math.PI <= v, _ = f / 100, C = { x: w ? -1 : Math.min(b.x * (b.x < 0 ? 1 : _), x.x * (x.x < 0 ? 1 : _)), y: M ? -1 : Math.min(b.y * (b.y < 0 ? 1 : _), x.y * (x.y < 0 ? 1 : _)) }, S = { x: y ? 1 : Math.max(b.x * (b.x > 0 ? 1 : _), x.x * (x.x > 0 ? 1 : _)), y: k ? 1 : Math.max(b.y * (b.y > 0 ? 1 : _), x.y * (x.y > 0 ? 1 : _)) }, P = { width: .5 * (S.x - C.x), height: .5 * (S.y - C.y) }; d = Math.min(s / P.width, l / P.height), u = { x: -.5 * (S.x + C.x), y: -.5 * (S.y + C.y) } } for (e = 0, i = c.length; e < i; ++e)c[e]._options = n._resolveElementOptions(c[e], e); for (a.borderWidth = n.getMaxBorderWidth(), a.outerRadius = Math.max((d - a.borderWidth) / 2, 0), a.innerRadius = Math.max(f ? a.outerRadius / 100 * f : 0, 0), a.radiusLength = (a.outerRadius - a.innerRadius) / (n._getVisibleDatasetWeightTotal() || 1), a.offsetX = u.x * a.outerRadius, a.offsetY = u.y * a.outerRadius, h.total = n.calculateTotal(), n.outerRadius = a.outerRadius - a.radiusLength * n._getRingWeightOffset(n.index), n.innerRadius = Math.max(n.outerRadius - a.radiusLength * p, 0), e = 0, i = c.length; e < i; ++e)n.updateElement(c[e], e, t) }, updateElement: function (t, e, i) { var n = this, a = n.chart, o = a.chartArea, r = a.options, s = r.animation, l = (o.left + o.right) / 2, d = (o.top + o.bottom) / 2, u = r.rotation, h = r.rotation, c = n.getDataset(), f = i && s.animateRotate ? 0 : t.hidden ? 0 : n.calculateCircumference(c.data[e]) * (r.circumference / (2 * Math.PI)), g = i && s.animateScale ? 0 : n.innerRadius, p = i && s.animateScale ? 0 : n.outerRadius, m = t._options || {}; ut.extend(t, { _datasetIndex: n.index, _index: e, _model: { backgroundColor: m.backgroundColor, borderColor: m.borderColor, borderWidth: m.borderWidth, borderAlign: m.borderAlign, x: l + a.offsetX, y: d + a.offsetY, startAngle: u, endAngle: h, circumference: f, outerRadius: p, innerRadius: g, label: ut.valueAtIndexOrDefault(c.label, e, a.data.labels[e]) } }); var v = t._model; i && s.animateRotate || (v.startAngle = 0 === e ? r.rotation : n.getMeta().data[e - 1]._model.endAngle, v.endAngle = v.startAngle + v.circumference), t.pivot() }, calculateTotal: function () { var t, e = this.getDataset(), i = this.getMeta(), n = 0; return ut.each(i.data, function (i, a) { t = e.data[a], isNaN(t) || i.hidden || (n += Math.abs(t)) }), n }, calculateCircumference: function (t) { var e = this.getMeta().total; return e > 0 && !isNaN(t) ? 2 * Math.PI * (Math.abs(t) / e) : 0 }, getMaxBorderWidth: function (t) { var e, i, n, a, o, r, s, l, d = 0, u = this.chart; if (!t) for (e = 0, i = u.data.datasets.length; e < i; ++e)if (u.isDatasetVisible(e)) { t = (n = u.getDatasetMeta(e)).data, e !== this.index && (o = n.controller); break } if (!t) return 0; for (e = 0, i = t.length; e < i; ++e)a = t[e], "inner" !== (r = o ? o._resolveElementOptions(a, e) : a._options).borderAlign && (s = r.borderWidth, d = (l = r.hoverBorderWidth) > (d = s > d ? s : d) ? l : d); return d }, setHoverStyle: function (t) { var e = t._model, i = t._options, n = ut.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth }, e.backgroundColor = Zt(i.hoverBackgroundColor, n(i.backgroundColor)), e.borderColor = Zt(i.hoverBorderColor, n(i.borderColor)), e.borderWidth = Zt(i.hoverBorderWidth, i.borderWidth) }, _resolveElementOptions: function (t, e) { var i, n, a, o = this.chart, r = this.getDataset(), s = t.custom || {}, l = o.options.elements.arc, d = {}, u = { chart: o, dataIndex: e, dataset: r, datasetIndex: this.index }, h = ["backgroundColor", "borderColor", "borderWidth", "borderAlign", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth"]; for (i = 0, n = h.length; i < n; ++i)d[a = h[i]] = Gt([s[a], r[a], l[a]], u, e); return d }, _getRingWeightOffset: function (t) { for (var e = 0, i = 0; i < t; ++i)this.chart.isDatasetVisible(i) && (e += this._getRingWeight(i)); return e }, _getRingWeight: function (t) { return Math.max(Zt(this.chart.data.datasets[t].weight, 1), 0) }, _getVisibleDatasetWeightTotal: function () { return this._getRingWeightOffset(this.chart.data.datasets.length) } }); st._set("horizontalBar", { hover: { mode: "index", axis: "y" }, scales: { xAxes: [{ type: "linear", position: "bottom" }], yAxes: [{ type: "category", position: "left", categoryPercentage: .8, barPercentage: .9, offset: !0, gridLines: { offsetGridLines: !0 } }] }, elements: { rectangle: { borderSkipped: "left" } }, tooltips: { mode: "index", axis: "y" } }); var Jt = Yt.extend({ _getValueScaleId: function () { return this.getMeta().xAxisID }, _getIndexScaleId: function () { return this.getMeta().yAxisID } }), Qt = ut.valueOrDefault, te = ut.options.resolve, ee = ut.canvas._isPointInArea; function ie(t, e) { return Qt(t.showLine, e.showLines) } st._set("line", { showLines: !0, spanGaps: !1, hover: { mode: "label" }, scales: { xAxes: [{ type: "category", id: "x-axis-0" }], yAxes: [{ type: "linear", id: "y-axis-0" }] } }); var ne = Mt.extend({ datasetElementType: Wt.Line, dataElementType: Wt.Point, update: function (t) { var e, i, n = this, a = n.getMeta(), o = a.dataset, r = a.data || [], s = n.getScaleForId(a.yAxisID), l = n.getDataset(), d = ie(l, n.chart.options); for (d && (void 0 !== l.tension && void 0 === l.lineTension && (l.lineTension = l.tension), o._scale = s, o._datasetIndex = n.index, o._children = r, o._model = n._resolveLineOptions(o), o.pivot()), e = 0, i = r.length; e < i; ++e)n.updateElement(r[e], e, t); for (d && 0 !== o._model.tension && n.updateBezierControlPoints(), e = 0, i = r.length; e < i; ++e)r[e].pivot() }, updateElement: function (t, e, i) { var n, a, o = this, r = o.getMeta(), s = t.custom || {}, l = o.getDataset(), d = o.index, u = l.data[e], h = o.getScaleForId(r.yAxisID), c = o.getScaleForId(r.xAxisID), f = r.dataset._model, g = o._resolvePointOptions(t, e); n = c.getPixelForValue("object" == typeof u ? u : NaN, e, d), a = i ? h.getBasePixel() : o.calculatePointY(u, e, d), t._xScale = c, t._yScale = h, t._options = g, t._datasetIndex = d, t._index = e, t._model = { x: n, y: a, skip: s.skip || isNaN(n) || isNaN(a), radius: g.radius, pointStyle: g.pointStyle, rotation: g.rotation, backgroundColor: g.backgroundColor, borderColor: g.borderColor, borderWidth: g.borderWidth, tension: Qt(s.tension, f ? f.tension : 0), steppedLine: !!f && f.steppedLine, hitRadius: g.hitRadius } }, _resolvePointOptions: function (t, e) { var i, n, a, o = this.chart, r = o.data.datasets[this.index], s = t.custom || {}, l = o.options.elements.point, d = {}, u = { chart: o, dataIndex: e, dataset: r, datasetIndex: this.index }, h = { backgroundColor: "pointBackgroundColor", borderColor: "pointBorderColor", borderWidth: "pointBorderWidth", hitRadius: "pointHitRadius", hoverBackgroundColor: "pointHoverBackgroundColor", hoverBorderColor: "pointHoverBorderColor", hoverBorderWidth: "pointHoverBorderWidth", hoverRadius: "pointHoverRadius", pointStyle: "pointStyle", radius: "pointRadius", rotation: "pointRotation" }, c = Object.keys(h); for (i = 0, n = c.length; i < n; ++i)d[a = c[i]] = te([s[a], r[h[a]], r[a], l[a]], u, e); return d }, _resolveLineOptions: function (t) { var e, i, n, a = this.chart, o = a.data.datasets[this.index], r = t.custom || {}, s = a.options, l = s.elements.line, d = {}, u = ["backgroundColor", "borderWidth", "borderColor", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "fill", "cubicInterpolationMode"]; for (e = 0, i = u.length; e < i; ++e)d[n = u[e]] = te([r[n], o[n], l[n]]); return d.spanGaps = Qt(o.spanGaps, s.spanGaps), d.tension = Qt(o.lineTension, l.tension), d.steppedLine = te([r.steppedLine, o.steppedLine, l.stepped]), d }, calculatePointY: function (t, e, i) { var n, a, o, r = this.chart, s = this.getMeta(), l = this.getScaleForId(s.yAxisID), d = 0, u = 0; if (l.options.stacked) { for (n = 0; n < i; n++)if (a = r.data.datasets[n], "line" === (o = r.getDatasetMeta(n)).type && o.yAxisID === l.id && r.isDatasetVisible(n)) { var h = Number(l.getRightValue(a.data[e])); h < 0 ? u += h || 0 : d += h || 0 } var c = Number(l.getRightValue(t)); return c < 0 ? l.getPixelForValue(u + c) : l.getPixelForValue(d + c) } return l.getPixelForValue(t) }, updateBezierControlPoints: function () { var t, e, i, n, a = this.chart, o = this.getMeta(), r = o.dataset._model, s = a.chartArea, l = o.data || []; function d(t, e, i) { return Math.max(Math.min(t, i), e) } if (r.spanGaps && (l = l.filter(function (t) { return !t._model.skip })), "monotone" === r.cubicInterpolationMode) ut.splineCurveMonotone(l); else for (t = 0, e = l.length; t < e; ++t)i = l[t]._model, n = ut.splineCurve(ut.previousItem(l, t)._model, i, ut.nextItem(l, t)._model, r.tension), i.controlPointPreviousX = n.previous.x, i.controlPointPreviousY = n.previous.y, i.controlPointNextX = n.next.x, i.controlPointNextY = n.next.y; if (a.options.elements.line.capBezierPoints) for (t = 0, e = l.length; t < e; ++t)i = l[t]._model, ee(i, s) && (t > 0 && ee(l[t - 1]._model, s) && (i.controlPointPreviousX = d(i.controlPointPreviousX, s.left, s.right), i.controlPointPreviousY = d(i.controlPointPreviousY, s.top, s.bottom)), t < l.length - 1 && ee(l[t + 1]._model, s) && (i.controlPointNextX = d(i.controlPointNextX, s.left, s.right), i.controlPointNextY = d(i.controlPointNextY, s.top, s.bottom))) }, draw: function () { var t, e = this.chart, i = this.getMeta(), n = i.data || [], a = e.chartArea, o = n.length, r = 0; for (ie(this.getDataset(), e.options) && (t = (i.dataset._model.borderWidth || 0) / 2, ut.canvas.clipArea(e.ctx, { left: a.left, right: a.right, top: a.top - t, bottom: a.bottom + t }), i.dataset.draw(), ut.canvas.unclipArea(e.ctx)); r < o; ++r)n[r].draw(a) }, setHoverStyle: function (t) { var e = t._model, i = t._options, n = ut.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = Qt(i.hoverBackgroundColor, n(i.backgroundColor)), e.borderColor = Qt(i.hoverBorderColor, n(i.borderColor)), e.borderWidth = Qt(i.hoverBorderWidth, i.borderWidth), e.radius = Qt(i.hoverRadius, i.radius) } }), ae = ut.options.resolve; st._set("polarArea", { scale: { type: "radialLinear", angleLines: { display: !1 }, gridLines: { circular: !0 }, pointLabels: { display: !1 }, ticks: { beginAtZero: !0 } }, animation: { animateRotate: !0, animateScale: !0 }, startAngle: -.5 * Math.PI, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); var i = t.data, n = i.datasets, a = i.labels; if (n.length) for (var o = 0; o < n[0].data.length; ++o)e.push('<li><span style="background-color:' + n[0].backgroundColor[o] + '"></span>'), a[o] && e.push(a[o]), e.push("</li>"); return e.push("</ul>"), e.join("") }, legend: { labels: { generateLabels: function (t) { var e = t.data; return e.labels.length && e.datasets.length ? e.labels.map(function (i, n) { var a = t.getDatasetMeta(0), o = e.datasets[0], r = a.data[n].custom || {}, s = t.options.elements.arc; return { text: i, fillStyle: ae([r.backgroundColor, o.backgroundColor, s.backgroundColor], void 0, n), strokeStyle: ae([r.borderColor, o.borderColor, s.borderColor], void 0, n), lineWidth: ae([r.borderWidth, o.borderWidth, s.borderWidth], void 0, n), hidden: isNaN(o.data[n]) || a.data[n].hidden, index: n } }) : [] } }, onClick: function (t, e) { var i, n, a, o = e.index, r = this.chart; for (i = 0, n = (r.data.datasets || []).length; i < n; ++i)(a = r.getDatasetMeta(i)).data[o].hidden = !a.data[o].hidden; r.update() } }, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { return e.labels[t.index] + ": " + t.yLabel } } } }); var oe = Mt.extend({ dataElementType: Wt.Arc, linkScales: ut.noop, update: function (t) { var e, i, n, a = this, o = a.getDataset(), r = a.getMeta(), s = a.chart.options.startAngle || 0, l = a._starts = [], d = a._angles = [], u = r.data; for (a._updateRadius(), r.count = a.countVisibleElements(), e = 0, i = o.data.length; e < i; e++)l[e] = s, n = a._computeAngle(e), d[e] = n, s += n; for (e = 0, i = u.length; e < i; ++e)u[e]._options = a._resolveElementOptions(u[e], e), a.updateElement(u[e], e, t) }, _updateRadius: function () { var t = this, e = t.chart, i = e.chartArea, n = e.options, a = Math.min(i.right - i.left, i.bottom - i.top); e.outerRadius = Math.max(a / 2, 0), e.innerRadius = Math.max(n.cutoutPercentage ? e.outerRadius / 100 * n.cutoutPercentage : 1, 0), e.radiusLength = (e.outerRadius - e.innerRadius) / e.getVisibleDatasetCount(), t.outerRadius = e.outerRadius - e.radiusLength * t.index, t.innerRadius = t.outerRadius - e.radiusLength }, updateElement: function (t, e, i) { var n = this, a = n.chart, o = n.getDataset(), r = a.options, s = r.animation, l = a.scale, d = a.data.labels, u = l.xCenter, h = l.yCenter, c = r.startAngle, f = t.hidden ? 0 : l.getDistanceFromCenterForValue(o.data[e]), g = n._starts[e], p = g + (t.hidden ? 0 : n._angles[e]), m = s.animateScale ? 0 : l.getDistanceFromCenterForValue(o.data[e]), v = t._options || {}; ut.extend(t, { _datasetIndex: n.index, _index: e, _scale: l, _model: { backgroundColor: v.backgroundColor, borderColor: v.borderColor, borderWidth: v.borderWidth, borderAlign: v.borderAlign, x: u, y: h, innerRadius: 0, outerRadius: i ? m : f, startAngle: i && s.animateRotate ? c : g, endAngle: i && s.animateRotate ? c : p, label: ut.valueAtIndexOrDefault(d, e, d[e]) } }), t.pivot() }, countVisibleElements: function () { var t = this.getDataset(), e = this.getMeta(), i = 0; return ut.each(e.data, function (e, n) { isNaN(t.data[n]) || e.hidden || i++ }), i }, setHoverStyle: function (t) { var e = t._model, i = t._options, n = ut.getHoverColor, a = ut.valueOrDefault; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth }, e.backgroundColor = a(i.hoverBackgroundColor, n(i.backgroundColor)), e.borderColor = a(i.hoverBorderColor, n(i.borderColor)), e.borderWidth = a(i.hoverBorderWidth, i.borderWidth) }, _resolveElementOptions: function (t, e) { var i, n, a, o = this.chart, r = this.getDataset(), s = t.custom || {}, l = o.options.elements.arc, d = {}, u = { chart: o, dataIndex: e, dataset: r, datasetIndex: this.index }, h = ["backgroundColor", "borderColor", "borderWidth", "borderAlign", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth"]; for (i = 0, n = h.length; i < n; ++i)d[a = h[i]] = ae([s[a], r[a], l[a]], u, e); return d }, _computeAngle: function (t) { var e = this, i = this.getMeta().count, n = e.getDataset(), a = e.getMeta(); if (isNaN(n.data[t]) || a.data[t].hidden) return 0; var o = { chart: e.chart, dataIndex: t, dataset: n, datasetIndex: e.index }; return ae([e.chart.options.elements.arc.angle, 2 * Math.PI / i], o, t) } }); st._set("pie", ut.clone(st.doughnut)), st._set("pie", { cutoutPercentage: 0 }); var re = $t, se = ut.valueOrDefault, le = ut.options.resolve; st._set("radar", { scale: { type: "radialLinear" }, elements: { line: { tension: 0 } } }); var de = Mt.extend({ datasetElementType: Wt.Line, dataElementType: Wt.Point, linkScales: ut.noop, update: function (t) { var e, i, n = this, a = n.getMeta(), o = a.dataset, r = a.data || [], s = n.chart.scale, l = n.getDataset(); for (void 0 !== l.tension && void 0 === l.lineTension && (l.lineTension = l.tension), o._scale = s, o._datasetIndex = n.index, o._children = r, o._loop = !0, o._model = n._resolveLineOptions(o), o.pivot(), e = 0, i = r.length; e < i; ++e)n.updateElement(r[e], e, t); for (n.updateBezierControlPoints(), e = 0, i = r.length; e < i; ++e)r[e].pivot() }, updateElement: function (t, e, i) { var n = this, a = t.custom || {}, o = n.getDataset(), r = n.chart.scale, s = r.getPointPositionForValue(e, o.data[e]), l = n._resolvePointOptions(t, e), d = n.getMeta().dataset._model, u = i ? r.xCenter : s.x, h = i ? r.yCenter : s.y; t._scale = r, t._options = l, t._datasetIndex = n.index, t._index = e, t._model = { x: u, y: h, skip: a.skip || isNaN(u) || isNaN(h), radius: l.radius, pointStyle: l.pointStyle, rotation: l.rotation, backgroundColor: l.backgroundColor, borderColor: l.borderColor, borderWidth: l.borderWidth, tension: se(a.tension, d ? d.tension : 0), hitRadius: l.hitRadius } }, _resolvePointOptions: function (t, e) { var i, n, a, o = this.chart, r = o.data.datasets[this.index], s = t.custom || {}, l = o.options.elements.point, d = {}, u = { chart: o, dataIndex: e, dataset: r, datasetIndex: this.index }, h = { backgroundColor: "pointBackgroundColor", borderColor: "pointBorderColor", borderWidth: "pointBorderWidth", hitRadius: "pointHitRadius", hoverBackgroundColor: "pointHoverBackgroundColor", hoverBorderColor: "pointHoverBorderColor", hoverBorderWidth: "pointHoverBorderWidth", hoverRadius: "pointHoverRadius", pointStyle: "pointStyle", radius: "pointRadius", rotation: "pointRotation" }, c = Object.keys(h); for (i = 0, n = c.length; i < n; ++i)d[a = c[i]] = le([s[a], r[h[a]], r[a], l[a]], u, e); return d }, _resolveLineOptions: function (t) { var e, i, n, a = this.chart, o = a.data.datasets[this.index], r = t.custom || {}, s = a.options.elements.line, l = {}, d = ["backgroundColor", "borderWidth", "borderColor", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "fill"]; for (e = 0, i = d.length; e < i; ++e)l[n = d[e]] = le([r[n], o[n], s[n]]); return l.tension = se(o.lineTension, s.tension), l }, updateBezierControlPoints: function () { var t, e, i, n, a = this.getMeta(), o = this.chart.chartArea, r = a.data || []; function s(t, e, i) { return Math.max(Math.min(t, i), e) } for (t = 0, e = r.length; t < e; ++t)i = r[t]._model, n = ut.splineCurve(ut.previousItem(r, t, !0)._model, i, ut.nextItem(r, t, !0)._model, i.tension), i.controlPointPreviousX = s(n.previous.x, o.left, o.right), i.controlPointPreviousY = s(n.previous.y, o.top, o.bottom), i.controlPointNextX = s(n.next.x, o.left, o.right), i.controlPointNextY = s(n.next.y, o.top, o.bottom) }, setHoverStyle: function (t) { var e = t._model, i = t._options, n = ut.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = se(i.hoverBackgroundColor, n(i.backgroundColor)), e.borderColor = se(i.hoverBorderColor, n(i.borderColor)), e.borderWidth = se(i.hoverBorderWidth, i.borderWidth), e.radius = se(i.hoverRadius, i.radius) } }); st._set("scatter", { hover: { mode: "single" }, scales: { xAxes: [{ id: "x-axis-1", type: "linear", position: "bottom" }], yAxes: [{ id: "y-axis-1", type: "linear", position: "left" }] }, showLines: !1, tooltips: { callbacks: { title: function () { return "" }, label: function (t) { return "(" + t.xLabel + ", " + t.yLabel + ")" } } } }); var ue = { bar: Yt, bubble: Kt, doughnut: $t, horizontalBar: Jt, line: ne, polarArea: oe, pie: re, radar: de, scatter: ne }; function he(t, e) { return t.native ? { x: t.x, y: t.y } : ut.getRelativePosition(t, e) } function ce(t, e) { var i, n, a, o, r; for (n = 0, o = t.data.datasets.length; n < o; ++n)if (t.isDatasetVisible(n)) for (a = 0, r = (i = t.getDatasetMeta(n)).data.length; a < r; ++a) { var s = i.data[a]; s._view.skip || e(s) } } function fe(t, e) { var i = []; return ce(t, function (t) { t.inRange(e.x, e.y) && i.push(t) }), i } function ge(t, e, i, n) { var a = Number.POSITIVE_INFINITY, o = []; return ce(t, function (t) { if (!i || t.inRange(e.x, e.y)) { var r = t.getCenterPoint(), s = n(e, r); s < a ? (o = [t], a = s) : s === a && o.push(t) } }), o } function pe(t) { var e = -1 !== t.indexOf("x"), i = -1 !== t.indexOf("y"); return function (t, n) { var a = e ? Math.abs(t.x - n.x) : 0, o = i ? Math.abs(t.y - n.y) : 0; return Math.sqrt(Math.pow(a, 2) + Math.pow(o, 2)) } } function me(t, e, i) { var n = he(e, t); i.axis = i.axis || "x"; var a = pe(i.axis), o = i.intersect ? fe(t, n) : ge(t, n, !1, a), r = []; return o.length ? (t.data.datasets.forEach(function (e, i) { if (t.isDatasetVisible(i)) { var n = t.getDatasetMeta(i).data[o[0]._index]; n && !n._view.skip && r.push(n) } }), r) : [] } var ve = { modes: { single: function (t, e) { var i = he(e, t), n = []; return ce(t, function (t) { if (t.inRange(i.x, i.y)) return n.push(t), n }), n.slice(0, 1) }, label: me, index: me, dataset: function (t, e, i) { var n = he(e, t); i.axis = i.axis || "xy"; var a = pe(i.axis), o = i.intersect ? fe(t, n) : ge(t, n, !1, a); return o.length > 0 && (o = t.getDatasetMeta(o[0]._datasetIndex).data), o }, "x-axis": function (t, e) { return me(t, e, { intersect: !1 }) }, point: function (t, e) { return fe(t, he(e, t)) }, nearest: function (t, e, i) { var n = he(e, t); i.axis = i.axis || "xy"; var a = pe(i.axis); return ge(t, n, i.intersect, a) }, x: function (t, e, i) { var n = he(e, t), a = [], o = !1; return ce(t, function (t) { t.inXRange(n.x) && a.push(t), t.inRange(n.x, n.y) && (o = !0) }), i.intersect && !o && (a = []), a }, y: function (t, e, i) { var n = he(e, t), a = [], o = !1; return ce(t, function (t) { t.inYRange(n.y) && a.push(t), t.inRange(n.x, n.y) && (o = !0) }), i.intersect && !o && (a = []), a } } }; function be(t, e) { return ut.where(t, function (t) { return t.position === e }) } function xe(t, e) { t.forEach(function (t, e) { return t._tmpIndex_ = e, t }), t.sort(function (t, i) { var n = e ? i : t, a = e ? t : i; return n.weight === a.weight ? n._tmpIndex_ - a._tmpIndex_ : n.weight - a.weight }), t.forEach(function (t) { delete t._tmpIndex_ }) } function ye(t, e) { ut.each(t, function (t) { e[t.position] += t.isHorizontal() ? t.height : t.width }) } st._set("global", { layout: { padding: { top: 0, right: 0, bottom: 0, left: 0 } } }); var ke = { defaults: {}, addBox: function (t, e) { t.boxes || (t.boxes = []), e.fullWidth = e.fullWidth || !1, e.position = e.position || "top", e.weight = e.weight || 0, t.boxes.push(e) }, removeBox: function (t, e) { var i = t.boxes ? t.boxes.indexOf(e) : -1; -1 !== i && t.boxes.splice(i, 1) }, configure: function (t, e, i) { for (var n, a = ["fullWidth", "position", "weight"], o = a.length, r = 0; r < o; ++r)n = a[r], i.hasOwnProperty(n) && (e[n] = i[n]) }, update: function (t, e, i) { if (t) { var n = t.options.layout || {}, a = ut.options.toPadding(n.padding), o = a.left, r = a.right, s = a.top, l = a.bottom, d = be(t.boxes, "left"), u = be(t.boxes, "right"), h = be(t.boxes, "top"), c = be(t.boxes, "bottom"), f = be(t.boxes, "chartArea"); xe(d, !0), xe(u, !1), xe(h, !0), xe(c, !1); var g, p = d.concat(u), m = h.concat(c), v = p.concat(m), b = e - o - r, x = i - s - l, y = (e - b / 2) / p.length, k = b, w = x, M = { top: s, left: o, bottom: l, right: r }, _ = []; ut.each(v, function (t) { var e, i = t.isHorizontal(); i ? (e = t.update(t.fullWidth ? b : k, x / 2), w -= e.height) : (e = t.update(y, w), k -= e.width), _.push({ horizontal: i, width: e.width, box: t }) }), g = function (t) { var e = 0, i = 0, n = 0, a = 0; return ut.each(t, function (t) { if (t.getPadding) { var o = t.getPadding(); e = Math.max(e, o.top), i = Math.max(i, o.left), n = Math.max(n, o.bottom), a = Math.max(a, o.right) } }), { top: e, left: i, bottom: n, right: a } }(v), ut.each(p, T), ye(p, M), ut.each(m, T), ye(m, M), ut.each(p, function (t) { var e = ut.findNextWhere(_, function (e) { return e.box === t }), i = { left: 0, right: 0, top: M.top, bottom: M.bottom }; e && t.update(e.width, w, i) }), ye(v, M = { top: s, left: o, bottom: l, right: r }); var C = Math.max(g.left - M.left, 0); M.left += C, M.right += Math.max(g.right - M.right, 0); var S = Math.max(g.top - M.top, 0); M.top += S, M.bottom += Math.max(g.bottom - M.bottom, 0); var P = i - M.top - M.bottom, I = e - M.left - M.right; I === k && P === w || (ut.each(p, function (t) { t.height = P }), ut.each(m, function (t) { t.fullWidth || (t.width = I) }), w = P, k = I); var A = o + C, D = s + S; ut.each(d.concat(h), F), A += k, D += w, ut.each(u, F), ut.each(c, F), t.chartArea = { left: M.left, top: M.top, right: M.left + k, bottom: M.top + w }, ut.each(f, function (e) { e.left = t.chartArea.left, e.top = t.chartArea.top, e.right = t.chartArea.right, e.bottom = t.chartArea.bottom, e.update(k, w) }) } function T(t) { var e = ut.findNextWhere(_, function (e) { return e.box === t }); if (e) if (e.horizontal) { var i = { left: Math.max(M.left, g.left), right: Math.max(M.right, g.right), top: 0, bottom: 0 }; t.update(t.fullWidth ? b : k, x / 2, i) } else t.update(e.width, w) } function F(t) { t.isHorizontal() ? (t.left = t.fullWidth ? o : M.left, t.right = t.fullWidth ? e - r : M.left + k, t.top = D, t.bottom = D + t.height, D = t.bottom) : (t.left = A, t.right = A + t.width, t.top = M.top, t.bottom = M.top + w, A = t.right) } } }; var we, Me = (we = Object.freeze({ default: "@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}" })) && we.default || we, _e = "$chartjs", Ce = "chartjs-size-monitor", Se = "chartjs-render-monitor", Pe = "chartjs-render-animation", Ie = ["animationstart", "webkitAnimationStart"], Ae = { touchstart: "mousedown", touchmove: "mousemove", touchend: "mouseup", pointerenter: "mouseenter", pointerdown: "mousedown", pointermove: "mousemove", pointerup: "mouseup", pointerleave: "mouseout", pointerout: "mouseout" }; function De(t, e) { var i = ut.getStyle(t, e), n = i && i.match(/^(\d+)(\.\d+)?px$/); return n ? Number(n[1]) : void 0 } var Te = !!function () { var t = !1; try { var e = Object.defineProperty({}, "passive", { get: function () { t = !0 } }); window.addEventListener("e", null, e) } catch (t) { } return t }() && { passive: !0 }; function Fe(t, e, i) { t.addEventListener(e, i, Te) } function Le(t, e, i) { t.removeEventListener(e, i, Te) } function Re(t, e, i, n, a) { return { type: t, chart: e, native: a || null, x: void 0 !== i ? i : null, y: void 0 !== n ? n : null } } function Oe(t) { var e = document.createElement("div"); return e.className = t || "", e } function ze(t, e, i) { var n, a, o, r, s = t[_e] || (t[_e] = {}), l = s.resizer = function (t) { var e = Oe(Ce), i = Oe(Ce + "-expand"), n = Oe(Ce + "-shrink"); i.appendChild(Oe()), n.appendChild(Oe()), e.appendChild(i), e.appendChild(n), e._reset = function () { i.scrollLeft = 1e6, i.scrollTop = 1e6, n.scrollLeft = 1e6, n.scrollTop = 1e6 }; var a = function () { e._reset(), t() }; return Fe(i, "scroll", a.bind(i, "expand")), Fe(n, "scroll", a.bind(n, "shrink")), e }((n = function () { if (s.resizer) { var n = i.options.maintainAspectRatio && t.parentNode, a = n ? n.clientWidth : 0; e(Re("resize", i)), n && n.clientWidth < a && i.canvas && e(Re("resize", i)) } }, o = !1, r = [], function () { r = Array.prototype.slice.call(arguments), a = a || this, o || (o = !0, ut.requestAnimFrame.call(window, function () { o = !1, n.apply(a, r) })) })); !function (t, e) { var i = t[_e] || (t[_e] = {}), n = i.renderProxy = function (t) { t.animationName === Pe && e() }; ut.each(Ie, function (e) { Fe(t, e, n) }), i.reflow = !!t.offsetParent, t.classList.add(Se) }(t, function () { if (s.resizer) { var e = t.parentNode; e && e !== l.parentNode && e.insertBefore(l, e.firstChild), l._reset() } }) } function Be(t) { var e = t[_e] || {}, i = e.resizer; delete e.resizer, function (t) { var e = t[_e] || {}, i = e.renderProxy; i && (ut.each(Ie, function (e) { Le(t, e, i) }), delete e.renderProxy), t.classList.remove(Se) }(t), i && i.parentNode && i.parentNode.removeChild(i) } var Ne = { disableCSSInjection: !1, _enabled: "undefined" != typeof window && "undefined" != typeof document, _ensureLoaded: function () { var t, e, i; this._loaded || (this._loaded = !0, this.disableCSSInjection || (e = Me, i = (t = this)._style || document.createElement("style"), t._style || (t._style = i, e = "/* Chart.js */\n" + e, i.setAttribute("type", "text/css"), document.getElementsByTagName("head")[0].appendChild(i)), i.appendChild(document.createTextNode(e)))) }, acquireContext: function (t, e) { "string" == typeof t ? t = document.getElementById(t) : t.length && (t = t[0]), t && t.canvas && (t = t.canvas); var i = t && t.getContext && t.getContext("2d"); return this._ensureLoaded(), i && i.canvas === t ? (function (t, e) { var i = t.style, n = t.getAttribute("height"), a = t.getAttribute("width"); if (t[_e] = { initial: { height: n, width: a, style: { display: i.display, height: i.height, width: i.width } } }, i.display = i.display || "block", null === a || "" === a) { var o = De(t, "width"); void 0 !== o && (t.width = o) } if (null === n || "" === n) if ("" === t.style.height) t.height = t.width / (e.options.aspectRatio || 2); else { var r = De(t, "height"); void 0 !== o && (t.height = r) } }(t, e), i) : null }, releaseContext: function (t) { var e = t.canvas; if (e[_e]) { var i = e[_e].initial;["height", "width"].forEach(function (t) { var n = i[t]; ut.isNullOrUndef(n) ? e.removeAttribute(t) : e.setAttribute(t, n) }), ut.each(i.style || {}, function (t, i) { e.style[i] = t }), e.width = e.width, delete e[_e] } }, addEventListener: function (t, e, i) { var n = t.canvas; if ("resize" !== e) { var a = i[_e] || (i[_e] = {}); Fe(n, e, (a.proxies || (a.proxies = {}))[t.id + "_" + e] = function (e) { i(function (t, e) { var i = Ae[t.type] || t.type, n = ut.getRelativePosition(t, e); return Re(i, e, n.x, n.y, t) }(e, t)) }) } else ze(n, i, t) }, removeEventListener: function (t, e, i) { var n = t.canvas; if ("resize" !== e) { var a = ((i[_e] || {}).proxies || {})[t.id + "_" + e]; a && Le(n, e, a) } else Be(n) } }; ut.addEvent = Fe, ut.removeEvent = Le; var We = Ne._enabled ? Ne : { acquireContext: function (t) { return t && t.canvas && (t = t.canvas), t && t.getContext("2d") || null } }, Ve = ut.extend({ initialize: function () { }, acquireContext: function () { }, releaseContext: function () { }, addEventListener: function () { }, removeEventListener: function () { } }, We); st._set("global", { plugins: {} }); var Ee = { _plugins: [], _cacheId: 0, register: function (t) { var e = this._plugins;[].concat(t).forEach(function (t) { -1 === e.indexOf(t) && e.push(t) }), this._cacheId++ }, unregister: function (t) { var e = this._plugins;[].concat(t).forEach(function (t) { var i = e.indexOf(t); -1 !== i && e.splice(i, 1) }), this._cacheId++ }, clear: function () { this._plugins = [], this._cacheId++ }, count: function () { return this._plugins.length }, getAll: function () { return this._plugins }, notify: function (t, e, i) { var n, a, o, r, s, l = this.descriptors(t), d = l.length; for (n = 0; n < d; ++n)if ("function" == typeof (s = (o = (a = l[n]).plugin)[e]) && ((r = [t].concat(i || [])).push(a.options), !1 === s.apply(o, r))) return !1; return !0 }, descriptors: function (t) { var e = t.$plugins || (t.$plugins = {}); if (e.id === this._cacheId) return e.descriptors; var i = [], n = [], a = t && t.config || {}, o = a.options && a.options.plugins || {}; return this._plugins.concat(a.plugins || []).forEach(function (t) { if (-1 === i.indexOf(t)) { var e = t.id, a = o[e]; !1 !== a && (!0 === a && (a = ut.clone(st.global.plugins[e])), i.push(t), n.push({ plugin: t, options: a || {} })) } }), e.descriptors = n, e.id = this._cacheId, n }, _invalidate: function (t) { delete t.$plugins } }, He = { constructors: {}, defaults: {}, registerScaleType: function (t, e, i) { this.constructors[t] = e, this.defaults[t] = ut.clone(i) }, getScaleConstructor: function (t) { return this.constructors.hasOwnProperty(t) ? this.constructors[t] : void 0 }, getScaleDefaults: function (t) { return this.defaults.hasOwnProperty(t) ? ut.merge({}, [st.scale, this.defaults[t]]) : {} }, updateScaleDefaults: function (t, e) { this.defaults.hasOwnProperty(t) && (this.defaults[t] = ut.extend(this.defaults[t], e)) }, addScalesToLayout: function (t) { ut.each(t.scales, function (e) { e.fullWidth = e.options.fullWidth, e.position = e.options.position, e.weight = e.options.weight, ke.addBox(t, e) }) } }, je = ut.valueOrDefault; st._set("global", { tooltips: { enabled: !0, custom: null, mode: "nearest", position: "average", intersect: !0, backgroundColor: "rgba(0,0,0,0.8)", titleFontStyle: "bold", titleSpacing: 2, titleMarginBottom: 6, titleFontColor: "#fff", titleAlign: "left", bodySpacing: 2, bodyFontColor: "#fff", bodyAlign: "left", footerFontStyle: "bold", footerSpacing: 2, footerMarginTop: 6, footerFontColor: "#fff", footerAlign: "left", yPadding: 6, xPadding: 6, caretPadding: 2, caretSize: 5, cornerRadius: 6, multiKeyBackground: "#fff", displayColors: !0, borderColor: "rgba(0,0,0,0)", borderWidth: 0, callbacks: { beforeTitle: ut.noop, title: function (t, e) { var i = "", n = e.labels, a = n ? n.length : 0; if (t.length > 0) { var o = t[0]; o.label ? i = o.label : o.xLabel ? i = o.xLabel : a > 0 && o.index < a && (i = n[o.index]) } return i }, afterTitle: ut.noop, beforeBody: ut.noop, beforeLabel: ut.noop, label: function (t, e) { var i = e.datasets[t.datasetIndex].label || ""; return i && (i += ": "), ut.isNullOrUndef(t.value) ? i += t.yLabel : i += t.value, i }, labelColor: function (t, e) { var i = e.getDatasetMeta(t.datasetIndex).data[t.index]._view; return { borderColor: i.borderColor, backgroundColor: i.backgroundColor } }, labelTextColor: function () { return this._options.bodyFontColor }, afterLabel: ut.noop, afterBody: ut.noop, beforeFooter: ut.noop, footer: ut.noop, afterFooter: ut.noop } } }); var qe = { average: function (t) { if (!t.length) return !1; var e, i, n = 0, a = 0, o = 0; for (e = 0, i = t.length; e < i; ++e) { var r = t[e]; if (r && r.hasValue()) { var s = r.tooltipPosition(); n += s.x, a += s.y, ++o } } return { x: n / o, y: a / o } }, nearest: function (t, e) { var i, n, a, o = e.x, r = e.y, s = Number.POSITIVE_INFINITY; for (i = 0, n = t.length; i < n; ++i) { var l = t[i]; if (l && l.hasValue()) { var d = l.getCenterPoint(), u = ut.distanceBetweenPoints(e, d); u < s && (s = u, a = l) } } if (a) { var h = a.tooltipPosition(); o = h.x, r = h.y } return { x: o, y: r } } }; function Ye(t, e) { return e && (ut.isArray(e) ? Array.prototype.push.apply(t, e) : t.push(e)), t } function Ue(t) { return ("string" == typeof t || t instanceof String) && t.indexOf("\n") > -1 ? t.split("\n") : t } function Xe(t) { var e = st.global; return { xPadding: t.xPadding, yPadding: t.yPadding, xAlign: t.xAlign, yAlign: t.yAlign, bodyFontColor: t.bodyFontColor, _bodyFontFamily: je(t.bodyFontFamily, e.defaultFontFamily), _bodyFontStyle: je(t.bodyFontStyle, e.defaultFontStyle), _bodyAlign: t.bodyAlign, bodyFontSize: je(t.bodyFontSize, e.defaultFontSize), bodySpacing: t.bodySpacing, titleFontColor: t.titleFontColor, _titleFontFamily: je(t.titleFontFamily, e.defaultFontFamily), _titleFontStyle: je(t.titleFontStyle, e.defaultFontStyle), titleFontSize: je(t.titleFontSize, e.defaultFontSize), _titleAlign: t.titleAlign, titleSpacing: t.titleSpacing, titleMarginBottom: t.titleMarginBottom, footerFontColor: t.footerFontColor, _footerFontFamily: je(t.footerFontFamily, e.defaultFontFamily), _footerFontStyle: je(t.footerFontStyle, e.defaultFontStyle), footerFontSize: je(t.footerFontSize, e.defaultFontSize), _footerAlign: t.footerAlign, footerSpacing: t.footerSpacing, footerMarginTop: t.footerMarginTop, caretSize: t.caretSize, cornerRadius: t.cornerRadius, backgroundColor: t.backgroundColor, opacity: 0, legendColorBackground: t.multiKeyBackground, displayColors: t.displayColors, borderColor: t.borderColor, borderWidth: t.borderWidth } } function Ke(t, e) { return "center" === e ? t.x + t.width / 2 : "right" === e ? t.x + t.width - t.xPadding : t.x + t.xPadding } function Ge(t) { return Ye([], Ue(t)) } var Ze = pt.extend({ initialize: function () { this._model = Xe(this._options), this._lastActive = [] }, getTitle: function () { var t = this._options.callbacks, e = t.beforeTitle.apply(this, arguments), i = t.title.apply(this, arguments), n = t.afterTitle.apply(this, arguments), a = []; return a = Ye(a, Ue(e)), a = Ye(a, Ue(i)), a = Ye(a, Ue(n)) }, getBeforeBody: function () { return Ge(this._options.callbacks.beforeBody.apply(this, arguments)) }, getBody: function (t, e) { var i = this, n = i._options.callbacks, a = []; return ut.each(t, function (t) { var o = { before: [], lines: [], after: [] }; Ye(o.before, Ue(n.beforeLabel.call(i, t, e))), Ye(o.lines, n.label.call(i, t, e)), Ye(o.after, Ue(n.afterLabel.call(i, t, e))), a.push(o) }), a }, getAfterBody: function () { return Ge(this._options.callbacks.afterBody.apply(this, arguments)) }, getFooter: function () { var t = this._options.callbacks, e = t.beforeFooter.apply(this, arguments), i = t.footer.apply(this, arguments), n = t.afterFooter.apply(this, arguments), a = []; return a = Ye(a, Ue(e)), a = Ye(a, Ue(i)), a = Ye(a, Ue(n)) }, update: function (t) { var e, i, n, a, o, r, s, l, d, u, h = this, c = h._options, f = h._model, g = h._model = Xe(c), p = h._active, m = h._data, v = { xAlign: f.xAlign, yAlign: f.yAlign }, b = { x: f.x, y: f.y }, x = { width: f.width, height: f.height }, y = { x: f.caretX, y: f.caretY }; if (p.length) { g.opacity = 1; var k = [], w = []; y = qe[c.position].call(h, p, h._eventPosition); var M = []; for (e = 0, i = p.length; e < i; ++e)M.push((n = p[e], a = void 0, o = void 0, r = void 0, s = void 0, l = void 0, d = void 0, u = void 0, a = n._xScale, o = n._yScale || n._scale, r = n._index, s = n._datasetIndex, l = n._chart.getDatasetMeta(s).controller, d = l._getIndexScale(), u = l._getValueScale(), { xLabel: a ? a.getLabelForIndex(r, s) : "", yLabel: o ? o.getLabelForIndex(r, s) : "", label: d ? "" + d.getLabelForIndex(r, s) : "", value: u ? "" + u.getLabelForIndex(r, s) : "", index: r, datasetIndex: s, x: n._model.x, y: n._model.y })); c.filter && (M = M.filter(function (t) { return c.filter(t, m) })), c.itemSort && (M = M.sort(function (t, e) { return c.itemSort(t, e, m) })), ut.each(M, function (t) { k.push(c.callbacks.labelColor.call(h, t, h._chart)), w.push(c.callbacks.labelTextColor.call(h, t, h._chart)) }), g.title = h.getTitle(M, m), g.beforeBody = h.getBeforeBody(M, m), g.body = h.getBody(M, m), g.afterBody = h.getAfterBody(M, m), g.footer = h.getFooter(M, m), g.x = y.x, g.y = y.y, g.caretPadding = c.caretPadding, g.labelColors = k, g.labelTextColors = w, g.dataPoints = M, x = function (t, e) { var i = t._chart.ctx, n = 2 * e.yPadding, a = 0, o = e.body, r = o.reduce(function (t, e) { return t + e.before.length + e.lines.length + e.after.length }, 0); r += e.beforeBody.length + e.afterBody.length; var s = e.title.length, l = e.footer.length, d = e.titleFontSize, u = e.bodyFontSize, h = e.footerFontSize; n += s * d, n += s ? (s - 1) * e.titleSpacing : 0, n += s ? e.titleMarginBottom : 0, n += r * u, n += r ? (r - 1) * e.bodySpacing : 0, n += l ? e.footerMarginTop : 0, n += l * h, n += l ? (l - 1) * e.footerSpacing : 0; var c = 0, f = function (t) { a = Math.max(a, i.measureText(t).width + c) }; return i.font = ut.fontString(d, e._titleFontStyle, e._titleFontFamily), ut.each(e.title, f), i.font = ut.fontString(u, e._bodyFontStyle, e._bodyFontFamily), ut.each(e.beforeBody.concat(e.afterBody), f), c = e.displayColors ? u + 2 : 0, ut.each(o, function (t) { ut.each(t.before, f), ut.each(t.lines, f), ut.each(t.after, f) }), c = 0, i.font = ut.fontString(h, e._footerFontStyle, e._footerFontFamily), ut.each(e.footer, f), { width: a += 2 * e.xPadding, height: n } }(this, g), b = function (t, e, i, n) { var a = t.x, o = t.y, r = t.caretSize, s = t.caretPadding, l = t.cornerRadius, d = i.xAlign, u = i.yAlign, h = r + s, c = l + s; return "right" === d ? a -= e.width : "center" === d && ((a -= e.width / 2) + e.width > n.width && (a = n.width - e.width), a < 0 && (a = 0)), "top" === u ? o += h : o -= "bottom" === u ? e.height + h : e.height / 2, "center" === u ? "left" === d ? a += h : "right" === d && (a -= h) : "left" === d ? a -= c : "right" === d && (a += c), { x: a, y: o } }(g, x, v = function (t, e) { var i, n, a, o, r, s = t._model, l = t._chart, d = t._chart.chartArea, u = "center", h = "center"; s.y < e.height ? h = "top" : s.y > l.height - e.height && (h = "bottom"); var c = (d.left + d.right) / 2, f = (d.top + d.bottom) / 2; "center" === h ? (i = function (t) { return t <= c }, n = function (t) { return t > c }) : (i = function (t) { return t <= e.width / 2 }, n = function (t) { return t >= l.width - e.width / 2 }), a = function (t) { return t + e.width + s.caretSize + s.caretPadding > l.width }, o = function (t) { return t - e.width - s.caretSize - s.caretPadding < 0 }, r = function (t) { return t <= f ? "top" : "bottom" }, i(s.x) ? (u = "left", a(s.x) && (u = "center", h = r(s.y))) : n(s.x) && (u = "right", o(s.x) && (u = "center", h = r(s.y))); var g = t._options; return { xAlign: g.xAlign ? g.xAlign : u, yAlign: g.yAlign ? g.yAlign : h } }(this, x), h._chart) } else g.opacity = 0; return g.xAlign = v.xAlign, g.yAlign = v.yAlign, g.x = b.x, g.y = b.y, g.width = x.width, g.height = x.height, g.caretX = y.x, g.caretY = y.y, h._model = g, t && c.custom && c.custom.call(h, g), h }, drawCaret: function (t, e) { var i = this._chart.ctx, n = this._view, a = this.getCaretPosition(t, e, n); i.lineTo(a.x1, a.y1), i.lineTo(a.x2, a.y2), i.lineTo(a.x3, a.y3) }, getCaretPosition: function (t, e, i) { var n, a, o, r, s, l, d = i.caretSize, u = i.cornerRadius, h = i.xAlign, c = i.yAlign, f = t.x, g = t.y, p = e.width, m = e.height; if ("center" === c) s = g + m / 2, "left" === h ? (a = (n = f) - d, o = n, r = s + d, l = s - d) : (a = (n = f + p) + d, o = n, r = s - d, l = s + d); else if ("left" === h ? (n = (a = f + u + d) - d, o = a + d) : "right" === h ? (n = (a = f + p - u - d) - d, o = a + d) : (n = (a = i.caretX) - d, o = a + d), "top" === c) s = (r = g) - d, l = r; else { s = (r = g + m) + d, l = r; var v = o; o = n, n = v } return { x1: n, x2: a, x3: o, y1: r, y2: s, y3: l } }, drawTitle: function (t, e, i) { var n = e.title; if (n.length) { t.x = Ke(e, e._titleAlign), i.textAlign = e._titleAlign, i.textBaseline = "top"; var a, o, r = e.titleFontSize, s = e.titleSpacing; for (i.fillStyle = e.titleFontColor, i.font = ut.fontString(r, e._titleFontStyle, e._titleFontFamily), a = 0, o = n.length; a < o; ++a)i.fillText(n[a], t.x, t.y), t.y += r + s, a + 1 === n.length && (t.y += e.titleMarginBottom - s) } }, drawBody: function (t, e, i) { var n, a = e.bodyFontSize, o = e.bodySpacing, r = e._bodyAlign, s = e.body, l = e.displayColors, d = e.labelColors, u = 0, h = l ? Ke(e, "left") : 0; i.textAlign = r, i.textBaseline = "top", i.font = ut.fontString(a, e._bodyFontStyle, e._bodyFontFamily), t.x = Ke(e, r); var c = function (e) { i.fillText(e, t.x + u, t.y), t.y += a + o }; i.fillStyle = e.bodyFontColor, ut.each(e.beforeBody, c), u = l && "right" !== r ? "center" === r ? a / 2 + 1 : a + 2 : 0, ut.each(s, function (o, r) { n = e.labelTextColors[r], i.fillStyle = n, ut.each(o.before, c), ut.each(o.lines, function (o) { l && (i.fillStyle = e.legendColorBackground, i.fillRect(h, t.y, a, a), i.lineWidth = 1, i.strokeStyle = d[r].borderColor, i.strokeRect(h, t.y, a, a), i.fillStyle = d[r].backgroundColor, i.fillRect(h + 1, t.y + 1, a - 2, a - 2), i.fillStyle = n), c(o) }), ut.each(o.after, c) }), u = 0, ut.each(e.afterBody, c), t.y -= o }, drawFooter: function (t, e, i) { var n = e.footer; n.length && (t.x = Ke(e, e._footerAlign), t.y += e.footerMarginTop, i.textAlign = e._footerAlign, i.textBaseline = "top", i.fillStyle = e.footerFontColor, i.font = ut.fontString(e.footerFontSize, e._footerFontStyle, e._footerFontFamily), ut.each(n, function (n) { i.fillText(n, t.x, t.y), t.y += e.footerFontSize + e.footerSpacing })) }, drawBackground: function (t, e, i, n) { i.fillStyle = e.backgroundColor, i.strokeStyle = e.borderColor, i.lineWidth = e.borderWidth; var a = e.xAlign, o = e.yAlign, r = t.x, s = t.y, l = n.width, d = n.height, u = e.cornerRadius; i.beginPath(), i.moveTo(r + u, s), "top" === o && this.drawCaret(t, n), i.lineTo(r + l - u, s), i.quadraticCurveTo(r + l, s, r + l, s + u), "center" === o && "right" === a && this.drawCaret(t, n), i.lineTo(r + l, s + d - u), i.quadraticCurveTo(r + l, s + d, r + l - u, s + d), "bottom" === o && this.drawCaret(t, n), i.lineTo(r + u, s + d), i.quadraticCurveTo(r, s + d, r, s + d - u), "center" === o && "left" === a && this.drawCaret(t, n), i.lineTo(r, s + u), i.quadraticCurveTo(r, s, r + u, s), i.closePath(), i.fill(), e.borderWidth > 0 && i.stroke() }, draw: function () { var t = this._chart.ctx, e = this._view; if (0 !== e.opacity) { var i = { width: e.width, height: e.height }, n = { x: e.x, y: e.y }, a = Math.abs(e.opacity < .001) ? 0 : e.opacity, o = e.title.length || e.beforeBody.length || e.body.length || e.afterBody.length || e.footer.length; this._options.enabled && o && (t.save(), t.globalAlpha = a, this.drawBackground(n, e, t, i), n.y += e.yPadding, this.drawTitle(n, e, t), this.drawBody(n, e, t), this.drawFooter(n, e, t), t.restore()) } }, handleEvent: function (t) { var e, i = this, n = i._options; return i._lastActive = i._lastActive || [], "mouseout" === t.type ? i._active = [] : i._active = i._chart.getElementsAtEventForMode(t, n.mode, n), (e = !ut.arrayEquals(i._active, i._lastActive)) && (i._lastActive = i._active, (n.enabled || n.custom) && (i._eventPosition = { x: t.x, y: t.y }, i.update(!0), i.pivot())), e } }), $e = qe, Je = Ze; Je.positioners = $e; var Qe = ut.valueOrDefault; function ti() { return ut.merge({}, [].slice.call(arguments), { merger: function (t, e, i, n) { if ("xAxes" === t || "yAxes" === t) { var a, o, r, s = i[t].length; for (e[t] || (e[t] = []), a = 0; a < s; ++a)r = i[t][a], o = Qe(r.type, "xAxes" === t ? "category" : "linear"), a >= e[t].length && e[t].push({}), !e[t][a].type || r.type && r.type !== e[t][a].type ? ut.merge(e[t][a], [He.getScaleDefaults(o), r]) : ut.merge(e[t][a], r) } else ut._merger(t, e, i, n) } }) } function ei() { return ut.merge({}, [].slice.call(arguments), { merger: function (t, e, i, n) { var a = e[t] || {}, o = i[t]; "scales" === t ? e[t] = ti(a, o) : "scale" === t ? e[t] = ut.merge(a, [He.getScaleDefaults(o.type), o]) : ut._merger(t, e, i, n) } }) } function ii(t) { return "top" === t || "bottom" === t } st._set("global", { elements: {}, events: ["mousemove", "mouseout", "click", "touchstart", "touchmove"], hover: { onHover: null, mode: "nearest", intersect: !0, animationDuration: 400 }, onClick: null, maintainAspectRatio: !0, responsive: !0, responsiveAnimationDuration: 0 }); var ni = function (t, e) { return this.construct(t, e), this }; ut.extend(ni.prototype, { construct: function (t, e) { var i = this; e = function (t) { var e = (t = t || {}).data = t.data || {}; return e.datasets = e.datasets || [], e.labels = e.labels || [], t.options = ei(st.global, st[t.type], t.options || {}), t }(e); var n = Ve.acquireContext(t, e), a = n && n.canvas, o = a && a.height, r = a && a.width; i.id = ut.uid(), i.ctx = n, i.canvas = a, i.config = e, i.width = r, i.height = o, i.aspectRatio = o ? r / o : null, i.options = e.options, i._bufferedRender = !1, i.chart = i, i.controller = i, ni.instances[i.id] = i, Object.defineProperty(i, "data", { get: function () { return i.config.data }, set: function (t) { i.config.data = t } }), n && a ? (i.initialize(), i.update()) : console.error("Failed to create chart: can't acquire context from the given item") }, initialize: function () { var t = this; return Ee.notify(t, "beforeInit"), ut.retinaScale(t, t.options.devicePixelRatio), t.bindEvents(), t.options.responsive && t.resize(!0), t.ensureScalesHaveIDs(), t.buildOrUpdateScales(), t.initToolTip(), Ee.notify(t, "afterInit"), t }, clear: function () { return ut.canvas.clear(this), this }, stop: function () { return bt.cancelAnimation(this), this }, resize: function (t) { var e = this, i = e.options, n = e.canvas, a = i.maintainAspectRatio && e.aspectRatio || null, o = Math.max(0, Math.floor(ut.getMaximumWidth(n))), r = Math.max(0, Math.floor(a ? o / a : ut.getMaximumHeight(n))); if ((e.width !== o || e.height !== r) && (n.width = e.width = o, n.height = e.height = r, n.style.width = o + "px", n.style.height = r + "px", ut.retinaScale(e, i.devicePixelRatio), !t)) { var s = { width: o, height: r }; Ee.notify(e, "resize", [s]), i.onResize && i.onResize(e, s), e.stop(), e.update({ duration: i.responsiveAnimationDuration }) } }, ensureScalesHaveIDs: function () { var t = this.options, e = t.scales || {}, i = t.scale; ut.each(e.xAxes, function (t, e) { t.id = t.id || "x-axis-" + e }), ut.each(e.yAxes, function (t, e) { t.id = t.id || "y-axis-" + e }), i && (i.id = i.id || "scale") }, buildOrUpdateScales: function () { var t = this, e = t.options, i = t.scales || {}, n = [], a = Object.keys(i).reduce(function (t, e) { return t[e] = !1, t }, {}); e.scales && (n = n.concat((e.scales.xAxes || []).map(function (t) { return { options: t, dtype: "category", dposition: "bottom" } }), (e.scales.yAxes || []).map(function (t) { return { options: t, dtype: "linear", dposition: "left" } }))), e.scale && n.push({ options: e.scale, dtype: "radialLinear", isDefault: !0, dposition: "chartArea" }), ut.each(n, function (e) { var n = e.options, o = n.id, r = Qe(n.type, e.dtype); ii(n.position) !== ii(e.dposition) && (n.position = e.dposition), a[o] = !0; var s = null; if (o in i && i[o].type === r) (s = i[o]).options = n, s.ctx = t.ctx, s.chart = t; else { var l = He.getScaleConstructor(r); if (!l) return; s = new l({ id: o, type: r, options: n, ctx: t.ctx, chart: t }), i[s.id] = s } s.mergeTicksOptions(), e.isDefault && (t.scale = s) }), ut.each(a, function (t, e) { t || delete i[e] }), t.scales = i, He.addScalesToLayout(this) }, buildOrUpdateControllers: function () { var t = this, e = []; return ut.each(t.data.datasets, function (i, n) { var a = t.getDatasetMeta(n), o = i.type || t.config.type; if (a.type && a.type !== o && (t.destroyDatasetMeta(n), a = t.getDatasetMeta(n)), a.type = o, a.controller) a.controller.updateIndex(n), a.controller.linkScales(); else { var r = ue[a.type]; if (void 0 === r) throw new Error('"' + a.type + '" is not a chart type.'); a.controller = new r(t, n), e.push(a.controller) } }, t), e }, resetElements: function () { var t = this; ut.each(t.data.datasets, function (e, i) { t.getDatasetMeta(i).controller.reset() }, t) }, reset: function () { this.resetElements(), this.tooltip.initialize() }, update: function (t) { var e, i, n = this; if (t && "object" == typeof t || (t = { duration: t, lazy: arguments[1] }), i = (e = n).options, ut.each(e.scales, function (t) { ke.removeBox(e, t) }), i = ei(st.global, st[e.config.type], i), e.options = e.config.options = i, e.ensureScalesHaveIDs(), e.buildOrUpdateScales(), e.tooltip._options = i.tooltips, e.tooltip.initialize(), Ee._invalidate(n), !1 !== Ee.notify(n, "beforeUpdate")) { n.tooltip._data = n.data; var a = n.buildOrUpdateControllers(); ut.each(n.data.datasets, function (t, e) { n.getDatasetMeta(e).controller.buildOrUpdateElements() }, n), n.updateLayout(), n.options.animation && n.options.animation.duration && ut.each(a, function (t) { t.reset() }), n.updateDatasets(), n.tooltip.initialize(), n.lastActive = [], Ee.notify(n, "afterUpdate"), n._bufferedRender ? n._bufferedRequest = { duration: t.duration, easing: t.easing, lazy: t.lazy } : n.render(t) } }, updateLayout: function () { !1 !== Ee.notify(this, "beforeLayout") && (ke.update(this, this.width, this.height), Ee.notify(this, "afterScaleUpdate"), Ee.notify(this, "afterLayout")) }, updateDatasets: function () { if (!1 !== Ee.notify(this, "beforeDatasetsUpdate")) { for (var t = 0, e = this.data.datasets.length; t < e; ++t)this.updateDataset(t); Ee.notify(this, "afterDatasetsUpdate") } }, updateDataset: function (t) { var e = this.getDatasetMeta(t), i = { meta: e, index: t }; !1 !== Ee.notify(this, "beforeDatasetUpdate", [i]) && (e.controller.update(), Ee.notify(this, "afterDatasetUpdate", [i])) }, render: function (t) { var e = this; t && "object" == typeof t || (t = { duration: t, lazy: arguments[1] }); var i = e.options.animation, n = Qe(t.duration, i && i.duration), a = t.lazy; if (!1 !== Ee.notify(e, "beforeRender")) { var o = function (t) { Ee.notify(e, "afterRender"), ut.callback(i && i.onComplete, [t], e) }; if (i && n) { var r = new vt({ numSteps: n / 16.66, easing: t.easing || i.easing, render: function (t, e) { var i = ut.easing.effects[e.easing], n = e.currentStep, a = n / e.numSteps; t.draw(i(a), a, n) }, onAnimationProgress: i.onProgress, onAnimationComplete: o }); bt.addAnimation(e, r, n, a) } else e.draw(), o(new vt({ numSteps: 0, chart: e })); return e } }, draw: function (t) { var e = this; e.clear(), ut.isNullOrUndef(t) && (t = 1), e.transition(t), e.width <= 0 || e.height <= 0 || !1 !== Ee.notify(e, "beforeDraw", [t]) && (ut.each(e.boxes, function (t) { t.draw(e.chartArea) }, e), e.drawDatasets(t), e._drawTooltip(t), Ee.notify(e, "afterDraw", [t])) }, transition: function (t) { for (var e = 0, i = (this.data.datasets || []).length; e < i; ++e)this.isDatasetVisible(e) && this.getDatasetMeta(e).controller.transition(t); this.tooltip.transition(t) }, drawDatasets: function (t) { var e = this; if (!1 !== Ee.notify(e, "beforeDatasetsDraw", [t])) { for (var i = (e.data.datasets || []).length - 1; i >= 0; --i)e.isDatasetVisible(i) && e.drawDataset(i, t); Ee.notify(e, "afterDatasetsDraw", [t]) } }, drawDataset: function (t, e) { var i = this.getDatasetMeta(t), n = { meta: i, index: t, easingValue: e }; !1 !== Ee.notify(this, "beforeDatasetDraw", [n]) && (i.controller.draw(e), Ee.notify(this, "afterDatasetDraw", [n])) }, _drawTooltip: function (t) { var e = this.tooltip, i = { tooltip: e, easingValue: t }; !1 !== Ee.notify(this, "beforeTooltipDraw", [i]) && (e.draw(), Ee.notify(this, "afterTooltipDraw", [i])) }, getElementAtEvent: function (t) { return ve.modes.single(this, t) }, getElementsAtEvent: function (t) { return ve.modes.label(this, t, { intersect: !0 }) }, getElementsAtXAxis: function (t) { return ve.modes["x-axis"](this, t, { intersect: !0 }) }, getElementsAtEventForMode: function (t, e, i) { var n = ve.modes[e]; return "function" == typeof n ? n(this, t, i) : [] }, getDatasetAtEvent: function (t) { return ve.modes.dataset(this, t, { intersect: !0 }) }, getDatasetMeta: function (t) { var e = this.data.datasets[t]; e._meta || (e._meta = {}); var i = e._meta[this.id]; return i || (i = e._meta[this.id] = { type: null, data: [], dataset: null, controller: null, hidden: null, xAxisID: null, yAxisID: null }), i }, getVisibleDatasetCount: function () { for (var t = 0, e = 0, i = this.data.datasets.length; e < i; ++e)this.isDatasetVisible(e) && t++; return t }, isDatasetVisible: function (t) { var e = this.getDatasetMeta(t); return "boolean" == typeof e.hidden ? !e.hidden : !this.data.datasets[t].hidden }, generateLegend: function () { return this.options.legendCallback(this) }, destroyDatasetMeta: function (t) { var e = this.id, i = this.data.datasets[t], n = i._meta && i._meta[e]; n && (n.controller.destroy(), delete i._meta[e]) }, destroy: function () { var t, e, i = this, n = i.canvas; for (i.stop(), t = 0, e = i.data.datasets.length; t < e; ++t)i.destroyDatasetMeta(t); n && (i.unbindEvents(), ut.canvas.clear(i), Ve.releaseContext(i.ctx), i.canvas = null, i.ctx = null), Ee.notify(i, "destroy"), delete ni.instances[i.id] }, toBase64Image: function () { return this.canvas.toDataURL.apply(this.canvas, arguments) }, initToolTip: function () { var t = this; t.tooltip = new Je({ _chart: t, _chartInstance: t, _data: t.data, _options: t.options.tooltips }, t) }, bindEvents: function () { var t = this, e = t._listeners = {}, i = function () { t.eventHandler.apply(t, arguments) }; ut.each(t.options.events, function (n) { Ve.addEventListener(t, n, i), e[n] = i }), t.options.responsive && (i = function () { t.resize() }, Ve.addEventListener(t, "resize", i), e.resize = i) }, unbindEvents: function () { var t = this, e = t._listeners; e && (delete t._listeners, ut.each(e, function (e, i) { Ve.removeEventListener(t, i, e) })) }, updateHoverStyle: function (t, e, i) { var n, a, o, r = i ? "setHoverStyle" : "removeHoverStyle"; for (a = 0, o = t.length; a < o; ++a)(n = t[a]) && this.getDatasetMeta(n._datasetIndex).controller[r](n) }, eventHandler: function (t) { var e = this, i = e.tooltip; if (!1 !== Ee.notify(e, "beforeEvent", [t])) { e._bufferedRender = !0, e._bufferedRequest = null; var n = e.handleEvent(t); i && (n = i._start ? i.handleEvent(t) : n | i.handleEvent(t)), Ee.notify(e, "afterEvent", [t]); var a = e._bufferedRequest; return a ? e.render(a) : n && !e.animating && (e.stop(), e.render({ duration: e.options.hover.animationDuration, lazy: !0 })), e._bufferedRender = !1, e._bufferedRequest = null, e } }, handleEvent: function (t) { var e, i = this, n = i.options || {}, a = n.hover; return i.lastActive = i.lastActive || [], "mouseout" === t.type ? i.active = [] : i.active = i.getElementsAtEventForMode(t, a.mode, a), ut.callback(n.onHover || n.hover.onHover, [t.native, i.active], i), "mouseup" !== t.type && "click" !== t.type || n.onClick && n.onClick.call(i, t.native, i.active), i.lastActive.length && i.updateHoverStyle(i.lastActive, a.mode, !1), i.active.length && a.mode && i.updateHoverStyle(i.active, a.mode, !0), e = !ut.arrayEquals(i.active, i.lastActive), i.lastActive = i.active, e } }), ni.instances = {}; var ai = ni; ni.Controller = ni, ni.types = {}, ut.configMerge = ei, ut.scaleMerge = ti; function oi() { throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.") } function ri(t) { this.options = t || {} } ut.extend(ri.prototype, { formats: oi, parse: oi, format: oi, add: oi, diff: oi, startOf: oi, endOf: oi, _create: function (t) { return t } }), ri.override = function (t) { ut.extend(ri.prototype, t) }; var si = { _date: ri }, li = { formatters: { values: function (t) { return ut.isArray(t) ? t : "" + t }, linear: function (t, e, i) { var n = i.length > 3 ? i[2] - i[1] : i[1] - i[0]; Math.abs(n) > 1 && t !== Math.floor(t) && (n = t - Math.floor(t)); var a = ut.log10(Math.abs(n)), o = ""; if (0 !== t) if (Math.max(Math.abs(i[0]), Math.abs(i[i.length - 1])) < 1e-4) { var r = ut.log10(Math.abs(t)); o = t.toExponential(Math.floor(r) - Math.floor(a)) } else { var s = -1 * Math.floor(a); s = Math.max(Math.min(s, 20), 0), o = t.toFixed(s) } else o = "0"; return o }, logarithmic: function (t, e, i) { var n = t / Math.pow(10, Math.floor(ut.log10(t))); return 0 === t ? "0" : 1 === n || 2 === n || 5 === n || 0 === e || e === i.length - 1 ? t.toExponential() : "" } } }, di = ut.valueOrDefault, ui = ut.valueAtIndexOrDefault; function hi(t) { var e, i, n = []; for (e = 0, i = t.length; e < i; ++e)n.push(t[e].label); return n } function ci(t, e, i) { return ut.isArray(e) ? ut.longestText(t, i, e) : t.measureText(e).width } st._set("scale", { display: !0, position: "left", offset: !1, gridLines: { display: !0, color: "rgba(0, 0, 0, 0.1)", lineWidth: 1, drawBorder: !0, drawOnChartArea: !0, drawTicks: !0, tickMarkLength: 10, zeroLineWidth: 1, zeroLineColor: "rgba(0,0,0,0.25)", zeroLineBorderDash: [], zeroLineBorderDashOffset: 0, offsetGridLines: !1, borderDash: [], borderDashOffset: 0 }, scaleLabel: { display: !1, labelString: "", padding: { top: 4, bottom: 4 } }, ticks: { beginAtZero: !1, minRotation: 0, maxRotation: 50, mirror: !1, padding: 0, reverse: !1, display: !0, autoSkip: !0, autoSkipPadding: 0, labelOffset: 0, callback: li.formatters.values, minor: {}, major: {} } }); var fi = pt.extend({ getPadding: function () { return { left: this.paddingLeft || 0, top: this.paddingTop || 0, right: this.paddingRight || 0, bottom: this.paddingBottom || 0 } }, getTicks: function () { return this._ticks }, mergeTicksOptions: function () { var t = this.options.ticks; for (var e in !1 === t.minor && (t.minor = { display: !1 }), !1 === t.major && (t.major = { display: !1 }), t) "major" !== e && "minor" !== e && (void 0 === t.minor[e] && (t.minor[e] = t[e]), void 0 === t.major[e] && (t.major[e] = t[e])) }, beforeUpdate: function () { ut.callback(this.options.beforeUpdate, [this]) }, update: function (t, e, i) { var n, a, o, r, s, l, d = this; for (d.beforeUpdate(), d.maxWidth = t, d.maxHeight = e, d.margins = ut.extend({ left: 0, right: 0, top: 0, bottom: 0 }, i), d._maxLabelLines = 0, d.longestLabelWidth = 0, d.longestTextCache = d.longestTextCache || {}, d.beforeSetDimensions(), d.setDimensions(), d.afterSetDimensions(), d.beforeDataLimits(), d.determineDataLimits(), d.afterDataLimits(), d.beforeBuildTicks(), s = d.buildTicks() || [], s = d.afterBuildTicks(s) || s, d.beforeTickToLabelConversion(), o = d.convertTicksToLabels(s) || d.ticks, d.afterTickToLabelConversion(), d.ticks = o, n = 0, a = o.length; n < a; ++n)r = o[n], (l = s[n]) ? l.label = r : s.push(l = { label: r, major: !1 }); return d._ticks = s, d.beforeCalculateTickRotation(), d.calculateTickRotation(), d.afterCalculateTickRotation(), d.beforeFit(), d.fit(), d.afterFit(), d.afterUpdate(), d.minSize }, afterUpdate: function () { ut.callback(this.options.afterUpdate, [this]) }, beforeSetDimensions: function () { ut.callback(this.options.beforeSetDimensions, [this]) }, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0 }, afterSetDimensions: function () { ut.callback(this.options.afterSetDimensions, [this]) }, beforeDataLimits: function () { ut.callback(this.options.beforeDataLimits, [this]) }, determineDataLimits: ut.noop, afterDataLimits: function () { ut.callback(this.options.afterDataLimits, [this]) }, beforeBuildTicks: function () { ut.callback(this.options.beforeBuildTicks, [this]) }, buildTicks: ut.noop, afterBuildTicks: function (t) { var e = this; return ut.isArray(t) && t.length ? ut.callback(e.options.afterBuildTicks, [e, t]) : (e.ticks = ut.callback(e.options.afterBuildTicks, [e, e.ticks]) || e.ticks, t) }, beforeTickToLabelConversion: function () { ut.callback(this.options.beforeTickToLabelConversion, [this]) }, convertTicksToLabels: function () { var t = this.options.ticks; this.ticks = this.ticks.map(t.userCallback || t.callback, this) }, afterTickToLabelConversion: function () { ut.callback(this.options.afterTickToLabelConversion, [this]) }, beforeCalculateTickRotation: function () { ut.callback(this.options.beforeCalculateTickRotation, [this]) }, calculateTickRotation: function () { var t = this, e = t.ctx, i = t.options.ticks, n = hi(t._ticks), a = ut.options._parseFont(i); e.font = a.string; var o = i.minRotation || 0; if (n.length && t.options.display && t.isHorizontal()) for (var r, s = ut.longestText(e, a.string, n, t.longestTextCache), l = s, d = t.getPixelForTick(1) - t.getPixelForTick(0) - 6; l > d && o < i.maxRotation;) { var u = ut.toRadians(o); if (r = Math.cos(u), Math.sin(u) * s > t.maxHeight) { o--; break } o++, l = r * s } t.labelRotation = o }, afterCalculateTickRotation: function () { ut.callback(this.options.afterCalculateTickRotation, [this]) }, beforeFit: function () { ut.callback(this.options.beforeFit, [this]) }, fit: function () { var t = this, e = t.minSize = { width: 0, height: 0 }, i = hi(t._ticks), n = t.options, a = n.ticks, o = n.scaleLabel, r = n.gridLines, s = t._isVisible(), l = n.position, d = t.isHorizontal(), u = ut.options._parseFont, h = u(a), c = n.gridLines.tickMarkLength; if (e.width = d ? t.isFullWidth() ? t.maxWidth - t.margins.left - t.margins.right : t.maxWidth : s && r.drawTicks ? c : 0, e.height = d ? s && r.drawTicks ? c : 0 : t.maxHeight, o.display && s) { var f = u(o), g = ut.options.toPadding(o.padding), p = f.lineHeight + g.height; d ? e.height += p : e.width += p } if (a.display && s) { var m = ut.longestText(t.ctx, h.string, i, t.longestTextCache), v = ut.numberOfLabelLines(i), b = .5 * h.size, x = t.options.ticks.padding; if (t._maxLabelLines = v, t.longestLabelWidth = m, d) { var y = ut.toRadians(t.labelRotation), k = Math.cos(y), w = Math.sin(y) * m + h.lineHeight * v + b; e.height = Math.min(t.maxHeight, e.height + w + x), t.ctx.font = h.string; var M, _, C = ci(t.ctx, i[0], h.string), S = ci(t.ctx, i[i.length - 1], h.string), P = t.getPixelForTick(0) - t.left, I = t.right - t.getPixelForTick(i.length - 1); 0 !== t.labelRotation ? (M = "bottom" === l ? k * C : k * b, _ = "bottom" === l ? k * b : k * S) : (M = C / 2, _ = S / 2), t.paddingLeft = Math.max(M - P, 0) + 3, t.paddingRight = Math.max(_ - I, 0) + 3 } else a.mirror ? m = 0 : m += x + b, e.width = Math.min(t.maxWidth, e.width + m), t.paddingTop = h.size / 2, t.paddingBottom = h.size / 2 } t.handleMargins(), t.width = e.width, t.height = e.height }, handleMargins: function () { var t = this; t.margins && (t.paddingLeft = Math.max(t.paddingLeft - t.margins.left, 0), t.paddingTop = Math.max(t.paddingTop - t.margins.top, 0), t.paddingRight = Math.max(t.paddingRight - t.margins.right, 0), t.paddingBottom = Math.max(t.paddingBottom - t.margins.bottom, 0)) }, afterFit: function () { ut.callback(this.options.afterFit, [this]) }, isHorizontal: function () { return "top" === this.options.position || "bottom" === this.options.position }, isFullWidth: function () { return this.options.fullWidth }, getRightValue: function (t) { if (ut.isNullOrUndef(t)) return NaN; if (("number" == typeof t || t instanceof Number) && !isFinite(t)) return NaN; if (t) if (this.isHorizontal()) { if (void 0 !== t.x) return this.getRightValue(t.x) } else if (void 0 !== t.y) return this.getRightValue(t.y); return t }, getLabelForIndex: ut.noop, getPixelForValue: ut.noop, getValueForPixel: ut.noop, getPixelForTick: function (t) { var e = this, i = e.options.offset; if (e.isHorizontal()) { var n = (e.width - (e.paddingLeft + e.paddingRight)) / Math.max(e._ticks.length - (i ? 0 : 1), 1), a = n * t + e.paddingLeft; i && (a += n / 2); var o = e.left + a; return o += e.isFullWidth() ? e.margins.left : 0 } var r = e.height - (e.paddingTop + e.paddingBottom); return e.top + t * (r / (e._ticks.length - 1)) }, getPixelForDecimal: function (t) { var e = this; if (e.isHorizontal()) { var i = (e.width - (e.paddingLeft + e.paddingRight)) * t + e.paddingLeft, n = e.left + i; return n += e.isFullWidth() ? e.margins.left : 0 } return e.top + t * e.height }, getBasePixel: function () { return this.getPixelForValue(this.getBaseValue()) }, getBaseValue: function () { var t = this.min, e = this.max; return this.beginAtZero ? 0 : t < 0 && e < 0 ? e : t > 0 && e > 0 ? t : 0 }, _autoSkip: function (t) { var e, i, n = this, a = n.isHorizontal(), o = n.options.ticks.minor, r = t.length, s = !1, l = o.maxTicksLimit, d = n._tickSize() * (r - 1), u = a ? n.width - (n.paddingLeft + n.paddingRight) : n.height - (n.paddingTop + n.PaddingBottom), h = []; for (d > u && (s = 1 + Math.floor(d / u)), r > l && (s = Math.max(s, 1 + Math.floor(r / l))), e = 0; e < r; e++)i = t[e], s > 1 && e % s > 0 && delete i.label, h.push(i); return h }, _tickSize: function () { var t = this, e = t.isHorizontal(), i = t.options.ticks.minor, n = ut.toRadians(t.labelRotation), a = Math.abs(Math.cos(n)), o = Math.abs(Math.sin(n)), r = i.autoSkipPadding || 0, s = t.longestLabelWidth + r || 0, l = ut.options._parseFont(i), d = t._maxLabelLines * l.lineHeight + r || 0; return e ? d * a > s * o ? s / a : d / o : d * o < s * a ? d / a : s / o }, _isVisible: function () { var t, e, i, n = this.chart, a = this.options.display; if ("auto" !== a) return !!a; for (t = 0, e = n.data.datasets.length; t < e; ++t)if (n.isDatasetVisible(t) && ((i = n.getDatasetMeta(t)).xAxisID === this.id || i.yAxisID === this.id)) return !0; return !1 }, draw: function (t) { var e = this, i = e.options; if (e._isVisible()) { var n, a, o, r = e.chart, s = e.ctx, l = st.global.defaultFontColor, d = i.ticks.minor, u = i.ticks.major || d, h = i.gridLines, c = i.scaleLabel, f = i.position, g = 0 !== e.labelRotation, p = d.mirror, m = e.isHorizontal(), v = ut.options._parseFont, b = d.display && d.autoSkip ? e._autoSkip(e.getTicks()) : e.getTicks(), x = di(d.fontColor, l), y = v(d), k = y.lineHeight, w = di(u.fontColor, l), M = v(u), _ = d.padding, C = d.labelOffset, S = h.drawTicks ? h.tickMarkLength : 0, P = di(c.fontColor, l), I = v(c), A = ut.options.toPadding(c.padding), D = ut.toRadians(e.labelRotation), T = [], F = h.drawBorder ? ui(h.lineWidth, 0, 0) : 0, L = ut._alignPixel; "top" === f ? (n = L(r, e.bottom, F), a = e.bottom - S, o = n - F / 2) : "bottom" === f ? (n = L(r, e.top, F), a = n + F / 2, o = e.top + S) : "left" === f ? (n = L(r, e.right, F), a = e.right - S, o = n - F / 2) : (n = L(r, e.left, F), a = n + F / 2, o = e.left + S); if (ut.each(b, function (n, s) { if (!ut.isNullOrUndef(n.label)) { var l, d, u, c, v, b, x, y, w, M, P, I, A, R, O, z, B = n.label; s === e.zeroLineIndex && i.offset === h.offsetGridLines ? (l = h.zeroLineWidth, d = h.zeroLineColor, u = h.zeroLineBorderDash || [], c = h.zeroLineBorderDashOffset || 0) : (l = ui(h.lineWidth, s), d = ui(h.color, s), u = h.borderDash || [], c = h.borderDashOffset || 0); var N = ut.isArray(B) ? B.length : 1, W = function (t, e, i) { var n = t.getPixelForTick(e); return i && (1 === t.getTicks().length ? n -= t.isHorizontal() ? Math.max(n - t.left, t.right - n) : Math.max(n - t.top, t.bottom - n) : n -= 0 === e ? (t.getPixelForTick(1) - n) / 2 : (n - t.getPixelForTick(e - 1)) / 2), n }(e, s, h.offsetGridLines); if (m) { var V = S + _; W < e.left - 1e-7 && (d = "rgba(0,0,0,0)"), v = x = w = P = L(r, W, l), b = a, y = o, A = e.getPixelForTick(s) + C, "top" === f ? (M = L(r, t.top, F) + F / 2, I = t.bottom, O = ((g ? 1 : .5) - N) * k, z = g ? "left" : "center", R = e.bottom - V) : (M = t.top, I = L(r, t.bottom, F) - F / 2, O = (g ? 0 : .5) * k, z = g ? "right" : "center", R = e.top + V) } else { var E = (p ? 0 : S) + _; W < e.top - 1e-7 && (d = "rgba(0,0,0,0)"), v = a, x = o, b = y = M = I = L(r, W, l), R = e.getPixelForTick(s) + C, O = (1 - N) * k / 2, "left" === f ? (w = L(r, t.left, F) + F / 2, P = t.right, z = p ? "left" : "right", A = e.right - E) : (w = t.left, P = L(r, t.right, F) - F / 2, z = p ? "right" : "left", A = e.left + E) } T.push({ tx1: v, ty1: b, tx2: x, ty2: y, x1: w, y1: M, x2: P, y2: I, labelX: A, labelY: R, glWidth: l, glColor: d, glBorderDash: u, glBorderDashOffset: c, rotation: -1 * D, label: B, major: n.major, textOffset: O, textAlign: z }) } }), ut.each(T, function (t) { var e = t.glWidth, i = t.glColor; if (h.display && e && i && (s.save(), s.lineWidth = e, s.strokeStyle = i, s.setLineDash && (s.setLineDash(t.glBorderDash), s.lineDashOffset = t.glBorderDashOffset), s.beginPath(), h.drawTicks && (s.moveTo(t.tx1, t.ty1), s.lineTo(t.tx2, t.ty2)), h.drawOnChartArea && (s.moveTo(t.x1, t.y1), s.lineTo(t.x2, t.y2)), s.stroke(), s.restore()), d.display) { s.save(), s.translate(t.labelX, t.labelY), s.rotate(t.rotation), s.font = t.major ? M.string : y.string, s.fillStyle = t.major ? w : x, s.textBaseline = "middle", s.textAlign = t.textAlign; var n = t.label, a = t.textOffset; if (ut.isArray(n)) for (var o = 0; o < n.length; ++o)s.fillText("" + n[o], 0, a), a += k; else s.fillText(n, 0, a); s.restore() } }), c.display) { var R, O, z = 0, B = I.lineHeight / 2; if (m) R = e.left + (e.right - e.left) / 2, O = "bottom" === f ? e.bottom - B - A.bottom : e.top + B + A.top; else { var N = "left" === f; R = N ? e.left + B + A.top : e.right - B - A.top, O = e.top + (e.bottom - e.top) / 2, z = N ? -.5 * Math.PI : .5 * Math.PI } s.save(), s.translate(R, O), s.rotate(z), s.textAlign = "center", s.textBaseline = "middle", s.fillStyle = P, s.font = I.string, s.fillText(c.labelString, 0, 0), s.restore() } if (F) { var W, V, E, H, j = F, q = ui(h.lineWidth, b.length - 1, 0); m ? (W = L(r, e.left, j) - j / 2, V = L(r, e.right, q) + q / 2, E = H = n) : (E = L(r, e.top, j) - j / 2, H = L(r, e.bottom, q) + q / 2, W = V = n), s.lineWidth = F, s.strokeStyle = ui(h.color, 0), s.beginPath(), s.moveTo(W, E), s.lineTo(V, H), s.stroke() } } } }), gi = fi.extend({ getLabels: function () { var t = this.chart.data; return this.options.labels || (this.isHorizontal() ? t.xLabels : t.yLabels) || t.labels }, determineDataLimits: function () { var t, e = this, i = e.getLabels(); e.minIndex = 0, e.maxIndex = i.length - 1, void 0 !== e.options.ticks.min && (t = i.indexOf(e.options.ticks.min), e.minIndex = -1 !== t ? t : e.minIndex), void 0 !== e.options.ticks.max && (t = i.indexOf(e.options.ticks.max), e.maxIndex = -1 !== t ? t : e.maxIndex), e.min = i[e.minIndex], e.max = i[e.maxIndex] }, buildTicks: function () { var t = this, e = t.getLabels(); t.ticks = 0 === t.minIndex && t.maxIndex === e.length - 1 ? e : e.slice(t.minIndex, t.maxIndex + 1) }, getLabelForIndex: function (t, e) { var i = this, n = i.chart; return n.getDatasetMeta(e).controller._getValueScaleId() === i.id ? i.getRightValue(n.data.datasets[e].data[t]) : i.ticks[t - i.minIndex] }, getPixelForValue: function (t, e) { var i, n = this, a = n.options.offset, o = Math.max(n.maxIndex + 1 - n.minIndex - (a ? 0 : 1), 1); if (null != t && (i = n.isHorizontal() ? t.x : t.y), void 0 !== i || void 0 !== t && isNaN(e)) { t = i || t; var r = n.getLabels().indexOf(t); e = -1 !== r ? r : e } if (n.isHorizontal()) { var s = n.width / o, l = s * (e - n.minIndex); return a && (l += s / 2), n.left + l } var d = n.height / o, u = d * (e - n.minIndex); return a && (u += d / 2), n.top + u }, getPixelForTick: function (t) { return this.getPixelForValue(this.ticks[t], t + this.minIndex, null) }, getValueForPixel: function (t) { var e = this, i = e.options.offset, n = Math.max(e._ticks.length - (i ? 0 : 1), 1), a = e.isHorizontal(), o = (a ? e.width : e.height) / n; return t -= a ? e.left : e.top, i && (t -= o / 2), (t <= 0 ? 0 : Math.round(t / o)) + e.minIndex }, getBasePixel: function () { return this.bottom } }), pi = { position: "bottom" }; gi._defaults = pi; var mi = ut.noop, vi = ut.isNullOrUndef; var bi = fi.extend({ getRightValue: function (t) { return "string" == typeof t ? +t : fi.prototype.getRightValue.call(this, t) }, handleTickRangeOptions: function () { var t = this, e = t.options.ticks; if (e.beginAtZero) { var i = ut.sign(t.min), n = ut.sign(t.max); i < 0 && n < 0 ? t.max = 0 : i > 0 && n > 0 && (t.min = 0) } var a = void 0 !== e.min || void 0 !== e.suggestedMin, o = void 0 !== e.max || void 0 !== e.suggestedMax; void 0 !== e.min ? t.min = e.min : void 0 !== e.suggestedMin && (null === t.min ? t.min = e.suggestedMin : t.min = Math.min(t.min, e.suggestedMin)), void 0 !== e.max ? t.max = e.max : void 0 !== e.suggestedMax && (null === t.max ? t.max = e.suggestedMax : t.max = Math.max(t.max, e.suggestedMax)), a !== o && t.min >= t.max && (a ? t.max = t.min + 1 : t.min = t.max - 1), t.min === t.max && (t.max++, e.beginAtZero || t.min--) }, getTickLimit: function () { var t, e = this.options.ticks, i = e.stepSize, n = e.maxTicksLimit; return i ? t = Math.ceil(this.max / i) - Math.floor(this.min / i) + 1 : (t = this._computeTickLimit(), n = n || 11), n && (t = Math.min(n, t)), t }, _computeTickLimit: function () { return Number.POSITIVE_INFINITY }, handleDirectionalChanges: mi, buildTicks: function () { var t = this, e = t.options.ticks, i = t.getTickLimit(), n = { maxTicks: i = Math.max(2, i), min: e.min, max: e.max, precision: e.precision, stepSize: ut.valueOrDefault(e.fixedStepSize, e.stepSize) }, a = t.ticks = function (t, e) { var i, n, a, o, r = [], s = t.stepSize, l = s || 1, d = t.maxTicks - 1, u = t.min, h = t.max, c = t.precision, f = e.min, g = e.max, p = ut.niceNum((g - f) / d / l) * l; if (p < 1e-14 && vi(u) && vi(h)) return [f, g]; (o = Math.ceil(g / p) - Math.floor(f / p)) > d && (p = ut.niceNum(o * p / d / l) * l), s || vi(c) ? i = Math.pow(10, ut._decimalPlaces(p)) : (i = Math.pow(10, c), p = Math.ceil(p * i) / i), n = Math.floor(f / p) * p, a = Math.ceil(g / p) * p, s && (!vi(u) && ut.almostWhole(u / p, p / 1e3) && (n = u), !vi(h) && ut.almostWhole(h / p, p / 1e3) && (a = h)), o = (a - n) / p, o = ut.almostEquals(o, Math.round(o), p / 1e3) ? Math.round(o) : Math.ceil(o), n = Math.round(n * i) / i, a = Math.round(a * i) / i, r.push(vi(u) ? n : u); for (var m = 1; m < o; ++m)r.push(Math.round((n + m * p) * i) / i); return r.push(vi(h) ? a : h), r }(n, t); t.handleDirectionalChanges(), t.max = ut.max(a), t.min = ut.min(a), e.reverse ? (a.reverse(), t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max) }, convertTicksToLabels: function () { var t = this; t.ticksAsNumbers = t.ticks.slice(), t.zeroLineIndex = t.ticks.indexOf(0), fi.prototype.convertTicksToLabels.call(t) } }), xi = { position: "left", ticks: { callback: li.formatters.linear } }, yi = bi.extend({ determineDataLimits: function () { var t = this, e = t.options, i = t.chart, n = i.data.datasets, a = t.isHorizontal(); function o(e) { return a ? e.xAxisID === t.id : e.yAxisID === t.id } t.min = null, t.max = null; var r = e.stacked; if (void 0 === r && ut.each(n, function (t, e) { if (!r) { var n = i.getDatasetMeta(e); i.isDatasetVisible(e) && o(n) && void 0 !== n.stack && (r = !0) } }), e.stacked || r) { var s = {}; ut.each(n, function (n, a) { var r = i.getDatasetMeta(a), l = [r.type, void 0 === e.stacked && void 0 === r.stack ? a : "", r.stack].join("."); void 0 === s[l] && (s[l] = { positiveValues: [], negativeValues: [] }); var d = s[l].positiveValues, u = s[l].negativeValues; i.isDatasetVisible(a) && o(r) && ut.each(n.data, function (i, n) { var a = +t.getRightValue(i); isNaN(a) || r.data[n].hidden || (d[n] = d[n] || 0, u[n] = u[n] || 0, e.relativePoints ? d[n] = 100 : a < 0 ? u[n] += a : d[n] += a) }) }), ut.each(s, function (e) { var i = e.positiveValues.concat(e.negativeValues), n = ut.min(i), a = ut.max(i); t.min = null === t.min ? n : Math.min(t.min, n), t.max = null === t.max ? a : Math.max(t.max, a) }) } else ut.each(n, function (e, n) { var a = i.getDatasetMeta(n); i.isDatasetVisible(n) && o(a) && ut.each(e.data, function (e, i) { var n = +t.getRightValue(e); isNaN(n) || a.data[i].hidden || (null === t.min ? t.min = n : n < t.min && (t.min = n), null === t.max ? t.max = n : n > t.max && (t.max = n)) }) }); t.min = isFinite(t.min) && !isNaN(t.min) ? t.min : 0, t.max = isFinite(t.max) && !isNaN(t.max) ? t.max : 1, this.handleTickRangeOptions() }, _computeTickLimit: function () { var t; return this.isHorizontal() ? Math.ceil(this.width / 40) : (t = ut.options._parseFont(this.options.ticks), Math.ceil(this.height / t.lineHeight)) }, handleDirectionalChanges: function () { this.isHorizontal() || this.ticks.reverse() }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, getPixelForValue: function (t) { var e = this, i = e.start, n = +e.getRightValue(t), a = e.end - i; return e.isHorizontal() ? e.left + e.width / a * (n - i) : e.bottom - e.height / a * (n - i) }, getValueForPixel: function (t) { var e = this, i = e.isHorizontal(), n = i ? e.width : e.height, a = (i ? t - e.left : e.bottom - t) / n; return e.start + (e.end - e.start) * a }, getPixelForTick: function (t) { return this.getPixelForValue(this.ticksAsNumbers[t]) } }), ki = xi; yi._defaults = ki; var wi = ut.valueOrDefault; var Mi = { position: "left", ticks: { callback: li.formatters.logarithmic } }; function _i(t, e) { return ut.isFinite(t) && t >= 0 ? t : e } var Ci = fi.extend({ determineDataLimits: function () { var t = this, e = t.options, i = t.chart, n = i.data.datasets, a = t.isHorizontal(); function o(e) { return a ? e.xAxisID === t.id : e.yAxisID === t.id } t.min = null, t.max = null, t.minNotZero = null; var r = e.stacked; if (void 0 === r && ut.each(n, function (t, e) { if (!r) { var n = i.getDatasetMeta(e); i.isDatasetVisible(e) && o(n) && void 0 !== n.stack && (r = !0) } }), e.stacked || r) { var s = {}; ut.each(n, function (n, a) { var r = i.getDatasetMeta(a), l = [r.type, void 0 === e.stacked && void 0 === r.stack ? a : "", r.stack].join("."); i.isDatasetVisible(a) && o(r) && (void 0 === s[l] && (s[l] = []), ut.each(n.data, function (e, i) { var n = s[l], a = +t.getRightValue(e); isNaN(a) || r.data[i].hidden || a < 0 || (n[i] = n[i] || 0, n[i] += a) })) }), ut.each(s, function (e) { if (e.length > 0) { var i = ut.min(e), n = ut.max(e); t.min = null === t.min ? i : Math.min(t.min, i), t.max = null === t.max ? n : Math.max(t.max, n) } }) } else ut.each(n, function (e, n) { var a = i.getDatasetMeta(n); i.isDatasetVisible(n) && o(a) && ut.each(e.data, function (e, i) { var n = +t.getRightValue(e); isNaN(n) || a.data[i].hidden || n < 0 || (null === t.min ? t.min = n : n < t.min && (t.min = n), null === t.max ? t.max = n : n > t.max && (t.max = n), 0 !== n && (null === t.minNotZero || n < t.minNotZero) && (t.minNotZero = n)) }) }); this.handleTickRangeOptions() }, handleTickRangeOptions: function () { var t = this, e = t.options.ticks; t.min = _i(e.min, t.min), t.max = _i(e.max, t.max), t.min === t.max && (0 !== t.min && null !== t.min ? (t.min = Math.pow(10, Math.floor(ut.log10(t.min)) - 1), t.max = Math.pow(10, Math.floor(ut.log10(t.max)) + 1)) : (t.min = 1, t.max = 10)), null === t.min && (t.min = Math.pow(10, Math.floor(ut.log10(t.max)) - 1)), null === t.max && (t.max = 0 !== t.min ? Math.pow(10, Math.floor(ut.log10(t.min)) + 1) : 10), null === t.minNotZero && (t.min > 0 ? t.minNotZero = t.min : t.max < 1 ? t.minNotZero = Math.pow(10, Math.floor(ut.log10(t.max))) : t.minNotZero = 1) }, buildTicks: function () { var t = this, e = t.options.ticks, i = !t.isHorizontal(), n = { min: _i(e.min), max: _i(e.max) }, a = t.ticks = function (t, e) { var i, n, a = [], o = wi(t.min, Math.pow(10, Math.floor(ut.log10(e.min)))), r = Math.floor(ut.log10(e.max)), s = Math.ceil(e.max / Math.pow(10, r)); 0 === o ? (i = Math.floor(ut.log10(e.minNotZero)), n = Math.floor(e.minNotZero / Math.pow(10, i)), a.push(o), o = n * Math.pow(10, i)) : (i = Math.floor(ut.log10(o)), n = Math.floor(o / Math.pow(10, i))); var l = i < 0 ? Math.pow(10, Math.abs(i)) : 1; do { a.push(o), 10 == ++n && (n = 1, l = ++i >= 0 ? 1 : l), o = Math.round(n * Math.pow(10, i) * l) / l } while (i < r || i === r && n < s); var d = wi(t.max, o); return a.push(d), a }(n, t); t.max = ut.max(a), t.min = ut.min(a), e.reverse ? (i = !i, t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max), i && a.reverse() }, convertTicksToLabels: function () { this.tickValues = this.ticks.slice(), fi.prototype.convertTicksToLabels.call(this) }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, getPixelForTick: function (t) { return this.getPixelForValue(this.tickValues[t]) }, _getFirstTickValue: function (t) { var e = Math.floor(ut.log10(t)); return Math.floor(t / Math.pow(10, e)) * Math.pow(10, e) }, getPixelForValue: function (t) { var e, i, n, a, o, r = this, s = r.options.ticks, l = s.reverse, d = ut.log10, u = r._getFirstTickValue(r.minNotZero), h = 0; return t = +r.getRightValue(t), l ? (n = r.end, a = r.start, o = -1) : (n = r.start, a = r.end, o = 1), r.isHorizontal() ? (e = r.width, i = l ? r.right : r.left) : (e = r.height, o *= -1, i = l ? r.top : r.bottom), t !== n && (0 === n && (e -= h = wi(s.fontSize, st.global.defaultFontSize), n = u), 0 !== t && (h += e / (d(a) - d(n)) * (d(t) - d(n))), i += o * h), i }, getValueForPixel: function (t) { var e, i, n, a, o = this, r = o.options.ticks, s = r.reverse, l = ut.log10, d = o._getFirstTickValue(o.minNotZero); if (s ? (i = o.end, n = o.start) : (i = o.start, n = o.end), o.isHorizontal() ? (e = o.width, a = s ? o.right - t : t - o.left) : (e = o.height, a = s ? t - o.top : o.bottom - t), a !== i) { if (0 === i) { var u = wi(r.fontSize, st.global.defaultFontSize); a -= u, e -= u, i = d } a *= l(n) - l(i), a /= e, a = Math.pow(10, l(i) + a) } return a } }), Si = Mi; Ci._defaults = Si; var Pi = ut.valueOrDefault, Ii = ut.valueAtIndexOrDefault, Ai = ut.options.resolve, Di = { display: !0, animate: !0, position: "chartArea", angleLines: { display: !0, color: "rgba(0, 0, 0, 0.1)", lineWidth: 1, borderDash: [], borderDashOffset: 0 }, gridLines: { circular: !1 }, ticks: { showLabelBackdrop: !0, backdropColor: "rgba(255,255,255,0.75)", backdropPaddingY: 2, backdropPaddingX: 2, callback: li.formatters.linear }, pointLabels: { display: !0, fontSize: 10, callback: function (t) { return t } } }; function Ti(t) { var e = t.options; return e.angleLines.display || e.pointLabels.display ? t.chart.data.labels.length : 0 } function Fi(t) { var e = t.ticks; return e.display && t.display ? Pi(e.fontSize, st.global.defaultFontSize) + 2 * e.backdropPaddingY : 0 } function Li(t, e, i, n, a) { return t === n || t === a ? { start: e - i / 2, end: e + i / 2 } : t < n || t > a ? { start: e - i, end: e } : { start: e, end: e + i } } function Ri(t) { return 0 === t || 180 === t ? "center" : t < 180 ? "left" : "right" } function Oi(t, e, i, n) { var a, o, r = i.y + n / 2; if (ut.isArray(e)) for (a = 0, o = e.length; a < o; ++a)t.fillText(e[a], i.x, r), r += n; else t.fillText(e, i.x, r) } function zi(t, e, i) { 90 === t || 270 === t ? i.y -= e.h / 2 : (t > 270 || t < 90) && (i.y -= e.h) } function Bi(t) { return ut.isNumber(t) ? t : 0 } var Ni = bi.extend({ setDimensions: function () { var t = this; t.width = t.maxWidth, t.height = t.maxHeight, t.paddingTop = Fi(t.options) / 2, t.xCenter = Math.floor(t.width / 2), t.yCenter = Math.floor((t.height - t.paddingTop) / 2), t.drawingArea = Math.min(t.height - t.paddingTop, t.width) / 2 }, determineDataLimits: function () { var t = this, e = t.chart, i = Number.POSITIVE_INFINITY, n = Number.NEGATIVE_INFINITY; ut.each(e.data.datasets, function (a, o) { if (e.isDatasetVisible(o)) { var r = e.getDatasetMeta(o); ut.each(a.data, function (e, a) { var o = +t.getRightValue(e); isNaN(o) || r.data[a].hidden || (i = Math.min(o, i), n = Math.max(o, n)) }) } }), t.min = i === Number.POSITIVE_INFINITY ? 0 : i, t.max = n === Number.NEGATIVE_INFINITY ? 0 : n, t.handleTickRangeOptions() }, _computeTickLimit: function () { return Math.ceil(this.drawingArea / Fi(this.options)) }, convertTicksToLabels: function () { var t = this; bi.prototype.convertTicksToLabels.call(t), t.pointLabels = t.chart.data.labels.map(t.options.pointLabels.callback, t) }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, fit: function () { var t = this.options; t.display && t.pointLabels.display ? function (t) { var e, i, n, a = ut.options._parseFont(t.options.pointLabels), o = { l: 0, r: t.width, t: 0, b: t.height - t.paddingTop }, r = {}; t.ctx.font = a.string, t._pointLabelSizes = []; var s, l, d, u = Ti(t); for (e = 0; e < u; e++) { n = t.getPointPosition(e, t.drawingArea + 5), s = t.ctx, l = a.lineHeight, d = t.pointLabels[e] || "", i = ut.isArray(d) ? { w: ut.longestText(s, s.font, d), h: d.length * l } : { w: s.measureText(d).width, h: l }, t._pointLabelSizes[e] = i; var h = t.getIndexAngle(e), c = ut.toDegrees(h) % 360, f = Li(c, n.x, i.w, 0, 180), g = Li(c, n.y, i.h, 90, 270); f.start < o.l && (o.l = f.start, r.l = h), f.end > o.r && (o.r = f.end, r.r = h), g.start < o.t && (o.t = g.start, r.t = h), g.end > o.b && (o.b = g.end, r.b = h) } t.setReductions(t.drawingArea, o, r) }(this) : this.setCenterPoint(0, 0, 0, 0) }, setReductions: function (t, e, i) { var n = this, a = e.l / Math.sin(i.l), o = Math.max(e.r - n.width, 0) / Math.sin(i.r), r = -e.t / Math.cos(i.t), s = -Math.max(e.b - (n.height - n.paddingTop), 0) / Math.cos(i.b); a = Bi(a), o = Bi(o), r = Bi(r), s = Bi(s), n.drawingArea = Math.min(Math.floor(t - (a + o) / 2), Math.floor(t - (r + s) / 2)), n.setCenterPoint(a, o, r, s) }, setCenterPoint: function (t, e, i, n) { var a = this, o = a.width - e - a.drawingArea, r = t + a.drawingArea, s = i + a.drawingArea, l = a.height - a.paddingTop - n - a.drawingArea; a.xCenter = Math.floor((r + o) / 2 + a.left), a.yCenter = Math.floor((s + l) / 2 + a.top + a.paddingTop) }, getIndexAngle: function (t) { return t * (2 * Math.PI / Ti(this)) + (this.chart.options && this.chart.options.startAngle ? this.chart.options.startAngle : 0) * Math.PI * 2 / 360 }, getDistanceFromCenterForValue: function (t) { var e = this; if (null === t) return 0; var i = e.drawingArea / (e.max - e.min); return e.options.ticks.reverse ? (e.max - t) * i : (t - e.min) * i }, getPointPosition: function (t, e) { var i = this.getIndexAngle(t) - Math.PI / 2; return { x: Math.cos(i) * e + this.xCenter, y: Math.sin(i) * e + this.yCenter } }, getPointPositionForValue: function (t, e) { return this.getPointPosition(t, this.getDistanceFromCenterForValue(e)) }, getBasePosition: function () { var t = this.min, e = this.max; return this.getPointPositionForValue(0, this.beginAtZero ? 0 : t < 0 && e < 0 ? e : t > 0 && e > 0 ? t : 0) }, draw: function () { var t = this, e = t.options, i = e.gridLines, n = e.ticks; if (e.display) { var a = t.ctx, o = this.getIndexAngle(0), r = ut.options._parseFont(n); (e.angleLines.display || e.pointLabels.display) && function (t) { var e = t.ctx, i = t.options, n = i.angleLines, a = i.gridLines, o = i.pointLabels, r = Pi(n.lineWidth, a.lineWidth), s = Pi(n.color, a.color), l = Fi(i); e.save(), e.lineWidth = r, e.strokeStyle = s, e.setLineDash && (e.setLineDash(Ai([n.borderDash, a.borderDash, []])), e.lineDashOffset = Ai([n.borderDashOffset, a.borderDashOffset, 0])); var d = t.getDistanceFromCenterForValue(i.ticks.reverse ? t.min : t.max), u = ut.options._parseFont(o); e.font = u.string, e.textBaseline = "middle"; for (var h = Ti(t) - 1; h >= 0; h--) { if (n.display && r && s) { var c = t.getPointPosition(h, d); e.beginPath(), e.moveTo(t.xCenter, t.yCenter), e.lineTo(c.x, c.y), e.stroke() } if (o.display) { var f = 0 === h ? l / 2 : 0, g = t.getPointPosition(h, d + f + 5), p = Ii(o.fontColor, h, st.global.defaultFontColor); e.fillStyle = p; var m = t.getIndexAngle(h), v = ut.toDegrees(m); e.textAlign = Ri(v), zi(v, t._pointLabelSizes[h], g), Oi(e, t.pointLabels[h] || "", g, u.lineHeight) } } e.restore() }(t), ut.each(t.ticks, function (e, s) { if (s > 0 || n.reverse) { var l = t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]); if (i.display && 0 !== s && function (t, e, i, n) { var a, o = t.ctx, r = e.circular, s = Ti(t), l = Ii(e.color, n - 1), d = Ii(e.lineWidth, n - 1); if ((r || s) && l && d) { if (o.save(), o.strokeStyle = l, o.lineWidth = d, o.setLineDash && (o.setLineDash(e.borderDash || []), o.lineDashOffset = e.borderDashOffset || 0), o.beginPath(), r) o.arc(t.xCenter, t.yCenter, i, 0, 2 * Math.PI); else { a = t.getPointPosition(0, i), o.moveTo(a.x, a.y); for (var u = 1; u < s; u++)a = t.getPointPosition(u, i), o.lineTo(a.x, a.y) } o.closePath(), o.stroke(), o.restore() } }(t, i, l, s), n.display) { var d = Pi(n.fontColor, st.global.defaultFontColor); if (a.font = r.string, a.save(), a.translate(t.xCenter, t.yCenter), a.rotate(o), n.showLabelBackdrop) { var u = a.measureText(e).width; a.fillStyle = n.backdropColor, a.fillRect(-u / 2 - n.backdropPaddingX, -l - r.size / 2 - n.backdropPaddingY, u + 2 * n.backdropPaddingX, r.size + 2 * n.backdropPaddingY) } a.textAlign = "center", a.textBaseline = "middle", a.fillStyle = d, a.fillText(e, 0, -l), a.restore() } } }) } } }), Wi = Di; Ni._defaults = Wi; var Vi = ut.valueOrDefault, Ei = Number.MIN_SAFE_INTEGER || -9007199254740991, Hi = Number.MAX_SAFE_INTEGER || 9007199254740991, ji = { millisecond: { common: !0, size: 1, steps: [1, 2, 5, 10, 20, 50, 100, 250, 500] }, second: { common: !0, size: 1e3, steps: [1, 2, 5, 10, 15, 30] }, minute: { common: !0, size: 6e4, steps: [1, 2, 5, 10, 15, 30] }, hour: { common: !0, size: 36e5, steps: [1, 2, 3, 6, 12] }, day: { common: !0, size: 864e5, steps: [1, 2, 5] }, week: { common: !1, size: 6048e5, steps: [1, 2, 3, 4] }, month: { common: !0, size: 2628e6, steps: [1, 2, 3] }, quarter: { common: !1, size: 7884e6, steps: [1, 2, 3, 4] }, year: { common: !0, size: 3154e7 } }, qi = Object.keys(ji); function Yi(t, e) { return t - e } function Ui(t) { var e, i, n, a = {}, o = []; for (e = 0, i = t.length; e < i; ++e)a[n = t[e]] || (a[n] = !0, o.push(n)); return o } function Xi(t, e, i, n) { var a = function (t, e, i) { for (var n, a, o, r = 0, s = t.length - 1; r >= 0 && r <= s;) { if (a = t[(n = r + s >> 1) - 1] || null, o = t[n], !a) return { lo: null, hi: o }; if (o[e] < i) r = n + 1; else { if (!(a[e] > i)) return { lo: a, hi: o }; s = n - 1 } } return { lo: o, hi: null } }(t, e, i), o = a.lo ? a.hi ? a.lo : t[t.length - 2] : t[0], r = a.lo ? a.hi ? a.hi : t[t.length - 1] : t[1], s = r[e] - o[e], l = s ? (i - o[e]) / s : 0, d = (r[n] - o[n]) * l; return o[n] + d } function Ki(t, e) { var i = t._adapter, n = t.options.time, a = n.parser, o = a || n.format, r = e; return "function" == typeof a && (r = a(r)), ut.isFinite(r) || (r = "string" == typeof o ? i.parse(r, o) : i.parse(r)), null !== r ? +r : (a || "function" != typeof o || (r = o(e), ut.isFinite(r) || (r = i.parse(r))), r) } function Gi(t, e) { if (ut.isNullOrUndef(e)) return null; var i = t.options.time, n = Ki(t, t.getRightValue(e)); return null === n ? n : (i.round && (n = +t._adapter.startOf(n, i.round)), n) } function Zi(t) { for (var e = qi.indexOf(t) + 1, i = qi.length; e < i; ++e)if (ji[qi[e]].common) return qi[e] } function $i(t, e, i, n) { var a, o = t._adapter, r = t.options, s = r.time, l = s.unit || function (t, e, i, n) { var a, o, r, s = qi.length; for (a = qi.indexOf(t); a < s - 1; ++a)if (r = (o = ji[qi[a]]).steps ? o.steps[o.steps.length - 1] : Hi, o.common && Math.ceil((i - e) / (r * o.size)) <= n) return qi[a]; return qi[s - 1] }(s.minUnit, e, i, n), d = Zi(l), u = Vi(s.stepSize, s.unitStepSize), h = "week" === l && s.isoWeekday, c = r.ticks.major.enabled, f = ji[l], g = e, p = i, m = []; for (u || (u = function (t, e, i, n) { var a, o, r, s = e - t, l = ji[i], d = l.size, u = l.steps; if (!u) return Math.ceil(s / (n * d)); for (a = 0, o = u.length; a < o && (r = u[a], !(Math.ceil(s / (d * r)) <= n)); ++a); return r }(e, i, l, n)), h && (g = +o.startOf(g, "isoWeek", h), p = +o.startOf(p, "isoWeek", h)), g = +o.startOf(g, h ? "day" : l), (p = +o.startOf(p, h ? "day" : l)) < i && (p = +o.add(p, 1, l)), a = g, c && d && !h && !s.round && (a = +o.startOf(a, d), a = +o.add(a, ~~((g - a) / (f.size * u)) * u, l)); a < p; a = +o.add(a, u, l))m.push(+a); return m.push(+a), m } var Ji = fi.extend({ initialize: function () { this.mergeTicksOptions(), fi.prototype.initialize.call(this) }, update: function () { var t = this.options, e = t.time || (t.time = {}), i = this._adapter = new si._date(t.adapters.date); return e.format && console.warn("options.time.format is deprecated and replaced by options.time.parser."), ut.mergeIf(e.displayFormats, i.formats()), fi.prototype.update.apply(this, arguments) }, getRightValue: function (t) { return t && void 0 !== t.t && (t = t.t), fi.prototype.getRightValue.call(this, t) }, determineDataLimits: function () { var t, e, i, n, a, o, r = this, s = r.chart, l = r._adapter, d = r.options.time, u = d.unit || "day", h = Hi, c = Ei, f = [], g = [], p = [], m = s.data.labels || []; for (t = 0, i = m.length; t < i; ++t)p.push(Gi(r, m[t])); for (t = 0, i = (s.data.datasets || []).length; t < i; ++t)if (s.isDatasetVisible(t)) if (a = s.data.datasets[t].data, ut.isObject(a[0])) for (g[t] = [], e = 0, n = a.length; e < n; ++e)o = Gi(r, a[e]), f.push(o), g[t][e] = o; else { for (e = 0, n = p.length; e < n; ++e)f.push(p[e]); g[t] = p.slice(0) } else g[t] = []; p.length && (p = Ui(p).sort(Yi), h = Math.min(h, p[0]), c = Math.max(c, p[p.length - 1])), f.length && (f = Ui(f).sort(Yi), h = Math.min(h, f[0]), c = Math.max(c, f[f.length - 1])), h = Gi(r, d.min) || h, c = Gi(r, d.max) || c, h = h === Hi ? +l.startOf(Date.now(), u) : h, c = c === Ei ? +l.endOf(Date.now(), u) + 1 : c, r.min = Math.min(h, c), r.max = Math.max(h + 1, c), r._horizontal = r.isHorizontal(), r._table = [], r._timestamps = { data: f, datasets: g, labels: p } }, buildTicks: function () { var t, e, i, n = this, a = n.min, o = n.max, r = n.options, s = r.time, l = [], d = []; switch (r.ticks.source) { case "data": l = n._timestamps.data; break; case "labels": l = n._timestamps.labels; break; case "auto": default: l = $i(n, a, o, n.getLabelCapacity(a)) }for ("ticks" === r.bounds && l.length && (a = l[0], o = l[l.length - 1]), a = Gi(n, s.min) || a, o = Gi(n, s.max) || o, t = 0, e = l.length; t < e; ++t)(i = l[t]) >= a && i <= o && d.push(i); return n.min = a, n.max = o, n._unit = s.unit || function (t, e, i, n, a) { var o, r; for (o = qi.length - 1; o >= qi.indexOf(i); o--)if (r = qi[o], ji[r].common && t._adapter.diff(a, n, r) >= e.length) return r; return qi[i ? qi.indexOf(i) : 0] }(n, d, s.minUnit, n.min, n.max), n._majorUnit = Zi(n._unit), n._table = function (t, e, i, n) { if ("linear" === n || !t.length) return [{ time: e, pos: 0 }, { time: i, pos: 1 }]; var a, o, r, s, l, d = [], u = [e]; for (a = 0, o = t.length; a < o; ++a)(s = t[a]) > e && s < i && u.push(s); for (u.push(i), a = 0, o = u.length; a < o; ++a)l = u[a + 1], r = u[a - 1], s = u[a], void 0 !== r && void 0 !== l && Math.round((l + r) / 2) === s || d.push({ time: s, pos: a / (o - 1) }); return d }(n._timestamps.data, a, o, r.distribution), n._offsets = function (t, e, i, n, a) { var o, r, s = 0, l = 0; return a.offset && e.length && (a.time.min || (o = Xi(t, "time", e[0], "pos"), s = 1 === e.length ? 1 - o : (Xi(t, "time", e[1], "pos") - o) / 2), a.time.max || (r = Xi(t, "time", e[e.length - 1], "pos"), l = 1 === e.length ? r : (r - Xi(t, "time", e[e.length - 2], "pos")) / 2)), { start: s, end: l } }(n._table, d, 0, 0, r), r.ticks.reverse && d.reverse(), function (t, e, i) { var n, a, o, r, s = []; for (n = 0, a = e.length; n < a; ++n)o = e[n], r = !!i && o === +t._adapter.startOf(o, i), s.push({ value: o, major: r }); return s }(n, d, n._majorUnit) }, getLabelForIndex: function (t, e) { var i = this, n = i._adapter, a = i.chart.data, o = i.options.time, r = a.labels && t < a.labels.length ? a.labels[t] : "", s = a.datasets[e].data[t]; return ut.isObject(s) && (r = i.getRightValue(s)), o.tooltipFormat ? n.format(Ki(i, r), o.tooltipFormat) : "string" == typeof r ? r : n.format(Ki(i, r), o.displayFormats.datetime) }, tickFormatFunction: function (t, e, i, n) { var a = this._adapter, o = this.options, r = o.time.displayFormats, s = r[this._unit], l = this._majorUnit, d = r[l], u = +a.startOf(t, l), h = o.ticks.major, c = h.enabled && l && d && t === u, f = a.format(t, n || (c ? d : s)), g = c ? h : o.ticks.minor, p = Vi(g.callback, g.userCallback); return p ? p(f, e, i) : f }, convertTicksToLabels: function (t) { var e, i, n = []; for (e = 0, i = t.length; e < i; ++e)n.push(this.tickFormatFunction(t[e].value, e, t)); return n }, getPixelForOffset: function (t) { var e = this, i = e.options.ticks.reverse, n = e._horizontal ? e.width : e.height, a = e._horizontal ? i ? e.right : e.left : i ? e.bottom : e.top, o = Xi(e._table, "time", t, "pos"), r = n * (e._offsets.start + o) / (e._offsets.start + 1 + e._offsets.end); return i ? a - r : a + r }, getPixelForValue: function (t, e, i) { var n = null; if (void 0 !== e && void 0 !== i && (n = this._timestamps.datasets[i][e]), null === n && (n = Gi(this, t)), null !== n) return this.getPixelForOffset(n) }, getPixelForTick: function (t) { var e = this.getTicks(); return t >= 0 && t < e.length ? this.getPixelForOffset(e[t].value) : null }, getValueForPixel: function (t) { var e = this, i = e._horizontal ? e.width : e.height, n = e._horizontal ? e.left : e.top, a = (i ? (t - n) / i : 0) * (e._offsets.start + 1 + e._offsets.start) - e._offsets.end, o = Xi(e._table, "pos", a, "time"); return e._adapter._create(o) }, getLabelWidth: function (t) { var e = this.options.ticks, i = this.ctx.measureText(t).width, n = ut.toRadians(e.maxRotation), a = Math.cos(n), o = Math.sin(n); return i * a + Vi(e.fontSize, st.global.defaultFontSize) * o }, getLabelCapacity: function (t) { var e = this, i = e.options.time.displayFormats.millisecond, n = e.tickFormatFunction(t, 0, [], i), a = e.getLabelWidth(n), o = e.isHorizontal() ? e.width : e.height, r = Math.floor(o / a); return r > 0 ? r : 1 } }), Qi = { position: "bottom", distribution: "linear", bounds: "data", adapters: {}, time: { parser: !1, format: !1, unit: !1, round: !1, displayFormat: !1, isoWeekday: !1, minUnit: "millisecond", displayFormats: {} }, ticks: { autoSkip: !1, source: "auto", major: { enabled: !1 } } }; Ji._defaults = Qi; var tn = { category: gi, linear: yi, logarithmic: Ci, radialLinear: Ni, time: Ji }, en = { datetime: "MMM D, YYYY, h:mm:ss a", millisecond: "h:mm:ss.SSS a", second: "h:mm:ss a", minute: "h:mm a", hour: "hA", day: "MMM D", week: "ll", month: "MMM YYYY", quarter: "[Q]Q - YYYY", year: "YYYY" }; si._date.override("function" == typeof t ? { _id: "moment", formats: function () { return en }, parse: function (e, i) { return "string" == typeof e && "string" == typeof i ? e = t(e, i) : e instanceof t || (e = t(e)), e.isValid() ? e.valueOf() : null }, format: function (e, i) { return t(e).format(i) }, add: function (e, i, n) { return t(e).add(i, n).valueOf() }, diff: function (e, i, n) { return t.duration(t(e).diff(t(i))).as(n) }, startOf: function (e, i, n) { return e = t(e), "isoWeek" === i ? e.isoWeekday(n).valueOf() : e.startOf(i).valueOf() }, endOf: function (e, i) { return t(e).endOf(i).valueOf() }, _create: function (e) { return t(e) } } : {}), st._set("global", { plugins: { filler: { propagate: !0 } } }); var nn = { dataset: function (t) { var e = t.fill, i = t.chart, n = i.getDatasetMeta(e), a = n && i.isDatasetVisible(e) && n.dataset._children || [], o = a.length || 0; return o ? function (t, e) { return e < o && a[e]._view || null } : null }, boundary: function (t) { var e = t.boundary, i = e ? e.x : null, n = e ? e.y : null; return function (t) { return { x: null === i ? t.x : i, y: null === n ? t.y : n } } } }; function an(t, e, i) { var n, a = t._model || {}, o = a.fill; if (void 0 === o && (o = !!a.backgroundColor), !1 === o || null === o) return !1; if (!0 === o) return "origin"; if (n = parseFloat(o, 10), isFinite(n) && Math.floor(n) === n) return "-" !== o[0] && "+" !== o[0] || (n = e + n), !(n === e || n < 0 || n >= i) && n; switch (o) { case "bottom": return "start"; case "top": return "end"; case "zero": return "origin"; case "origin": case "start": case "end": return o; default: return !1 } } function on(t) { var e, i = t.el._model || {}, n = t.el._scale || {}, a = t.fill, o = null; if (isFinite(a)) return null; if ("start" === a ? o = void 0 === i.scaleBottom ? n.bottom : i.scaleBottom : "end" === a ? o = void 0 === i.scaleTop ? n.top : i.scaleTop : void 0 !== i.scaleZero ? o = i.scaleZero : n.getBasePosition ? o = n.getBasePosition() : n.getBasePixel && (o = n.getBasePixel()), null != o) { if (void 0 !== o.x && void 0 !== o.y) return o; if (ut.isFinite(o)) return { x: (e = n.isHorizontal()) ? o : null, y: e ? null : o } } return null } function rn(t, e, i) { var n, a = t[e].fill, o = [e]; if (!i) return a; for (; !1 !== a && -1 === o.indexOf(a);) { if (!isFinite(a)) return a; if (!(n = t[a])) return !1; if (n.visible) return a; o.push(a), a = n.fill } return !1 } function sn(t) { var e = t.fill, i = "dataset"; return !1 === e ? null : (isFinite(e) || (i = "boundary"), nn[i](t)) } function ln(t) { return t && !t.skip } function dn(t, e, i, n, a) { var o; if (n && a) { for (t.moveTo(e[0].x, e[0].y), o = 1; o < n; ++o)ut.canvas.lineTo(t, e[o - 1], e[o]); for (t.lineTo(i[a - 1].x, i[a - 1].y), o = a - 1; o > 0; --o)ut.canvas.lineTo(t, i[o], i[o - 1], !0) } } var un = { id: "filler", afterDatasetsUpdate: function (t, e) { var i, n, a, o, r = (t.data.datasets || []).length, s = e.propagate, l = []; for (n = 0; n < r; ++n)o = null, (a = (i = t.getDatasetMeta(n)).dataset) && a._model && a instanceof Wt.Line && (o = { visible: t.isDatasetVisible(n), fill: an(a, n, r), chart: t, el: a }), i.$filler = o, l.push(o); for (n = 0; n < r; ++n)(o = l[n]) && (o.fill = rn(l, n, s), o.boundary = on(o), o.mapper = sn(o)) }, beforeDatasetDraw: function (t, e) { var i = e.meta.$filler; if (i) { var n = t.ctx, a = i.el, o = a._view, r = a._children || [], s = i.mapper, l = o.backgroundColor || st.global.defaultColor; s && l && r.length && (ut.canvas.clipArea(n, t.chartArea), function (t, e, i, n, a, o) { var r, s, l, d, u, h, c, f = e.length, g = n.spanGaps, p = [], m = [], v = 0, b = 0; for (t.beginPath(), r = 0, s = f + !!o; r < s; ++r)u = i(d = e[l = r % f]._view, l, n), h = ln(d), c = ln(u), h && c ? (v = p.push(d), b = m.push(u)) : v && b && (g ? (h && p.push(d), c && m.push(u)) : (dn(t, p, m, v, b), v = b = 0, p = [], m = [])); dn(t, p, m, v, b), t.closePath(), t.fillStyle = a, t.fill() }(n, r, s, o, l, a._loop), ut.canvas.unclipArea(n)) } } }, hn = ut.noop, cn = ut.valueOrDefault; function fn(t, e) { return t.usePointStyle && t.boxWidth > e ? e : t.boxWidth } st._set("global", { legend: { display: !0, position: "top", fullWidth: !0, reverse: !1, weight: 1e3, onClick: function (t, e) { var i = e.datasetIndex, n = this.chart, a = n.getDatasetMeta(i); a.hidden = null === a.hidden ? !n.data.datasets[i].hidden : null, n.update() }, onHover: null, onLeave: null, labels: { boxWidth: 40, padding: 10, generateLabels: function (t) { var e = t.data; return ut.isArray(e.datasets) ? e.datasets.map(function (e, i) { return { text: e.label, fillStyle: ut.isArray(e.backgroundColor) ? e.backgroundColor[0] : e.backgroundColor, hidden: !t.isDatasetVisible(i), lineCap: e.borderCapStyle, lineDash: e.borderDash, lineDashOffset: e.borderDashOffset, lineJoin: e.borderJoinStyle, lineWidth: e.borderWidth, strokeStyle: e.borderColor, pointStyle: e.pointStyle, datasetIndex: i } }, this) : [] } } }, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); for (var i = 0; i < t.data.datasets.length; i++)e.push('<li><span style="background-color:' + t.data.datasets[i].backgroundColor + '"></span>'), t.data.datasets[i].label && e.push(t.data.datasets[i].label), e.push("</li>"); return e.push("</ul>"), e.join("") } }); var gn = pt.extend({ initialize: function (t) { ut.extend(this, t), this.legendHitBoxes = [], this._hoveredItem = null, this.doughnutMode = !1 }, beforeUpdate: hn, update: function (t, e, i) { var n = this; return n.beforeUpdate(), n.maxWidth = t, n.maxHeight = e, n.margins = i, n.beforeSetDimensions(), n.setDimensions(), n.afterSetDimensions(), n.beforeBuildLabels(), n.buildLabels(), n.afterBuildLabels(), n.beforeFit(), n.fit(), n.afterFit(), n.afterUpdate(), n.minSize }, afterUpdate: hn, beforeSetDimensions: hn, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = { width: 0, height: 0 } }, afterSetDimensions: hn, beforeBuildLabels: hn, buildLabels: function () { var t = this, e = t.options.labels || {}, i = ut.callback(e.generateLabels, [t.chart], t) || []; e.filter && (i = i.filter(function (i) { return e.filter(i, t.chart.data) })), t.options.reverse && i.reverse(), t.legendItems = i }, afterBuildLabels: hn, beforeFit: hn, fit: function () { var t = this, e = t.options, i = e.labels, n = e.display, a = t.ctx, o = ut.options._parseFont(i), r = o.size, s = t.legendHitBoxes = [], l = t.minSize, d = t.isHorizontal(); if (d ? (l.width = t.maxWidth, l.height = n ? 10 : 0) : (l.width = n ? 10 : 0, l.height = t.maxHeight), n) if (a.font = o.string, d) { var u = t.lineWidths = [0], h = 0; a.textAlign = "left", a.textBaseline = "top", ut.each(t.legendItems, function (t, e) { var n = fn(i, r) + r / 2 + a.measureText(t.text).width; (0 === e || u[u.length - 1] + n + i.padding > l.width) && (h += r + i.padding, u[u.length - (e > 0 ? 0 : 1)] = i.padding), s[e] = { left: 0, top: 0, width: n, height: r }, u[u.length - 1] += n + i.padding }), l.height += h } else { var c = i.padding, f = t.columnWidths = [], g = i.padding, p = 0, m = 0, v = r + c; ut.each(t.legendItems, function (t, e) { var n = fn(i, r) + r / 2 + a.measureText(t.text).width; e > 0 && m + v > l.height - c && (g += p + i.padding, f.push(p), p = 0, m = 0), p = Math.max(p, n), m += v, s[e] = { left: 0, top: 0, width: n, height: r } }), g += p, f.push(p), l.width += g } t.width = l.width, t.height = l.height }, afterFit: hn, isHorizontal: function () { return "top" === this.options.position || "bottom" === this.options.position }, draw: function () { var t = this, e = t.options, i = e.labels, n = st.global, a = n.defaultColor, o = n.elements.line, r = t.width, s = t.lineWidths; if (e.display) { var l, d = t.ctx, u = cn(i.fontColor, n.defaultFontColor), h = ut.options._parseFont(i), c = h.size; d.textAlign = "left", d.textBaseline = "middle", d.lineWidth = .5, d.strokeStyle = u, d.fillStyle = u, d.font = h.string; var f = fn(i, c), g = t.legendHitBoxes, p = t.isHorizontal(); l = p ? { x: t.left + (r - s[0]) / 2 + i.padding, y: t.top + i.padding, line: 0 } : { x: t.left + i.padding, y: t.top + i.padding, line: 0 }; var m = c + i.padding; ut.each(t.legendItems, function (n, u) { var h = d.measureText(n.text).width, v = f + c / 2 + h, b = l.x, x = l.y; p ? u > 0 && b + v + i.padding > t.left + t.minSize.width && (x = l.y += m, l.line++, b = l.x = t.left + (r - s[l.line]) / 2 + i.padding) : u > 0 && x + m > t.top + t.minSize.height && (b = l.x = b + t.columnWidths[l.line] + i.padding, x = l.y = t.top + i.padding, l.line++), function (t, i, n) { if (!(isNaN(f) || f <= 0)) { d.save(); var r = cn(n.lineWidth, o.borderWidth); if (d.fillStyle = cn(n.fillStyle, a), d.lineCap = cn(n.lineCap, o.borderCapStyle), d.lineDashOffset = cn(n.lineDashOffset, o.borderDashOffset), d.lineJoin = cn(n.lineJoin, o.borderJoinStyle), d.lineWidth = r, d.strokeStyle = cn(n.strokeStyle, a), d.setLineDash && d.setLineDash(cn(n.lineDash, o.borderDash)), e.labels && e.labels.usePointStyle) { var s = f * Math.SQRT2 / 2, l = t + f / 2, u = i + c / 2; ut.canvas.drawPoint(d, n.pointStyle, s, l, u) } else 0 !== r && d.strokeRect(t, i, f, c), d.fillRect(t, i, f, c); d.restore() } }(b, x, n), g[u].left = b, g[u].top = x, function (t, e, i, n) { var a = c / 2, o = f + a + t, r = e + a; d.fillText(i.text, o, r), i.hidden && (d.beginPath(), d.lineWidth = 2, d.moveTo(o, r), d.lineTo(o + n, r), d.stroke()) }(b, x, n, h), p ? l.x += v + i.padding : l.y += m }) } }, _getLegendItemAt: function (t, e) { var i, n, a, o = this; if (t >= o.left && t <= o.right && e >= o.top && e <= o.bottom) for (a = o.legendHitBoxes, i = 0; i < a.length; ++i)if (t >= (n = a[i]).left && t <= n.left + n.width && e >= n.top && e <= n.top + n.height) return o.legendItems[i]; return null }, handleEvent: function (t) { var e, i = this, n = i.options, a = "mouseup" === t.type ? "click" : t.type; if ("mousemove" === a) { if (!n.onHover && !n.onLeave) return } else { if ("click" !== a) return; if (!n.onClick) return } e = i._getLegendItemAt(t.x, t.y), "click" === a ? e && n.onClick && n.onClick.call(i, t.native, e) : (n.onLeave && e !== i._hoveredItem && (i._hoveredItem && n.onLeave.call(i, t.native, i._hoveredItem), i._hoveredItem = e), n.onHover && e && n.onHover.call(i, t.native, e)) } }); function pn(t, e) { var i = new gn({ ctx: t.ctx, options: e, chart: t }); ke.configure(t, i, e), ke.addBox(t, i), t.legend = i } var mn = { id: "legend", _element: gn, beforeInit: function (t) { var e = t.options.legend; e && pn(t, e) }, beforeUpdate: function (t) { var e = t.options.legend, i = t.legend; e ? (ut.mergeIf(e, st.global.legend), i ? (ke.configure(t, i, e), i.options = e) : pn(t, e)) : i && (ke.removeBox(t, i), delete t.legend) }, afterEvent: function (t, e) { var i = t.legend; i && i.handleEvent(e) } }, vn = ut.noop; st._set("global", { title: { display: !1, fontStyle: "bold", fullWidth: !0, padding: 10, position: "top", text: "", weight: 2e3 } }); var bn = pt.extend({ initialize: function (t) { ut.extend(this, t), this.legendHitBoxes = [] }, beforeUpdate: vn, update: function (t, e, i) { var n = this; return n.beforeUpdate(), n.maxWidth = t, n.maxHeight = e, n.margins = i, n.beforeSetDimensions(), n.setDimensions(), n.afterSetDimensions(), n.beforeBuildLabels(), n.buildLabels(), n.afterBuildLabels(), n.beforeFit(), n.fit(), n.afterFit(), n.afterUpdate(), n.minSize }, afterUpdate: vn, beforeSetDimensions: vn, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = { width: 0, height: 0 } }, afterSetDimensions: vn, beforeBuildLabels: vn, buildLabels: vn, afterBuildLabels: vn, beforeFit: vn, fit: function () { var t = this, e = t.options, i = e.display, n = t.minSize, a = ut.isArray(e.text) ? e.text.length : 1, o = ut.options._parseFont(e), r = i ? a * o.lineHeight + 2 * e.padding : 0; t.isHorizontal() ? (n.width = t.maxWidth, n.height = r) : (n.width = r, n.height = t.maxHeight), t.width = n.width, t.height = n.height }, afterFit: vn, isHorizontal: function () { var t = this.options.position; return "top" === t || "bottom" === t }, draw: function () { var t = this, e = t.ctx, i = t.options; if (i.display) { var n, a, o, r = ut.options._parseFont(i), s = r.lineHeight, l = s / 2 + i.padding, d = 0, u = t.top, h = t.left, c = t.bottom, f = t.right; e.fillStyle = ut.valueOrDefault(i.fontColor, st.global.defaultFontColor), e.font = r.string, t.isHorizontal() ? (a = h + (f - h) / 2, o = u + l, n = f - h) : (a = "left" === i.position ? h + l : f - l, o = u + (c - u) / 2, n = c - u, d = Math.PI * ("left" === i.position ? -.5 : .5)), e.save(), e.translate(a, o), e.rotate(d), e.textAlign = "center", e.textBaseline = "middle"; var g = i.text; if (ut.isArray(g)) for (var p = 0, m = 0; m < g.length; ++m)e.fillText(g[m], 0, p, n), p += s; else e.fillText(g, 0, 0, n); e.restore() } } }); function xn(t, e) { var i = new bn({ ctx: t.ctx, options: e, chart: t }); ke.configure(t, i, e), ke.addBox(t, i), t.titleBlock = i } var yn = {}, kn = un, wn = mn, Mn = { id: "title", _element: bn, beforeInit: function (t) { var e = t.options.title; e && xn(t, e) }, beforeUpdate: function (t) { var e = t.options.title, i = t.titleBlock; e ? (ut.mergeIf(e, st.global.title), i ? (ke.configure(t, i, e), i.options = e) : xn(t, e)) : i && (ke.removeBox(t, i), delete t.titleBlock) } }; for (var _n in yn.filler = kn, yn.legend = wn, yn.title = Mn, ai.helpers = ut, function () { function t(t, e, i) { var n; return "string" == typeof t ? (n = parseInt(t, 10), -1 !== t.indexOf("%") && (n = n / 100 * e.parentNode[i])) : n = t, n } function e(t) { return null != t && "none" !== t } function i(i, n, a) { var o = document.defaultView, r = ut._getParentNode(i), s = o.getComputedStyle(i)[n], l = o.getComputedStyle(r)[n], d = e(s), u = e(l), h = Number.POSITIVE_INFINITY; return d || u ? Math.min(d ? t(s, i, a) : h, u ? t(l, r, a) : h) : "none" } ut.where = function (t, e) { if (ut.isArray(t) && Array.prototype.filter) return t.filter(e); var i = []; return ut.each(t, function (t) { e(t) && i.push(t) }), i }, ut.findIndex = Array.prototype.findIndex ? function (t, e, i) { return t.findIndex(e, i) } : function (t, e, i) { i = void 0 === i ? t : i; for (var n = 0, a = t.length; n < a; ++n)if (e.call(i, t[n], n, t)) return n; return -1 }, ut.findNextWhere = function (t, e, i) { ut.isNullOrUndef(i) && (i = -1); for (var n = i + 1; n < t.length; n++) { var a = t[n]; if (e(a)) return a } }, ut.findPreviousWhere = function (t, e, i) { ut.isNullOrUndef(i) && (i = t.length); for (var n = i - 1; n >= 0; n--) { var a = t[n]; if (e(a)) return a } }, ut.isNumber = function (t) { return !isNaN(parseFloat(t)) && isFinite(t) }, ut.almostEquals = function (t, e, i) { return Math.abs(t - e) < i }, ut.almostWhole = function (t, e) { var i = Math.round(t); return i - e < t && i + e > t }, ut.max = function (t) { return t.reduce(function (t, e) { return isNaN(e) ? t : Math.max(t, e) }, Number.NEGATIVE_INFINITY) }, ut.min = function (t) { return t.reduce(function (t, e) { return isNaN(e) ? t : Math.min(t, e) }, Number.POSITIVE_INFINITY) }, ut.sign = Math.sign ? function (t) { return Math.sign(t) } : function (t) { return 0 == (t = +t) || isNaN(t) ? t : t > 0 ? 1 : -1 }, ut.log10 = Math.log10 ? function (t) { return Math.log10(t) } : function (t) { var e = Math.log(t) * Math.LOG10E, i = Math.round(e); return t === Math.pow(10, i) ? i : e }, ut.toRadians = function (t) { return t * (Math.PI / 180) }, ut.toDegrees = function (t) { return t * (180 / Math.PI) }, ut._decimalPlaces = function (t) { if (ut.isFinite(t)) { for (var e = 1, i = 0; Math.round(t * e) / e !== t;)e *= 10, i++; return i } }, ut.getAngleFromPoint = function (t, e) { var i = e.x - t.x, n = e.y - t.y, a = Math.sqrt(i * i + n * n), o = Math.atan2(n, i); return o < -.5 * Math.PI && (o += 2 * Math.PI), { angle: o, distance: a } }, ut.distanceBetweenPoints = function (t, e) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) }, ut.aliasPixel = function (t) { return t % 2 == 0 ? 0 : .5 }, ut._alignPixel = function (t, e, i) { var n = t.currentDevicePixelRatio, a = i / 2; return Math.round((e - a) * n) / n + a }, ut.splineCurve = function (t, e, i, n) { var a = t.skip ? e : t, o = e, r = i.skip ? e : i, s = Math.sqrt(Math.pow(o.x - a.x, 2) + Math.pow(o.y - a.y, 2)), l = Math.sqrt(Math.pow(r.x - o.x, 2) + Math.pow(r.y - o.y, 2)), d = s / (s + l), u = l / (s + l), h = n * (d = isNaN(d) ? 0 : d), c = n * (u = isNaN(u) ? 0 : u); return { previous: { x: o.x - h * (r.x - a.x), y: o.y - h * (r.y - a.y) }, next: { x: o.x + c * (r.x - a.x), y: o.y + c * (r.y - a.y) } } }, ut.EPSILON = Number.EPSILON || 1e-14, ut.splineCurveMonotone = function (t) { var e, i, n, a, o, r, s, l, d, u = (t || []).map(function (t) { return { model: t._model, deltaK: 0, mK: 0 } }), h = u.length; for (e = 0; e < h; ++e)if (!(n = u[e]).model.skip) { if (i = e > 0 ? u[e - 1] : null, (a = e < h - 1 ? u[e + 1] : null) && !a.model.skip) { var c = a.model.x - n.model.x; n.deltaK = 0 !== c ? (a.model.y - n.model.y) / c : 0 } !i || i.model.skip ? n.mK = n.deltaK : !a || a.model.skip ? n.mK = i.deltaK : this.sign(i.deltaK) !== this.sign(n.deltaK) ? n.mK = 0 : n.mK = (i.deltaK + n.deltaK) / 2 } for (e = 0; e < h - 1; ++e)n = u[e], a = u[e + 1], n.model.skip || a.model.skip || (ut.almostEquals(n.deltaK, 0, this.EPSILON) ? n.mK = a.mK = 0 : (o = n.mK / n.deltaK, r = a.mK / n.deltaK, (l = Math.pow(o, 2) + Math.pow(r, 2)) <= 9 || (s = 3 / Math.sqrt(l), n.mK = o * s * n.deltaK, a.mK = r * s * n.deltaK))); for (e = 0; e < h; ++e)(n = u[e]).model.skip || (i = e > 0 ? u[e - 1] : null, a = e < h - 1 ? u[e + 1] : null, i && !i.model.skip && (d = (n.model.x - i.model.x) / 3, n.model.controlPointPreviousX = n.model.x - d, n.model.controlPointPreviousY = n.model.y - d * n.mK), a && !a.model.skip && (d = (a.model.x - n.model.x) / 3, n.model.controlPointNextX = n.model.x + d, n.model.controlPointNextY = n.model.y + d * n.mK)) }, ut.nextItem = function (t, e, i) { return i ? e >= t.length - 1 ? t[0] : t[e + 1] : e >= t.length - 1 ? t[t.length - 1] : t[e + 1] }, ut.previousItem = function (t, e, i) { return i ? e <= 0 ? t[t.length - 1] : t[e - 1] : e <= 0 ? t[0] : t[e - 1] }, ut.niceNum = function (t, e) { var i = Math.floor(ut.log10(t)), n = t / Math.pow(10, i); return (e ? n < 1.5 ? 1 : n < 3 ? 2 : n < 7 ? 5 : 10 : n <= 1 ? 1 : n <= 2 ? 2 : n <= 5 ? 5 : 10) * Math.pow(10, i) }, ut.requestAnimFrame = "undefined" == typeof window ? function (t) { t() } : window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { return window.setTimeout(t, 1e3 / 60) }, ut.getRelativePosition = function (t, e) { var i, n, a = t.originalEvent || t, o = t.target || t.srcElement, r = o.getBoundingClientRect(), s = a.touches; s && s.length > 0 ? (i = s[0].clientX, n = s[0].clientY) : (i = a.clientX, n = a.clientY); var l = parseFloat(ut.getStyle(o, "padding-left")), d = parseFloat(ut.getStyle(o, "padding-top")), u = parseFloat(ut.getStyle(o, "padding-right")), h = parseFloat(ut.getStyle(o, "padding-bottom")), c = r.right - r.left - l - u, f = r.bottom - r.top - d - h; return { x: i = Math.round((i - r.left - l) / c * o.width / e.currentDevicePixelRatio), y: n = Math.round((n - r.top - d) / f * o.height / e.currentDevicePixelRatio) } }, ut.getConstraintWidth = function (t) { return i(t, "max-width", "clientWidth") }, ut.getConstraintHeight = function (t) { return i(t, "max-height", "clientHeight") }, ut._calculatePadding = function (t, e, i) { return (e = ut.getStyle(t, e)).indexOf("%") > -1 ? i * parseInt(e, 10) / 100 : parseInt(e, 10) }, ut._getParentNode = function (t) { var e = t.parentNode; return e && "[object ShadowRoot]" === e.toString() && (e = e.host), e }, ut.getMaximumWidth = function (t) { var e = ut._getParentNode(t); if (!e) return t.clientWidth; var i = e.clientWidth, n = i - ut._calculatePadding(e, "padding-left", i) - ut._calculatePadding(e, "padding-right", i), a = ut.getConstraintWidth(t); return isNaN(a) ? n : Math.min(n, a) }, ut.getMaximumHeight = function (t) { var e = ut._getParentNode(t); if (!e) return t.clientHeight; var i = e.clientHeight, n = i - ut._calculatePadding(e, "padding-top", i) - ut._calculatePadding(e, "padding-bottom", i), a = ut.getConstraintHeight(t); return isNaN(a) ? n : Math.min(n, a) }, ut.getStyle = function (t, e) { return t.currentStyle ? t.currentStyle[e] : document.defaultView.getComputedStyle(t, null).getPropertyValue(e) }, ut.retinaScale = function (t, e) { var i = t.currentDevicePixelRatio = e || "undefined" != typeof window && window.devicePixelRatio || 1; if (1 !== i) { var n = t.canvas, a = t.height, o = t.width; n.height = a * i, n.width = o * i, t.ctx.scale(i, i), n.style.height || n.style.width || (n.style.height = a + "px", n.style.width = o + "px") } }, ut.fontString = function (t, e, i) { return e + " " + t + "px " + i }, ut.longestText = function (t, e, i, n) { var a = (n = n || {}).data = n.data || {}, o = n.garbageCollect = n.garbageCollect || []; n.font !== e && (a = n.data = {}, o = n.garbageCollect = [], n.font = e), t.font = e; var r = 0; ut.each(i, function (e) { null != e && !0 !== ut.isArray(e) ? r = ut.measureText(t, a, o, r, e) : ut.isArray(e) && ut.each(e, function (e) { null == e || ut.isArray(e) || (r = ut.measureText(t, a, o, r, e)) }) }); var s = o.length / 2; if (s > i.length) { for (var l = 0; l < s; l++)delete a[o[l]]; o.splice(0, s) } return r }, ut.measureText = function (t, e, i, n, a) { var o = e[a]; return o || (o = e[a] = t.measureText(a).width, i.push(a)), o > n && (n = o), n }, ut.numberOfLabelLines = function (t) { var e = 1; return ut.each(t, function (t) { ut.isArray(t) && t.length > e && (e = t.length) }), e }, ut.color = X ? function (t) { return t instanceof CanvasGradient && (t = st.global.defaultColor), X(t) } : function (t) { return console.error("Color.js not found!"), t }, ut.getHoverColor = function (t) { return t instanceof CanvasPattern || t instanceof CanvasGradient ? t : ut.color(t).saturate(.5).darken(.1).rgbString() } }(), ai._adapters = si, ai.Animation = vt, ai.animationService = bt, ai.controllers = ue, ai.DatasetController = Mt, ai.defaults = st, ai.Element = pt, ai.elements = Wt, ai.Interaction = ve, ai.layouts = ke, ai.platform = Ve, ai.plugins = Ee, ai.Scale = fi, ai.scaleService = He, ai.Ticks = li, ai.Tooltip = Je, ai.helpers.each(tn, function (t, e) { ai.scaleService.registerScaleType(e, t, t._defaults) }), yn) yn.hasOwnProperty(_n) && ai.plugins.register(yn[_n]); ai.platform.initialize(); var Cn = ai; return "undefined" != typeof window && (window.Chart = ai), ai.Chart = ai, ai.Legend = yn.legend._element, ai.Title = yn.title._element, ai.pluginService = ai.plugins, ai.PluginBase = ai.Element.extend({}), ai.canvasHelpers = ai.helpers.canvas, ai.layoutService = ai.layouts, ai.LinearScaleBase = bi, ai.helpers.each(["Bar", "Bubble", "Doughnut", "Line", "PolarArea", "Radar", "Scatter"], function (t) { ai[t] = function (e, i) { return new ai(e, ai.helpers.merge(i || {}, { type: t.charAt(0).toLowerCase() + t.slice(1) })) } }), Cn });
__site.ProductPriceGraph = (function () {
    function ProductPriceGraph(canvas, config) { this.ui = { canvas: canvas, }; this.config = config; this.prices = window[canvas.dataset.productPriceGraph]; this.init(); }
    ProductPriceGraph.prototype = {
        init: function () { this.ui.canvas.style.backgroundColor = "white"; var ctx = this.ui.canvas.getContext("2d"); this.injectData(this.config); new Chart(ctx, this.config); }, injectData: function (config) { config.data.labels = []; config.data.datasets[0].data = []; this.prices.forEach(function (price) { config.data.labels.push(price.date); config.data.datasets[0].data.push(price.price); }); },
    }
    return ProductPriceGraph;
})(); jQuery(function ($) { $("[data-product-price-graph]").each(function () { new __site.ProductPriceGraph(this, { type: "line", data: { labels: [], datasets: [{ backgroundColor: "#67c1f5", borderColor: "#67c1f5", data: [], fill: false, lineTension: 0, pointRadius: 0, }] }, options: { events: [], responsive: true, tooltips: { enabled: false, }, legend: { display: false, }, scales: { xAxes: [{ display: false, }], yAxes: [{ display: false, ticks: { min: 0, }, }], }, layout: { padding: { top: 5, right: 0, bottom: 5, left: 0, }, }, }, }); }); });
window.addEventListener('DOMContentLoaded', () => {
    class LoadCommentsAjax {
        constructor(container) { this.ui = { container, }; this.postId = container.dataset.postId; this.bind(); }
        bind() { const links = this.ui.container.getElementsByClassName('x-pgn-link'); Array.from(links).forEach(async (link) => { if (typeof link.dataset.page !== 'undefined') { link.addEventListener('click', (e) => { e.preventDefault(); this.loadPage(link.dataset.page); }); } }); }
        async loadPage(page) { this.showLoading(); window.location.hash = '#comments'; const response = await fetch(`${__site.ajaxUrl}?action=get_comments&postId=${this.postId}&page=${page}`); const html = await response.text(); this.ui.container.innerHTML = html; jQuery(this.ui.container).find('div.rateit, span.rateit').rateit(); this.bind(); }
        showLoading() { this.ui.container.innerHTML = '<div class="loader"></div>'; }
    }
    const comments = document.getElementsByClassName('x-comments'); Array.from(comments).forEach((container) => { new LoadCommentsAjax(container); });
});
/*! This file is auto-generated */
window.addComment = function (v) { var I, C, h, E = v.document, b = { commentReplyClass: "comment-reply-link", commentReplyTitleId: "reply-title", cancelReplyId: "cancel-comment-reply-link", commentFormId: "commentform", temporaryFormId: "wp-temp-form-div", parentIdFieldId: "comment_parent", postIdFieldId: "comment_post_ID" }, e = v.MutationObserver || v.WebKitMutationObserver || v.MozMutationObserver, r = "querySelector" in E && "addEventListener" in v, n = !!E.documentElement.dataset; function t() { d(), e && new e(o).observe(E.body, { childList: !0, subtree: !0 }) } function d(e) { if (r && (I = g(b.cancelReplyId), C = g(b.commentFormId), I)) { I.addEventListener("touchstart", l), I.addEventListener("click", l); var t = function (e) { if ((e.metaKey || e.ctrlKey) && 13 === e.keyCode) return C.removeEventListener("keydown", t), e.preventDefault(), C.submit.click(), !1 }; C && C.addEventListener("keydown", t); for (var n, d = function (e) { var t = b.commentReplyClass; e && e.childNodes || (e = E); t = E.getElementsByClassName ? e.getElementsByClassName(t) : e.querySelectorAll("." + t); return t }(e), o = 0, i = d.length; o < i; o++)(n = d[o]).addEventListener("touchstart", a), n.addEventListener("click", a) } } function l(e) { var t, n, d = g(b.temporaryFormId); d && h && (g(b.parentIdFieldId).value = "0", t = d.textContent, d.parentNode.replaceChild(h, d), this.style.display = "none", n = (d = (n = g(b.commentReplyTitleId)) && n.firstChild) && d.nextSibling, d && d.nodeType === Node.TEXT_NODE && t && (n && "A" === n.nodeName && n.id !== b.cancelReplyId && (n.style.display = ""), d.textContent = t), e.preventDefault()) } function a(e) { var t = g(b.commentReplyTitleId), n = t && t.firstChild.textContent, d = this, o = m(d, "belowelement"), i = m(d, "commentid"), r = m(d, "respondelement"), t = m(d, "postid"), n = m(d, "replyto") || n; o && i && r && t && !1 === v.addComment.moveForm(o, i, r, t, n) && e.preventDefault() } function o(e) { for (var t = e.length; t--;)if (e[t].addedNodes.length) return void d() } function m(e, t) { return n ? e.dataset[t] : e.getAttribute("data-" + t) } function g(e) { return E.getElementById(e) } return r && "loading" !== E.readyState ? t() : r && v.addEventListener("DOMContentLoaded", t, !1), { init: d, moveForm: function (e, t, n, d, o) { var i = g(e); h = g(n); var r, l, a, m, c, s = g(b.parentIdFieldId), y = g(b.postIdFieldId), p = (c = g(b.commentReplyTitleId)) && c.firstChild, u = p && p.nextSibling; if (i && h && s) { void 0 === o && (o = p && p.textContent), m = h, e = b.temporaryFormId, n = g(e), c = (c = g(b.commentReplyTitleId)) ? c.firstChild.textContent : "", n || ((n = E.createElement("div")).id = e, n.style.display = "none", n.textContent = c, m.parentNode.insertBefore(n, m)), d && y && (y.value = d), s.value = t, I.style.display = "", i.parentNode.insertBefore(h, i.nextSibling), p && p.nodeType === Node.TEXT_NODE && (u && "A" === u.nodeName && u.id !== b.cancelReplyId && (u.style.display = "none"), p.textContent = o), I.onclick = function () { return !1 }; try { for (var f = 0; f < C.elements.length; f++)if (r = C.elements[f], l = !1, "getComputedStyle" in v ? a = v.getComputedStyle(r) : E.documentElement.currentStyle && (a = r.currentStyle), (r.offsetWidth <= 0 && r.offsetHeight <= 0 || "hidden" === a.visibility) && (l = !0), "hidden" !== r.type && !r.disabled && !l) { r.focus(); break } } catch (e) { } return !1 } } } }(window);
(() => { var e = { 1677: () => { function e(e) { for (var t = !!e.getAttribute("data-show-if"), r = t ? e.getAttribute("data-show-if").split(":") : e.getAttribute("data-hide-if").split(":"), n = r[0], a = (r.length > 1 ? r[1] : "*").split("|"), i = function (e, t) { for (var r = [], n = e.querySelectorAll('input[name="' + t + '"],select[name="' + t + '"],textarea[name="' + t + '"]'), a = 0; a < n.length; a++) { var i = n[a]; ("radio" !== i.type && "checkbox" !== i.type || i.checked) && r.push(i.value) } return r }(function (e) { for (var t = e; t.parentElement;)if ("FORM" === (t = t.parentElement).tagName) return t; return null }(e), n), o = !1, s = 0; s < i.length; s++) { var c = i[s]; if (o = a.indexOf(c) > -1 || a.indexOf("*") > -1 && c.length > 0) break } e.style.display = t ? o ? "" : "none" : o ? "none" : ""; var u = e.querySelectorAll("input,select,textarea");[].forEach.call(u, (function (e) { (o || t) && e.getAttribute("data-was-required") && (e.required = !0, e.removeAttribute("data-was-required")), o && t || !e.required || (e.setAttribute("data-was-required", "true"), e.required = !1) })) } function t() { var t = document.querySelectorAll(".mc4wp-form [data-show-if],.mc4wp-form [data-hide-if]");[].forEach.call(t, e) } function r(t) { if (t.target && t.target.form && !(t.target.form.className.indexOf("mc4wp-form") < 0)) { var r = t.target.form.querySelectorAll("[data-show-if],[data-hide-if]");[].forEach.call(r, e) } } document.addEventListener("keyup", r, !0), document.addEventListener("change", r, !0), document.addEventListener("mc4wp-refresh", t, !0), window.addEventListener("load", t), t() }, 2573: (e, t, r) => { var n = r(7422), a = r(3409), i = function (e, t) { this.id = e, this.element = t || document.createElement("form"), this.name = this.element.getAttribute("data-name") || "Form #" + this.id, this.errors = [], this.started = !1 }; i.prototype.setData = function (e) { try { a(this.element, e) } catch (e) { console.error(e) } }, i.prototype.getData = function () { return n(this.element, { hash: !0, empty: !0 }) }, i.prototype.getSerializedData = function () { return n(this.element, { hash: !1, empty: !0 }) }, i.prototype.setResponse = function (e) { this.element.querySelector(".mc4wp-response").innerHTML = e }, i.prototype.reset = function () { this.setResponse(""), this.element.querySelector(".mc4wp-form-fields").style.display = "", this.element.reset() }, e.exports = i }, 8592: (e, t, r) => { var n = r(2573), a = [], i = {}; function o(e, t) { i[e] = i[e] || [], i[e].forEach((function (e) { return e.apply(null, t) })) } function s(e, t) { t = t || parseInt(e.getAttribute("data-id")) || 0; var r = new n(t, e); return a.push(r), r } e.exports = { get: function (e) { e = parseInt(e); for (var t = 0; t < a.length; t++)if (a[t].id === e) return a[t]; return s(document.querySelector(".mc4wp-form-" + e), e) }, getByElement: function (e) { for (var t = e.form || e, r = 0; r < a.length; r++)if (a[r].element === t) return a[r]; return s(t) }, on: function (e, t) { i[e] = i[e] || [], i[e].push(t) }, off: function (e, t) { i[e] = i[e] || [], i[e] = i[e].filter((function (e) { return e !== t })) }, trigger: function (e, t) { "submit" === e || e.indexOf(".submit") > 0 ? o(e, t) : window.setTimeout((function () { o(e, t) }), 1) } } }, 7422: e => { var t = /^(?:submit|button|image|reset|file)$/i, r = /^(?:input|select|textarea|keygen)/i, n = /(\[[^\[\]]*\])/g; function a(e, t, r) { if (0 === t.length) return r; var n = t.shift(), i = n.match(/^\[(.+?)\]$/); if ("[]" === n) return e = e || [], Array.isArray(e) ? e.push(a(null, t, r)) : (e._values = e._values || [], e._values.push(a(null, t, r))), e; if (i) { var o = i[1], s = +o; isNaN(s) ? (e = e || {})[o] = a(e[o], t, r) : (e = e || [])[s] = a(e[s], t, r) } else e[n] = a(e[n], t, r); return e } function i(e, t, r) { if (t.match(n)) a(e, function (e) { var t = [], r = new RegExp(n), a = /^([^\[\]]*)/.exec(e); for (a[1] && t.push(a[1]); null !== (a = r.exec(e));)t.push(a[1]); return t }(t), r); else { var i = e[t]; i ? (Array.isArray(i) || (e[t] = [i]), e[t].push(r)) : e[t] = r } return e } function o(e, t, r) { return r = r.replace(/(\r)?\n/g, "\r\n"), r = (r = encodeURIComponent(r)).replace(/%20/g, "+"), e + (e ? "&" : "") + encodeURIComponent(t) + "=" + r } e.exports = function (e, n) { "object" != typeof n ? n = { hash: !!n } : void 0 === n.hash && (n.hash = !0); for (var a = n.hash ? {} : "", s = n.serializer || (n.hash ? i : o), c = e && e.elements ? e.elements : [], u = Object.create(null), l = 0; l < c.length; ++l) { var f = c[l]; if ((n.disabled || !f.disabled) && f.name && r.test(f.nodeName) && !t.test(f.type)) { var d = f.name, m = f.value; if ("checkbox" !== f.type && "radio" !== f.type || f.checked || (m = void 0), n.empty) { if ("checkbox" !== f.type || f.checked || (m = ""), "radio" === f.type && (u[f.name] || f.checked ? f.checked && (u[f.name] = !0) : u[f.name] = !1), null == m && "radio" == f.type) continue } else if (!m) continue; if ("select-multiple" !== f.type) a = s(a, d, m); else { m = []; for (var p = f.options, h = !1, v = 0; v < p.length; ++v) { var g = p[v], y = n.empty && !g.value, w = g.value || y; g.selected && w && (h = !0, a = n.hash && "[]" !== d.slice(d.length - 2) ? s(a, d + "[]", g.value) : s(a, d, g.value)) } !h && n.empty && (a = s(a, d, "")) } } } if (n.empty) for (var d in u) u[d] || (a = s(a, d, "")); return a } }, 3409: e => { e.exports && (e.exports = function e(t, r, n) { for (var a in r) if (r.hasOwnProperty(a)) { var i = a, o = r[a]; if (void 0 === o && (o = ""), null === o && (o = ""), void 0 !== n && (i = n + "[" + a + "]"), o.constructor === Array) i += "[]"; else if ("object" == typeof o) { e(t, o, i); continue } var s = t.elements.namedItem(i); if (s) switch (s.type || s[0].type) { default: s.value = o; break; case "radio": case "checkbox": for (var c = o.constructor === Array ? o : [o], u = 0; u < s.length; u++)s[u].checked = c.indexOf(s[u].value) > -1; break; case "select-multiple": c = o.constructor === Array ? o : [o]; for (var l = 0; l < s.options.length; l++)s.options[l].selected = c.indexOf(s.options[l].value) > -1; break; case "select": case "select-one": s.value = o.toString() || o; break; case "date": s.value = new Date(o).toISOString().split("T")[0] } } }) } }, t = {}; function r(n) { var a = t[n]; if (void 0 !== a) return a.exports; var i = t[n] = { exports: {} }; return e[n](i, i.exports, r), i.exports } (() => { var e = window.mc4wp || {}, t = r(8592); function n(e, r) { t.trigger(r[0].id + "." + e, r), t.trigger(e, r) } function a(e, t) { document.addEventListener(e, (function (e) { if (e.target) { var r = e.target, n = !1; "string" == typeof r.className && (n = r.className.indexOf("mc4wp-form") > -1), n || "function" != typeof r.matches || (n = r.matches(".mc4wp-form *")), n && t.call(e, e) } }), !0) } if (r(1677), a("submit", (function (e) { var r = t.getByElement(e.target); e.defaultPrevented || t.trigger(r.id + ".submit", [r, e]), e.defaultPrevented || t.trigger("submit", [r, e]) })), a("focus", (function (e) { var r = t.getByElement(e.target); r.started || (n("started", [r, e]), r.started = !0) })), a("change", (function (e) { n("change", [t.getByElement(e.target), e]) })), e.listeners) { for (var i = e.listeners, o = 0; o < i.length; o++)t.on(i[o].event, i[o].callback); delete e.listeners } e.forms = t, window.mc4wp = e })() })();